function PA(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rg={exports:{}},Fu={},ig={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function NA(){if($0)return Ze;$0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function w(W){return W===null||typeof W!="object"?null:(W=_&&W[_]||W["@@iterator"],typeof W=="function"?W:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,b={};function k(W,X,fe){this.props=W,this.context=X,this.refs=b,this.updater=fe||S}k.prototype.isReactComponent={},k.prototype.setState=function(W,X){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,X,"setState")},k.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function P(){}P.prototype=k.prototype;function M(W,X,fe){this.props=W,this.context=X,this.refs=b,this.updater=fe||S}var L=M.prototype=new P;L.constructor=M,I(L,k.prototype),L.isPureReactComponent=!0;var H=Array.isArray,Z=Object.prototype.hasOwnProperty,J={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(W,X,fe){var Se,Oe={},$e=null,ae=null;if(X!=null)for(Se in X.ref!==void 0&&(ae=X.ref),X.key!==void 0&&($e=""+X.key),X)Z.call(X,Se)&&!D.hasOwnProperty(Se)&&(Oe[Se]=X[Se]);var Ie=arguments.length-2;if(Ie===1)Oe.children=fe;else if(1<Ie){for(var je=Array(Ie),Me=0;Me<Ie;Me++)je[Me]=arguments[Me+2];Oe.children=je}if(W&&W.defaultProps)for(Se in Ie=W.defaultProps,Ie)Oe[Se]===void 0&&(Oe[Se]=Ie[Se]);return{$$typeof:n,type:W,key:$e,ref:ae,props:Oe,_owner:J.current}}function O(W,X){return{$$typeof:n,type:W.type,key:X,ref:W.ref,props:W.props,_owner:W._owner}}function j(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function U(W){var X={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(fe){return X[fe]})}var $=/\/+/g;function N(W,X){return typeof W=="object"&&W!==null&&W.key!=null?U(""+W.key):X.toString(36)}function Te(W,X,fe,Se,Oe){var $e=typeof W;($e==="undefined"||$e==="boolean")&&(W=null);var ae=!1;if(W===null)ae=!0;else switch($e){case"string":case"number":ae=!0;break;case"object":switch(W.$$typeof){case n:case e:ae=!0}}if(ae)return ae=W,Oe=Oe(ae),W=Se===""?"."+N(ae,0):Se,H(Oe)?(fe="",W!=null&&(fe=W.replace($,"$&/")+"/"),Te(Oe,X,fe,"",function(Me){return Me})):Oe!=null&&(j(Oe)&&(Oe=O(Oe,fe+(!Oe.key||ae&&ae.key===Oe.key?"":(""+Oe.key).replace($,"$&/")+"/")+W)),X.push(Oe)),1;if(ae=0,Se=Se===""?".":Se+":",H(W))for(var Ie=0;Ie<W.length;Ie++){$e=W[Ie];var je=Se+N($e,Ie);ae+=Te($e,X,fe,je,Oe)}else if(je=w(W),typeof je=="function")for(W=je.call(W),Ie=0;!($e=W.next()).done;)$e=$e.value,je=Se+N($e,Ie++),ae+=Te($e,X,fe,je,Oe);else if($e==="object")throw X=String(W),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ae}function Ae(W,X,fe){if(W==null)return W;var Se=[],Oe=0;return Te(W,Se,"","",function($e){return X.call(fe,$e,Oe++)}),Se}function _e(W){if(W._status===-1){var X=W._result;X=X(),X.then(function(fe){(W._status===0||W._status===-1)&&(W._status=1,W._result=fe)},function(fe){(W._status===0||W._status===-1)&&(W._status=2,W._result=fe)}),W._status===-1&&(W._status=0,W._result=X)}if(W._status===1)return W._result.default;throw W._result}var ee={current:null},F={transition:null},ce={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:F,ReactCurrentOwner:J};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:Ae,forEach:function(W,X,fe){Ae(W,function(){X.apply(this,arguments)},fe)},count:function(W){var X=0;return Ae(W,function(){X++}),X},toArray:function(W){return Ae(W,function(X){return X})||[]},only:function(W){if(!j(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Ze.Component=k,Ze.Fragment=t,Ze.Profiler=i,Ze.PureComponent=M,Ze.StrictMode=r,Ze.Suspense=f,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Ze.act=se,Ze.cloneElement=function(W,X,fe){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Se=I({},W.props),Oe=W.key,$e=W.ref,ae=W._owner;if(X!=null){if(X.ref!==void 0&&($e=X.ref,ae=J.current),X.key!==void 0&&(Oe=""+X.key),W.type&&W.type.defaultProps)var Ie=W.type.defaultProps;for(je in X)Z.call(X,je)&&!D.hasOwnProperty(je)&&(Se[je]=X[je]===void 0&&Ie!==void 0?Ie[je]:X[je])}var je=arguments.length-2;if(je===1)Se.children=fe;else if(1<je){Ie=Array(je);for(var Me=0;Me<je;Me++)Ie[Me]=arguments[Me+2];Se.children=Ie}return{$$typeof:n,type:W.type,key:Oe,ref:$e,props:Se,_owner:ae}},Ze.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},Ze.createElement=A,Ze.createFactory=function(W){var X=A.bind(null,W);return X.type=W,X},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(W){return{$$typeof:c,render:W}},Ze.isValidElement=j,Ze.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:_e}},Ze.memo=function(W,X){return{$$typeof:p,type:W,compare:X===void 0?null:X}},Ze.startTransition=function(W){var X=F.transition;F.transition={};try{W()}finally{F.transition=X}},Ze.unstable_act=se,Ze.useCallback=function(W,X){return ee.current.useCallback(W,X)},Ze.useContext=function(W){return ee.current.useContext(W)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(W){return ee.current.useDeferredValue(W)},Ze.useEffect=function(W,X){return ee.current.useEffect(W,X)},Ze.useId=function(){return ee.current.useId()},Ze.useImperativeHandle=function(W,X,fe){return ee.current.useImperativeHandle(W,X,fe)},Ze.useInsertionEffect=function(W,X){return ee.current.useInsertionEffect(W,X)},Ze.useLayoutEffect=function(W,X){return ee.current.useLayoutEffect(W,X)},Ze.useMemo=function(W,X){return ee.current.useMemo(W,X)},Ze.useReducer=function(W,X,fe){return ee.current.useReducer(W,X,fe)},Ze.useRef=function(W){return ee.current.useRef(W)},Ze.useState=function(W){return ee.current.useState(W)},Ze.useSyncExternalStore=function(W,X,fe){return ee.current.useSyncExternalStore(W,X,fe)},Ze.useTransition=function(){return ee.current.useTransition()},Ze.version="18.3.1",Ze}var B0;function Zv(){return B0||(B0=1,ig.exports=NA()),ig.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function DA(){if(W0)return Fu;W0=1;var n=Zv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var m,_={},w=null,S=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(S=f.ref);for(m in f)r.call(f,m)&&!o.hasOwnProperty(m)&&(_[m]=f[m]);if(c&&c.defaultProps)for(m in f=c.defaultProps,f)_[m]===void 0&&(_[m]=f[m]);return{$$typeof:e,type:c,key:w,ref:S,props:_,_owner:i.current}}return Fu.Fragment=t,Fu.jsx=l,Fu.jsxs=l,Fu}var H0;function OA(){return H0||(H0=1,rg.exports=DA()),rg.exports}var T=OA(),x=Zv();const Cs=Qv(x),LT=PA({__proto__:null,default:Cs},[x]);var Sf={},sg={exports:{}},An={},og={exports:{}},ag={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function MA(){return q0||(q0=1,function(n){function e(F,ce){var se=F.length;F.push(ce);e:for(;0<se;){var W=se-1>>>1,X=F[W];if(0<i(X,ce))F[W]=ce,F[se]=X,se=W;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ce=F[0],se=F.pop();if(se!==ce){F[0]=se;e:for(var W=0,X=F.length,fe=X>>>1;W<fe;){var Se=2*(W+1)-1,Oe=F[Se],$e=Se+1,ae=F[$e];if(0>i(Oe,se))$e<X&&0>i(ae,Oe)?(F[W]=ae,F[$e]=se,W=$e):(F[W]=Oe,F[Se]=se,W=Se);else if($e<X&&0>i(ae,se))F[W]=ae,F[$e]=se,W=$e;else break e}}return ce}function i(F,ce){var se=F.sortIndex-ce.sortIndex;return se!==0?se:F.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],p=[],m=1,_=null,w=3,S=!1,I=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(F){for(var ce=t(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=F)r(p),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=t(p)}}function H(F){if(b=!1,L(F),!I)if(t(f)!==null)I=!0,_e(Z);else{var ce=t(p);ce!==null&&ee(H,ce.startTime-F)}}function Z(F,ce){I=!1,b&&(b=!1,P(A),A=-1),S=!0;var se=w;try{for(L(ce),_=t(f);_!==null&&(!(_.expirationTime>ce)||F&&!U());){var W=_.callback;if(typeof W=="function"){_.callback=null,w=_.priorityLevel;var X=W(_.expirationTime<=ce);ce=n.unstable_now(),typeof X=="function"?_.callback=X:_===t(f)&&r(f),L(ce)}else r(f);_=t(f)}if(_!==null)var fe=!0;else{var Se=t(p);Se!==null&&ee(H,Se.startTime-ce),fe=!1}return fe}finally{_=null,w=se,S=!1}}var J=!1,D=null,A=-1,O=5,j=-1;function U(){return!(n.unstable_now()-j<O)}function $(){if(D!==null){var F=n.unstable_now();j=F;var ce=!0;try{ce=D(!0,F)}finally{ce?N():(J=!1,D=null)}}else J=!1}var N;if(typeof M=="function")N=function(){M($)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Ae=Te.port2;Te.port1.onmessage=$,N=function(){Ae.postMessage(null)}}else N=function(){k($,0)};function _e(F){D=F,J||(J=!0,N())}function ee(F,ce){A=k(function(){F(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){I||S||(I=!0,_e(Z))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(F){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var se=w;w=ce;try{return F()}finally{w=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,ce){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var se=w;w=F;try{return ce()}finally{w=se}},n.unstable_scheduleCallback=function(F,ce,se){var W=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?W+se:W):se=W,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=se+X,F={id:m++,callback:ce,priorityLevel:F,startTime:se,expirationTime:X,sortIndex:-1},se>W?(F.sortIndex=se,e(p,F),t(f)===null&&F===t(p)&&(b?(P(A),A=-1):b=!0,ee(H,se-W))):(F.sortIndex=X,e(f,F),I||S||(I=!0,_e(Z))),F},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(F){var ce=w;return function(){var se=w;w=ce;try{return F.apply(this,arguments)}finally{w=se}}}}(ag)),ag}var G0;function LA(){return G0||(G0=1,og.exports=MA()),og.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function VA(){if(K0)return An;K0=1;var n=Zv(),e=LA();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},_={};function w(s){return f.call(_,s)?!0:f.call(m,s)?!1:p.test(s)?_[s]=!0:(m[s]=!0,!1)}function S(s,a,u,h){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,a,u,h){if(a===null||typeof a>"u"||S(s,a,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(s,a,u,h,g,y,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=y,this.removeEmptyString=C}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];k[a]=new b(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function M(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(P,M);k[a]=new b(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(P,M);k[a]=new b(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(P,M);k[a]=new b(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function L(s,a,u,h){var g=k.hasOwnProperty(a)?k[a]:null;(g!==null?g.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,u,g,h)&&(u=null),h||g===null?w(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,h=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,h?s.setAttributeNS(h,a,u):s.setAttribute(a,u))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),J=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),F=Symbol.iterator;function ce(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,W;function X(s){if(W===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+s}var fe=!1;function Se(s,a){if(!s||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var h=Y}Reflect.construct(s,[],a)}else{try{a.call()}catch(Y){h=Y}s.call(a.prototype)}else{try{throw Error()}catch(Y){h=Y}s()}}catch(Y){if(Y&&h&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),y=h.stack.split(`
`),C=g.length-1,V=y.length-1;1<=C&&0<=V&&g[C]!==y[V];)V--;for(;1<=C&&0<=V;C--,V--)if(g[C]!==y[V]){if(C!==1||V!==1)do if(C--,V--,0>V||g[C]!==y[V]){var z=`
`+g[C].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=C&&0<=V);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?X(s):""}function Oe(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=Se(s.type,!1),s;case 11:return s=Se(s.type.render,!1),s;case 1:return s=Se(s.type,!0),s;default:return""}}function $e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case J:return"Portal";case O:return"Profiler";case A:return"StrictMode";case N:return"Suspense";case Te:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case j:return(s._context.displayName||"Context")+".Provider";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ae:return a=s.displayName||null,a!==null?a:$e(s.type)||"Memo";case _e:a=s._payload,s=s._init;try{return $e(s(a))}catch{}}return null}function ae(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ie(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function je(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Me(s){var a=je(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(C){h=""+C,y.call(this,C)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function He(s){s._valueTracker||(s._valueTracker=Me(s))}function Ge(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return s&&(h=je(s)?s.checked?"true":"false":s.value),s=h,s!==u?(a.setValue(s),!0):!1}function kt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function qt(s,a){var u=a.checked;return se({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Yn(s,a){var u=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;u=Ie(a.value!=null?a.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ar(s,a){a=a.checked,a!=null&&L(s,"checked",a,!1)}function lr(s,a){ar(s,a);var u=Ie(a.value),h=a.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ur(s,a.type,u):a.hasOwnProperty("defaultValue")&&ur(s,a.type,Ie(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ca(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ur(s,a,u){(a!=="number"||kt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var pi=Array.isArray;function mi(s,a,u,h){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&h&&(s[u].defaultSelected=!0)}else{for(u=""+Ie(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Gl(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function da(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(pi(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:Ie(u)}}function fa(s,a){var u=Ie(a.value),h=Ie(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function Kl(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function jt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?jt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var gi,Yl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,h,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,h,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(gi=gi||document.createElement("div"),gi.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=gi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function es(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lo=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(s){lo.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),ao[a]=ao[s]})});function Ql(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||ao.hasOwnProperty(s)&&ao[s]?(""+a).trim():a+"px"}function Zl(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var h=u.indexOf("--")===0,g=Ql(u,a[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,g):s[u]=g}}var Xl=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jl(s,a){if(a){if(Xl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function eu(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uo=null;function ha(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var pa=null,Qn=null,Fr=null;function ma(s){if(s=Su(s)){if(typeof pa!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Vd(a),pa(s.stateNode,s.type,a))}}function Ur(s){Qn?Fr?Fr.push(s):Fr=[s]:Qn=s}function tu(){if(Qn){var s=Qn,a=Fr;if(Fr=Qn=null,ma(s),a)for(s=0;s<a.length;s++)ma(a[s])}}function co(s,a){return s(a)}function nu(){}var vi=!1;function ru(s,a,u){if(vi)return s(a,u);vi=!0;try{return co(s,a,u)}finally{vi=!1,(Qn!==null||Fr!==null)&&(nu(),tu())}}function Rt(s,a){var u=s.stateNode;if(u===null)return null;var h=Vd(u);if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var ga=!1;if(c)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){ga=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{ga=!1}function fo(s,a,u,h,g,y,C,V,z){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(u,Y)}catch(ie){this.onError(ie)}}var ho=!1,va=null,dr=!1,iu=null,Pp={onError:function(s){ho=!0,va=s}};function ya(s,a,u,h,g,y,C,V,z){ho=!1,va=null,fo.apply(Pp,arguments)}function ld(s,a,u,h,g,y,C,V,z){if(ya.apply(this,arguments),ho){if(ho){var Y=va;ho=!1,va=null}else throw Error(t(198));dr||(dr=!0,iu=Y)}}function fr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function po(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function hr(s){if(fr(s)!==s)throw Error(t(188))}function ud(s){var a=s.alternate;if(!a){if(a=fr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,h=a;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return hr(g),s;if(y===h)return hr(g),a;y=y.sibling}throw Error(t(188))}if(u.return!==h.return)u=g,h=y;else{for(var C=!1,V=g.child;V;){if(V===u){C=!0,u=g,h=y;break}if(V===h){C=!0,h=g,u=y;break}V=V.sibling}if(!C){for(V=y.child;V;){if(V===u){C=!0,u=y,h=g;break}if(V===h){C=!0,h=y,u=g;break}V=V.sibling}if(!C)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function su(s){return s=ud(s),s!==null?_a(s):null}function _a(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=_a(s);if(a!==null)return a;s=s.sibling}return null}var wa=e.unstable_scheduleCallback,ou=e.unstable_cancelCallback,cd=e.unstable_shouldYield,Np=e.unstable_requestPaint,mt=e.unstable_now,dd=e.unstable_getCurrentPriorityLevel,mo=e.unstable_ImmediatePriority,ts=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,au=e.unstable_LowPriority,fd=e.unstable_IdlePriority,go=null,Mn=null;function hd(s){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(go,s,void 0,(s.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:md,lu=Math.log,pd=Math.LN2;function md(s){return s>>>=0,s===0?32:31-(lu(s)/pd|0)|0}var Ea=64,xa=4194304;function ns(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function vo(s,a){var u=s.pendingLanes;if(u===0)return 0;var h=0,g=s.suspendedLanes,y=s.pingedLanes,C=u&268435455;if(C!==0){var V=C&~g;V!==0?h=ns(V):(y&=C,y!==0&&(h=ns(y)))}else C=u&~g,C!==0?h=ns(C):y!==0&&(h=ns(y));if(h===0)return 0;if(a!==0&&a!==h&&(a&g)===0&&(g=h&-h,y=a&-a,g>=y||g===16&&(y&4194240)!==0))return a;if((h&4)!==0&&(h|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=h;0<a;)u=31-gn(a),g=1<<u,h|=s[u],a&=~g;return h}function Dp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yi(s,a){for(var u=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes;0<y;){var C=31-gn(y),V=1<<C,z=g[C];z===-1?((V&u)===0||(V&h)!==0)&&(g[C]=Dp(V,a)):z<=a&&(s.expiredLanes|=V),y&=~V}}function Ln(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yo(){var s=Ea;return Ea<<=1,(Ea&4194240)===0&&(Ea=64),s}function rs(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function is(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-gn(a),s[a]=u}function pt(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-gn(u),y=1<<g;a[g]=0,h[g]=-1,s[g]=-1,u&=~y}}function ss(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var h=31-gn(u),g=1<<h;g&a|s[h]&a&&(s[h]|=a),u&=~g}}var et=0;function os(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var gd,Ta,vd,yd,_d,uu=!1,zr=[],Xt=null,pr=null,mr=null,as=new Map,Xn=new Map,$r=[],Op="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wd(s,a){switch(s){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":as.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xn.delete(a.pointerId)}}function xn(s,a,u,h,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},a!==null&&(a=Su(a),a!==null&&Ta(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Mp(s,a,u,h,g){switch(a){case"focusin":return Xt=xn(Xt,s,a,u,h,g),!0;case"dragenter":return pr=xn(pr,s,a,u,h,g),!0;case"mouseover":return mr=xn(mr,s,a,u,h,g),!0;case"pointerover":var y=g.pointerId;return as.set(y,xn(as.get(y)||null,s,a,u,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Xn.set(y,xn(Xn.get(y)||null,s,a,u,h,g)),!0}return!1}function Ed(s){var a=To(s.target);if(a!==null){var u=fr(a);if(u!==null){if(a=u.tag,a===13){if(a=po(u),a!==null){s.blockedOn=a,_d(s.priority,function(){vd(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function _i(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Sa(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);uo=h,u.target.dispatchEvent(h),uo=null}else return a=Su(u),a!==null&&Ta(a),s.blockedOn=u,!1;a.shift()}return!0}function _o(s,a,u){_i(s)&&u.delete(a)}function xd(){uu=!1,Xt!==null&&_i(Xt)&&(Xt=null),pr!==null&&_i(pr)&&(pr=null),mr!==null&&_i(mr)&&(mr=null),as.forEach(_o),Xn.forEach(_o)}function gr(s,a){s.blockedOn===a&&(s.blockedOn=null,uu||(uu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xd)))}function vr(s){function a(g){return gr(g,s)}if(0<zr.length){gr(zr[0],s);for(var u=1;u<zr.length;u++){var h=zr[u];h.blockedOn===s&&(h.blockedOn=null)}}for(Xt!==null&&gr(Xt,s),pr!==null&&gr(pr,s),mr!==null&&gr(mr,s),as.forEach(a),Xn.forEach(a),u=0;u<$r.length;u++)h=$r[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<$r.length&&(u=$r[0],u.blockedOn===null);)Ed(u),u.blockedOn===null&&$r.shift()}var wi=H.ReactCurrentBatchConfig,ls=!0;function Et(s,a,u,h){var g=et,y=wi.transition;wi.transition=null;try{et=1,cu(s,a,u,h)}finally{et=g,wi.transition=y}}function Lp(s,a,u,h){var g=et,y=wi.transition;wi.transition=null;try{et=4,cu(s,a,u,h)}finally{et=g,wi.transition=y}}function cu(s,a,u,h){if(ls){var g=Sa(s,a,u,h);if(g===null)Gp(s,a,h,wo,u),wd(s,h);else if(Mp(g,s,a,u,h))h.stopPropagation();else if(wd(s,h),a&4&&-1<Op.indexOf(s)){for(;g!==null;){var y=Su(g);if(y!==null&&gd(y),y=Sa(s,a,u,h),y===null&&Gp(s,a,h,wo,u),y===g)break;g=y}g!==null&&h.stopPropagation()}else Gp(s,a,h,null,u)}}var wo=null;function Sa(s,a,u,h){if(wo=null,s=ha(h),s=To(s),s!==null)if(a=fr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=po(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return wo=s,null}function du(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dd()){case mo:return 1;case ts:return 4;case Zn:case au:return 16;case fd:return 536870912;default:return 16}default:return 16}}var Vn=null,ba=null,Tn=null;function fu(){if(Tn)return Tn;var s,a=ba,u=a.length,h,g="value"in Vn?Vn.value:Vn.textContent,y=g.length;for(s=0;s<u&&a[s]===g[s];s++);var C=u-s;for(h=1;h<=C&&a[u-h]===g[y-h];h++);return Tn=g.slice(s,1<h?1-h:void 0)}function Ia(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Br(){return!0}function hu(){return!1}function Jt(s){function a(u,h,g,y,C){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(u=s[V],this[V]=u?u(y):y[V]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Br:hu,this.isPropagationStopped=hu,this}return se(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),a}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Jt(yr),Wr=se({},yr,{view:0,detail:0}),Vp=Jt(Wr),ka,Ei,us,Eo=se({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==us&&(us&&s.type==="mousemove"?(ka=s.screenX-us.screenX,Ei=s.screenY-us.screenY):Ei=ka=0,us=s),ka)},movementY:function(s){return"movementY"in s?s.movementY:Ei}}),Aa=Jt(Eo),pu=se({},Eo,{dataTransfer:0}),Td=Jt(pu),Ra=se({},Wr,{relatedTarget:0}),Pa=Jt(Ra),Sd=se({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),xi=Jt(Sd),bd=se({},yr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Id=Jt(bd),Cd=se({},yr,{data:0}),mu=Jt(Cd),Na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ad(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=kd[s])?!!a[s]:!1}function Hr(){return Ad}var d=se({},Wr,{key:function(s){if(s.key){var a=Na[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ia(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(s){return s.type==="keypress"?Ia(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ia(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Jt(d),E=se({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=Jt(E),q=se({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),Q=Jt(q),de=se({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=Jt(de),Ut=se({},Eo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=Jt(Ut),Gt=[9,13,27,32],Ot=c&&"CompositionEvent"in window,Jn=null;c&&"documentMode"in document&&(Jn=document.documentMode);var jn=c&&"TextEvent"in window&&!Jn,xo=c&&(!Ot||Jn&&8<Jn&&11>=Jn),Da=" ",L_=!1;function V_(s,a){switch(s){case"keyup":return Gt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Oa=!1;function kk(s,a){switch(s){case"compositionend":return j_(a);case"keypress":return a.which!==32?null:(L_=!0,Da);case"textInput":return s=a.data,s===Da&&L_?null:s;default:return null}}function Ak(s,a){if(Oa)return s==="compositionend"||!Ot&&V_(s,a)?(s=fu(),Tn=ba=Vn=null,Oa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return xo&&a.locale!=="ko"?null:a.data;default:return null}}var Rk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Rk[s.type]:a==="textarea"}function U_(s,a,u,h){Ur(h),a=Od(a,"onChange"),0<a.length&&(u=new Ca("onChange","change",null,u,h),s.push({event:u,listeners:a}))}var gu=null,vu=null;function Pk(s){iw(s,0)}function Rd(s){var a=Fa(s);if(Ge(a))return s}function Nk(s,a){if(s==="change")return a}var z_=!1;if(c){var jp;if(c){var Fp="oninput"in document;if(!Fp){var $_=document.createElement("div");$_.setAttribute("oninput","return;"),Fp=typeof $_.oninput=="function"}jp=Fp}else jp=!1;z_=jp&&(!document.documentMode||9<document.documentMode)}function B_(){gu&&(gu.detachEvent("onpropertychange",W_),vu=gu=null)}function W_(s){if(s.propertyName==="value"&&Rd(vu)){var a=[];U_(a,vu,s,ha(s)),ru(Pk,a)}}function Dk(s,a,u){s==="focusin"?(B_(),gu=a,vu=u,gu.attachEvent("onpropertychange",W_)):s==="focusout"&&B_()}function Ok(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Rd(vu)}function Mk(s,a){if(s==="click")return Rd(a)}function Lk(s,a){if(s==="input"||s==="change")return Rd(a)}function Vk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var _r=typeof Object.is=="function"?Object.is:Vk;function yu(s,a){if(_r(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!f.call(a,g)||!_r(s[g],a[g]))return!1}return!0}function H_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function q_(s,a){var u=H_(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=a&&h>=a)return{node:u,offset:a-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=H_(u)}}function G_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?G_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function K_(){for(var s=window,a=kt();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=kt(s.document)}return a}function Up(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function jk(s){var a=K_(),u=s.focusedElem,h=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&G_(u.ownerDocument.documentElement,u)){if(h!==null&&Up(u)){if(a=h.start,s=h.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,y=Math.min(h.start,g);h=h.end===void 0?y:Math.min(h.end,g),!s.extend&&y>h&&(g=h,h=y,y=g),g=q_(u,y);var C=q_(u,h);g&&C&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),y>h?(s.addRange(a),s.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Fk=c&&"documentMode"in document&&11>=document.documentMode,Ma=null,zp=null,_u=null,$p=!1;function Y_(s,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;$p||Ma==null||Ma!==kt(h)||(h=Ma,"selectionStart"in h&&Up(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),_u&&yu(_u,h)||(_u=h,h=Od(zp,"onSelect"),0<h.length&&(a=new Ca("onSelect","select",null,a,u),s.push({event:a,listeners:h}),a.target=Ma)))}function Pd(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var La={animationend:Pd("Animation","AnimationEnd"),animationiteration:Pd("Animation","AnimationIteration"),animationstart:Pd("Animation","AnimationStart"),transitionend:Pd("Transition","TransitionEnd")},Bp={},Q_={};c&&(Q_=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Nd(s){if(Bp[s])return Bp[s];if(!La[s])return s;var a=La[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Q_)return Bp[s]=a[u];return s}var Z_=Nd("animationend"),X_=Nd("animationiteration"),J_=Nd("animationstart"),ew=Nd("transitionend"),tw=new Map,nw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cs(s,a){tw.set(s,a),o(a,[s])}for(var Wp=0;Wp<nw.length;Wp++){var Hp=nw[Wp],Uk=Hp.toLowerCase(),zk=Hp[0].toUpperCase()+Hp.slice(1);cs(Uk,"on"+zk)}cs(Z_,"onAnimationEnd"),cs(X_,"onAnimationIteration"),cs(J_,"onAnimationStart"),cs("dblclick","onDoubleClick"),cs("focusin","onFocus"),cs("focusout","onBlur"),cs(ew,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$k=new Set("cancel close invalid load scroll toggle".split(" ").concat(wu));function rw(s,a,u){var h=s.type||"unknown-event";s.currentTarget=u,ld(h,a,void 0,s),s.currentTarget=null}function iw(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],g=h.event;h=h.listeners;e:{var y=void 0;if(a)for(var C=h.length-1;0<=C;C--){var V=h[C],z=V.instance,Y=V.currentTarget;if(V=V.listener,z!==y&&g.isPropagationStopped())break e;rw(g,V,Y),y=z}else for(C=0;C<h.length;C++){if(V=h[C],z=V.instance,Y=V.currentTarget,V=V.listener,z!==y&&g.isPropagationStopped())break e;rw(g,V,Y),y=z}}}if(dr)throw s=iu,dr=!1,iu=null,s}function yt(s,a){var u=a[Jp];u===void 0&&(u=a[Jp]=new Set);var h=s+"__bubble";u.has(h)||(sw(a,s,2,!1),u.add(h))}function qp(s,a,u){var h=0;a&&(h|=4),sw(u,s,h,a)}var Dd="_reactListening"+Math.random().toString(36).slice(2);function Eu(s){if(!s[Dd]){s[Dd]=!0,r.forEach(function(u){u!=="selectionchange"&&($k.has(u)||qp(u,!1,s),qp(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Dd]||(a[Dd]=!0,qp("selectionchange",!1,a))}}function sw(s,a,u,h){switch(du(a)){case 1:var g=Et;break;case 4:g=Lp;break;default:g=cu}u=g.bind(null,a,u,s),g=void 0,!ga||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function Gp(s,a,u,h,g){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var V=h.stateNode.containerInfo;if(V===g||V.nodeType===8&&V.parentNode===g)break;if(C===4)for(C=h.return;C!==null;){var z=C.tag;if((z===3||z===4)&&(z=C.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;C=C.return}for(;V!==null;){if(C=To(V),C===null)return;if(z=C.tag,z===5||z===6){h=y=C;continue e}V=V.parentNode}}h=h.return}ru(function(){var Y=y,ie=ha(u),oe=[];e:{var re=tw.get(s);if(re!==void 0){var pe=Ca,we=s;switch(s){case"keypress":if(Ia(u)===0)break e;case"keydown":case"keyup":pe=v;break;case"focusin":we="focus",pe=Pa;break;case"focusout":we="blur",pe=Pa;break;case"beforeblur":case"afterblur":pe=Pa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Td;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Q;break;case Z_:case X_:case J_:pe=xi;break;case ew:pe=dt;break;case"scroll":pe=Vp;break;case"wheel":pe=tt;break;case"copy":case"cut":case"paste":pe=Id;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=R}var be=(a&4)!==0,Pt=!be&&s==="scroll",G=be?re!==null?re+"Capture":null:re;be=[];for(var B=Y,K;B!==null;){K=B;var ue=K.stateNode;if(K.tag===5&&ue!==null&&(K=ue,G!==null&&(ue=Rt(B,G),ue!=null&&be.push(xu(B,ue,K)))),Pt)break;B=B.return}0<be.length&&(re=new pe(re,we,null,u,ie),oe.push({event:re,listeners:be}))}}if((a&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",re&&u!==uo&&(we=u.relatedTarget||u.fromElement)&&(To(we)||we[Ti]))break e;if((pe||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,pe?(we=u.relatedTarget||u.toElement,pe=Y,we=we?To(we):null,we!==null&&(Pt=fr(we),we!==Pt||we.tag!==5&&we.tag!==6)&&(we=null)):(pe=null,we=Y),pe!==we)){if(be=Aa,ue="onMouseLeave",G="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(be=R,ue="onPointerLeave",G="onPointerEnter",B="pointer"),Pt=pe==null?re:Fa(pe),K=we==null?re:Fa(we),re=new be(ue,B+"leave",pe,u,ie),re.target=Pt,re.relatedTarget=K,ue=null,To(ie)===Y&&(be=new be(G,B+"enter",we,u,ie),be.target=K,be.relatedTarget=Pt,ue=be),Pt=ue,pe&&we)t:{for(be=pe,G=we,B=0,K=be;K;K=Va(K))B++;for(K=0,ue=G;ue;ue=Va(ue))K++;for(;0<B-K;)be=Va(be),B--;for(;0<K-B;)G=Va(G),K--;for(;B--;){if(be===G||G!==null&&be===G.alternate)break t;be=Va(be),G=Va(G)}be=null}else be=null;pe!==null&&ow(oe,re,pe,be,!1),we!==null&&Pt!==null&&ow(oe,Pt,we,be,!0)}}e:{if(re=Y?Fa(Y):window,pe=re.nodeName&&re.nodeName.toLowerCase(),pe==="select"||pe==="input"&&re.type==="file")var Ce=Nk;else if(F_(re))if(z_)Ce=Lk;else{Ce=Ok;var Ne=Dk}else(pe=re.nodeName)&&pe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ce=Mk);if(Ce&&(Ce=Ce(s,Y))){U_(oe,Ce,u,ie);break e}Ne&&Ne(s,re,Y),s==="focusout"&&(Ne=re._wrapperState)&&Ne.controlled&&re.type==="number"&&ur(re,"number",re.value)}switch(Ne=Y?Fa(Y):window,s){case"focusin":(F_(Ne)||Ne.contentEditable==="true")&&(Ma=Ne,zp=Y,_u=null);break;case"focusout":_u=zp=Ma=null;break;case"mousedown":$p=!0;break;case"contextmenu":case"mouseup":case"dragend":$p=!1,Y_(oe,u,ie);break;case"selectionchange":if(Fk)break;case"keydown":case"keyup":Y_(oe,u,ie)}var De;if(Ot)e:{switch(s){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Oa?V_(s,u)&&(ze="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(ze="onCompositionStart");ze&&(xo&&u.locale!=="ko"&&(Oa||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Oa&&(De=fu()):(Vn=ie,ba="value"in Vn?Vn.value:Vn.textContent,Oa=!0)),Ne=Od(Y,ze),0<Ne.length&&(ze=new mu(ze,s,null,u,ie),oe.push({event:ze,listeners:Ne}),De?ze.data=De:(De=j_(u),De!==null&&(ze.data=De)))),(De=jn?kk(s,u):Ak(s,u))&&(Y=Od(Y,"onBeforeInput"),0<Y.length&&(ie=new mu("onBeforeInput","beforeinput",null,u,ie),oe.push({event:ie,listeners:Y}),ie.data=De))}iw(oe,a)})}function xu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Od(s,a){for(var u=a+"Capture",h=[];s!==null;){var g=s,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=Rt(s,u),y!=null&&h.unshift(xu(s,y,g)),y=Rt(s,a),y!=null&&h.push(xu(s,y,g))),s=s.return}return h}function Va(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ow(s,a,u,h,g){for(var y=a._reactName,C=[];u!==null&&u!==h;){var V=u,z=V.alternate,Y=V.stateNode;if(z!==null&&z===h)break;V.tag===5&&Y!==null&&(V=Y,g?(z=Rt(u,y),z!=null&&C.unshift(xu(u,z,V))):g||(z=Rt(u,y),z!=null&&C.push(xu(u,z,V)))),u=u.return}C.length!==0&&s.push({event:a,listeners:C})}var Bk=/\r\n?/g,Wk=/\u0000|\uFFFD/g;function aw(s){return(typeof s=="string"?s:""+s).replace(Bk,`
`).replace(Wk,"")}function Md(s,a,u){if(a=aw(a),aw(s)!==a&&u)throw Error(t(425))}function Ld(){}var Kp=null,Yp=null;function Qp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Zp=typeof setTimeout=="function"?setTimeout:void 0,Hk=typeof clearTimeout=="function"?clearTimeout:void 0,lw=typeof Promise=="function"?Promise:void 0,qk=typeof queueMicrotask=="function"?queueMicrotask:typeof lw<"u"?function(s){return lw.resolve(null).then(s).catch(Gk)}:Zp;function Gk(s){setTimeout(function(){throw s})}function Xp(s,a){var u=a,h=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(h===0){s.removeChild(g),vr(a);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=g}while(u);vr(a)}function ds(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function uw(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var ja=Math.random().toString(36).slice(2),qr="__reactFiber$"+ja,Tu="__reactProps$"+ja,Ti="__reactContainer$"+ja,Jp="__reactEvents$"+ja,Kk="__reactListeners$"+ja,Yk="__reactHandles$"+ja;function To(s){var a=s[qr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Ti]||u[qr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=uw(s);s!==null;){if(u=s[qr])return u;s=uw(s)}return a}s=u,u=s.parentNode}return null}function Su(s){return s=s[qr]||s[Ti],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Fa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Vd(s){return s[Tu]||null}var em=[],Ua=-1;function fs(s){return{current:s}}function _t(s){0>Ua||(s.current=em[Ua],em[Ua]=null,Ua--)}function gt(s,a){Ua++,em[Ua]=s.current,s.current=a}var hs={},on=fs(hs),Sn=fs(!1),So=hs;function za(s,a){var u=s.type.contextTypes;if(!u)return hs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in u)g[y]=a[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function bn(s){return s=s.childContextTypes,s!=null}function jd(){_t(Sn),_t(on)}function cw(s,a,u){if(on.current!==hs)throw Error(t(168));gt(on,a),gt(Sn,u)}function dw(s,a,u){var h=s.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var g in h)if(!(g in a))throw Error(t(108,ae(s)||"Unknown",g));return se({},u,h)}function Fd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||hs,So=on.current,gt(on,s),gt(Sn,Sn.current),!0}function fw(s,a,u){var h=s.stateNode;if(!h)throw Error(t(169));u?(s=dw(s,a,So),h.__reactInternalMemoizedMergedChildContext=s,_t(Sn),_t(on),gt(on,s)):_t(Sn),gt(Sn,u)}var Si=null,Ud=!1,tm=!1;function hw(s){Si===null?Si=[s]:Si.push(s)}function Qk(s){Ud=!0,hw(s)}function ps(){if(!tm&&Si!==null){tm=!0;var s=0,a=et;try{var u=Si;for(et=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}Si=null,Ud=!1}catch(g){throw Si!==null&&(Si=Si.slice(s+1)),wa(mo,ps),g}finally{et=a,tm=!1}}return null}var $a=[],Ba=0,zd=null,$d=0,er=[],tr=0,bo=null,bi=1,Ii="";function Io(s,a){$a[Ba++]=$d,$a[Ba++]=zd,zd=s,$d=a}function pw(s,a,u){er[tr++]=bi,er[tr++]=Ii,er[tr++]=bo,bo=s;var h=bi;s=Ii;var g=32-gn(h)-1;h&=~(1<<g),u+=1;var y=32-gn(a)+g;if(30<y){var C=g-g%5;y=(h&(1<<C)-1).toString(32),h>>=C,g-=C,bi=1<<32-gn(a)+g|u<<g|h,Ii=y+s}else bi=1<<y|u<<g|h,Ii=s}function nm(s){s.return!==null&&(Io(s,1),pw(s,1,0))}function rm(s){for(;s===zd;)zd=$a[--Ba],$a[Ba]=null,$d=$a[--Ba],$a[Ba]=null;for(;s===bo;)bo=er[--tr],er[tr]=null,Ii=er[--tr],er[tr]=null,bi=er[--tr],er[tr]=null}var Fn=null,Un=null,xt=!1,wr=null;function mw(s,a){var u=sr(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function gw(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Fn=s,Un=ds(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Fn=s,Un=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=bo!==null?{id:bi,overflow:Ii}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=sr(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Fn=s,Un=null,!0):!1;default:return!1}}function im(s){return(s.mode&1)!==0&&(s.flags&128)===0}function sm(s){if(xt){var a=Un;if(a){var u=a;if(!gw(s,a)){if(im(s))throw Error(t(418));a=ds(u.nextSibling);var h=Fn;a&&gw(s,a)?mw(h,u):(s.flags=s.flags&-4097|2,xt=!1,Fn=s)}}else{if(im(s))throw Error(t(418));s.flags=s.flags&-4097|2,xt=!1,Fn=s}}}function vw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Fn=s}function Bd(s){if(s!==Fn)return!1;if(!xt)return vw(s),xt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Qp(s.type,s.memoizedProps)),a&&(a=Un)){if(im(s))throw yw(),Error(t(418));for(;a;)mw(s,a),a=ds(a.nextSibling)}if(vw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Un=ds(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Un=null}}else Un=Fn?ds(s.stateNode.nextSibling):null;return!0}function yw(){for(var s=Un;s;)s=ds(s.nextSibling)}function Wa(){Un=Fn=null,xt=!1}function om(s){wr===null?wr=[s]:wr.push(s)}var Zk=H.ReactCurrentBatchConfig;function bu(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,s));var g=h,y=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(C){var V=g.refs;C===null?delete V[y]:V[y]=C},a._stringRef=y,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Wd(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function _w(s){var a=s._init;return a(s._payload)}function ww(s){function a(G,B){if(s){var K=G.deletions;K===null?(G.deletions=[B],G.flags|=16):K.push(B)}}function u(G,B){if(!s)return null;for(;B!==null;)a(G,B),B=B.sibling;return null}function h(G,B){for(G=new Map;B!==null;)B.key!==null?G.set(B.key,B):G.set(B.index,B),B=B.sibling;return G}function g(G,B){return G=xs(G,B),G.index=0,G.sibling=null,G}function y(G,B,K){return G.index=K,s?(K=G.alternate,K!==null?(K=K.index,K<B?(G.flags|=2,B):K):(G.flags|=2,B)):(G.flags|=1048576,B)}function C(G){return s&&G.alternate===null&&(G.flags|=2),G}function V(G,B,K,ue){return B===null||B.tag!==6?(B=Zm(K,G.mode,ue),B.return=G,B):(B=g(B,K),B.return=G,B)}function z(G,B,K,ue){var Ce=K.type;return Ce===D?ie(G,B,K.props.children,ue,K.key):B!==null&&(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===_e&&_w(Ce)===B.type)?(ue=g(B,K.props),ue.ref=bu(G,B,K),ue.return=G,ue):(ue=mf(K.type,K.key,K.props,null,G.mode,ue),ue.ref=bu(G,B,K),ue.return=G,ue)}function Y(G,B,K,ue){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Xm(K,G.mode,ue),B.return=G,B):(B=g(B,K.children||[]),B.return=G,B)}function ie(G,B,K,ue,Ce){return B===null||B.tag!==7?(B=Oo(K,G.mode,ue,Ce),B.return=G,B):(B=g(B,K),B.return=G,B)}function oe(G,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Zm(""+B,G.mode,K),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Z:return K=mf(B.type,B.key,B.props,null,G.mode,K),K.ref=bu(G,null,B),K.return=G,K;case J:return B=Xm(B,G.mode,K),B.return=G,B;case _e:var ue=B._init;return oe(G,ue(B._payload),K)}if(pi(B)||ce(B))return B=Oo(B,G.mode,K,null),B.return=G,B;Wd(G,B)}return null}function re(G,B,K,ue){var Ce=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ce!==null?null:V(G,B,""+K,ue);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Z:return K.key===Ce?z(G,B,K,ue):null;case J:return K.key===Ce?Y(G,B,K,ue):null;case _e:return Ce=K._init,re(G,B,Ce(K._payload),ue)}if(pi(K)||ce(K))return Ce!==null?null:ie(G,B,K,ue,null);Wd(G,K)}return null}function pe(G,B,K,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return G=G.get(K)||null,V(B,G,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Z:return G=G.get(ue.key===null?K:ue.key)||null,z(B,G,ue,Ce);case J:return G=G.get(ue.key===null?K:ue.key)||null,Y(B,G,ue,Ce);case _e:var Ne=ue._init;return pe(G,B,K,Ne(ue._payload),Ce)}if(pi(ue)||ce(ue))return G=G.get(K)||null,ie(B,G,ue,Ce,null);Wd(B,ue)}return null}function we(G,B,K,ue){for(var Ce=null,Ne=null,De=B,ze=B=0,Qt=null;De!==null&&ze<K.length;ze++){De.index>ze?(Qt=De,De=null):Qt=De.sibling;var at=re(G,De,K[ze],ue);if(at===null){De===null&&(De=Qt);break}s&&De&&at.alternate===null&&a(G,De),B=y(at,B,ze),Ne===null?Ce=at:Ne.sibling=at,Ne=at,De=Qt}if(ze===K.length)return u(G,De),xt&&Io(G,ze),Ce;if(De===null){for(;ze<K.length;ze++)De=oe(G,K[ze],ue),De!==null&&(B=y(De,B,ze),Ne===null?Ce=De:Ne.sibling=De,Ne=De);return xt&&Io(G,ze),Ce}for(De=h(G,De);ze<K.length;ze++)Qt=pe(De,G,ze,K[ze],ue),Qt!==null&&(s&&Qt.alternate!==null&&De.delete(Qt.key===null?ze:Qt.key),B=y(Qt,B,ze),Ne===null?Ce=Qt:Ne.sibling=Qt,Ne=Qt);return s&&De.forEach(function(Ts){return a(G,Ts)}),xt&&Io(G,ze),Ce}function be(G,B,K,ue){var Ce=ce(K);if(typeof Ce!="function")throw Error(t(150));if(K=Ce.call(K),K==null)throw Error(t(151));for(var Ne=Ce=null,De=B,ze=B=0,Qt=null,at=K.next();De!==null&&!at.done;ze++,at=K.next()){De.index>ze?(Qt=De,De=null):Qt=De.sibling;var Ts=re(G,De,at.value,ue);if(Ts===null){De===null&&(De=Qt);break}s&&De&&Ts.alternate===null&&a(G,De),B=y(Ts,B,ze),Ne===null?Ce=Ts:Ne.sibling=Ts,Ne=Ts,De=Qt}if(at.done)return u(G,De),xt&&Io(G,ze),Ce;if(De===null){for(;!at.done;ze++,at=K.next())at=oe(G,at.value,ue),at!==null&&(B=y(at,B,ze),Ne===null?Ce=at:Ne.sibling=at,Ne=at);return xt&&Io(G,ze),Ce}for(De=h(G,De);!at.done;ze++,at=K.next())at=pe(De,G,ze,at.value,ue),at!==null&&(s&&at.alternate!==null&&De.delete(at.key===null?ze:at.key),B=y(at,B,ze),Ne===null?Ce=at:Ne.sibling=at,Ne=at);return s&&De.forEach(function(RA){return a(G,RA)}),xt&&Io(G,ze),Ce}function Pt(G,B,K,ue){if(typeof K=="object"&&K!==null&&K.type===D&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Z:e:{for(var Ce=K.key,Ne=B;Ne!==null;){if(Ne.key===Ce){if(Ce=K.type,Ce===D){if(Ne.tag===7){u(G,Ne.sibling),B=g(Ne,K.props.children),B.return=G,G=B;break e}}else if(Ne.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===_e&&_w(Ce)===Ne.type){u(G,Ne.sibling),B=g(Ne,K.props),B.ref=bu(G,Ne,K),B.return=G,G=B;break e}u(G,Ne);break}else a(G,Ne);Ne=Ne.sibling}K.type===D?(B=Oo(K.props.children,G.mode,ue,K.key),B.return=G,G=B):(ue=mf(K.type,K.key,K.props,null,G.mode,ue),ue.ref=bu(G,B,K),ue.return=G,G=ue)}return C(G);case J:e:{for(Ne=K.key;B!==null;){if(B.key===Ne)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){u(G,B.sibling),B=g(B,K.children||[]),B.return=G,G=B;break e}else{u(G,B);break}else a(G,B);B=B.sibling}B=Xm(K,G.mode,ue),B.return=G,G=B}return C(G);case _e:return Ne=K._init,Pt(G,B,Ne(K._payload),ue)}if(pi(K))return we(G,B,K,ue);if(ce(K))return be(G,B,K,ue);Wd(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(u(G,B.sibling),B=g(B,K),B.return=G,G=B):(u(G,B),B=Zm(K,G.mode,ue),B.return=G,G=B),C(G)):u(G,B)}return Pt}var Ha=ww(!0),Ew=ww(!1),Hd=fs(null),qd=null,qa=null,am=null;function lm(){am=qa=qd=null}function um(s){var a=Hd.current;_t(Hd),s._currentValue=a}function cm(s,a,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===u)break;s=s.return}}function Ga(s,a){qd=s,am=qa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(In=!0),s.firstContext=null)}function nr(s){var a=s._currentValue;if(am!==s)if(s={context:s,memoizedValue:a,next:null},qa===null){if(qd===null)throw Error(t(308));qa=s,qd.dependencies={lanes:0,firstContext:s}}else qa=qa.next=s;return a}var Co=null;function dm(s){Co===null?Co=[s]:Co.push(s)}function xw(s,a,u,h){var g=a.interleaved;return g===null?(u.next=u,dm(a)):(u.next=g.next,g.next=u),a.interleaved=u,Ci(s,h)}function Ci(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var ms=!1;function fm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tw(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ki(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function gs(s,a,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(it&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,Ci(s,u)}return g=h.interleaved,g===null?(a.next=a,dm(h)):(a.next=g.next,g.next=a),h.interleaved=a,Ci(s,u)}function Gd(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,ss(s,u)}}function Sw(s,a){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?g=y=C:y=y.next=C,u=u.next}while(u!==null);y===null?g=y=a:y=y.next=a}else g=y=a;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Kd(s,a,u,h){var g=s.updateQueue;ms=!1;var y=g.firstBaseUpdate,C=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var z=V,Y=z.next;z.next=null,C===null?y=Y:C.next=Y,C=z;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,V=ie.lastBaseUpdate,V!==C&&(V===null?ie.firstBaseUpdate=Y:V.next=Y,ie.lastBaseUpdate=z))}if(y!==null){var oe=g.baseState;C=0,ie=Y=z=null,V=y;do{var re=V.lane,pe=V.eventTime;if((h&re)===re){ie!==null&&(ie=ie.next={eventTime:pe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var we=s,be=V;switch(re=a,pe=u,be.tag){case 1:if(we=be.payload,typeof we=="function"){oe=we.call(pe,oe,re);break e}oe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,re=typeof we=="function"?we.call(pe,oe,re):we,re==null)break e;oe=se({},oe,re);break e;case 2:ms=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,re=g.effects,re===null?g.effects=[V]:re.push(V))}else pe={eventTime:pe,lane:re,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ie===null?(Y=ie=pe,z=oe):ie=ie.next=pe,C|=re;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;re=V,V=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);if(ie===null&&(z=oe),g.baseState=z,g.firstBaseUpdate=Y,g.lastBaseUpdate=ie,a=g.shared.interleaved,a!==null){g=a;do C|=g.lane,g=g.next;while(g!==a)}else y===null&&(g.shared.lanes=0);Ro|=C,s.lanes=C,s.memoizedState=oe}}function bw(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var h=s[a],g=h.callback;if(g!==null){if(h.callback=null,h=u,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var Iu={},Gr=fs(Iu),Cu=fs(Iu),ku=fs(Iu);function ko(s){if(s===Iu)throw Error(t(174));return s}function hm(s,a){switch(gt(ku,a),gt(Cu,s),gt(Gr,Iu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ft(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Ft(a,s)}_t(Gr),gt(Gr,a)}function Ka(){_t(Gr),_t(Cu),_t(ku)}function Iw(s){ko(ku.current);var a=ko(Gr.current),u=Ft(a,s.type);a!==u&&(gt(Cu,s),gt(Gr,u))}function pm(s){Cu.current===s&&(_t(Gr),_t(Cu))}var Tt=fs(0);function Yd(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var mm=[];function gm(){for(var s=0;s<mm.length;s++)mm[s]._workInProgressVersionPrimary=null;mm.length=0}var Qd=H.ReactCurrentDispatcher,vm=H.ReactCurrentBatchConfig,Ao=0,St=null,zt=null,Kt=null,Zd=!1,Au=!1,Ru=0,Xk=0;function an(){throw Error(t(321))}function ym(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!_r(s[u],a[u]))return!1;return!0}function _m(s,a,u,h,g,y){if(Ao=y,St=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Qd.current=s===null||s.memoizedState===null?nA:rA,s=u(h,g),Au){y=0;do{if(Au=!1,Ru=0,25<=y)throw Error(t(301));y+=1,Kt=zt=null,a.updateQueue=null,Qd.current=iA,s=u(h,g)}while(Au)}if(Qd.current=ef,a=zt!==null&&zt.next!==null,Ao=0,Kt=zt=St=null,Zd=!1,a)throw Error(t(300));return s}function wm(){var s=Ru!==0;return Ru=0,s}function Kr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?St.memoizedState=Kt=s:Kt=Kt.next=s,Kt}function rr(){if(zt===null){var s=St.alternate;s=s!==null?s.memoizedState:null}else s=zt.next;var a=Kt===null?St.memoizedState:Kt.next;if(a!==null)Kt=a,zt=s;else{if(s===null)throw Error(t(310));zt=s,s={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Kt===null?St.memoizedState=Kt=s:Kt=Kt.next=s}return Kt}function Pu(s,a){return typeof a=="function"?a(s):a}function Em(s){var a=rr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=zt,g=h.baseQueue,y=u.pending;if(y!==null){if(g!==null){var C=g.next;g.next=y.next,y.next=C}h.baseQueue=g=y,u.pending=null}if(g!==null){y=g.next,h=h.baseState;var V=C=null,z=null,Y=y;do{var ie=Y.lane;if((Ao&ie)===ie)z!==null&&(z=z.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),h=Y.hasEagerState?Y.eagerState:s(h,Y.action);else{var oe={lane:ie,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};z===null?(V=z=oe,C=h):z=z.next=oe,St.lanes|=ie,Ro|=ie}Y=Y.next}while(Y!==null&&Y!==y);z===null?C=h:z.next=V,_r(h,a.memoizedState)||(In=!0),a.memoizedState=h,a.baseState=C,a.baseQueue=z,u.lastRenderedState=h}if(s=u.interleaved,s!==null){g=s;do y=g.lane,St.lanes|=y,Ro|=y,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function xm(s){var a=rr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=u.dispatch,g=u.pending,y=a.memoizedState;if(g!==null){u.pending=null;var C=g=g.next;do y=s(y,C.action),C=C.next;while(C!==g);_r(y,a.memoizedState)||(In=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),u.lastRenderedState=y}return[y,h]}function Cw(){}function kw(s,a){var u=St,h=rr(),g=a(),y=!_r(h.memoizedState,g);if(y&&(h.memoizedState=g,In=!0),h=h.queue,Tm(Pw.bind(null,u,h,s),[s]),h.getSnapshot!==a||y||Kt!==null&&Kt.memoizedState.tag&1){if(u.flags|=2048,Nu(9,Rw.bind(null,u,h,g,a),void 0,null),Yt===null)throw Error(t(349));(Ao&30)!==0||Aw(u,a,g)}return g}function Aw(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=St.updateQueue,a===null?(a={lastEffect:null,stores:null},St.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Rw(s,a,u,h){a.value=u,a.getSnapshot=h,Nw(a)&&Dw(s)}function Pw(s,a,u){return u(function(){Nw(a)&&Dw(s)})}function Nw(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!_r(s,u)}catch{return!0}}function Dw(s){var a=Ci(s,1);a!==null&&Sr(a,s,1,-1)}function Ow(s){var a=Kr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pu,lastRenderedState:s},a.queue=s,s=s.dispatch=tA.bind(null,St,s),[a.memoizedState,s]}function Nu(s,a,u,h){return s={tag:s,create:a,destroy:u,deps:h,next:null},a=St.updateQueue,a===null?(a={lastEffect:null,stores:null},St.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,a.lastEffect=s)),s}function Mw(){return rr().memoizedState}function Xd(s,a,u,h){var g=Kr();St.flags|=s,g.memoizedState=Nu(1|a,u,void 0,h===void 0?null:h)}function Jd(s,a,u,h){var g=rr();h=h===void 0?null:h;var y=void 0;if(zt!==null){var C=zt.memoizedState;if(y=C.destroy,h!==null&&ym(h,C.deps)){g.memoizedState=Nu(a,u,y,h);return}}St.flags|=s,g.memoizedState=Nu(1|a,u,y,h)}function Lw(s,a){return Xd(8390656,8,s,a)}function Tm(s,a){return Jd(2048,8,s,a)}function Vw(s,a){return Jd(4,2,s,a)}function jw(s,a){return Jd(4,4,s,a)}function Fw(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Uw(s,a,u){return u=u!=null?u.concat([s]):null,Jd(4,4,Fw.bind(null,a,s),u)}function Sm(){}function zw(s,a){var u=rr();a=a===void 0?null:a;var h=u.memoizedState;return h!==null&&a!==null&&ym(a,h[1])?h[0]:(u.memoizedState=[s,a],s)}function $w(s,a){var u=rr();a=a===void 0?null:a;var h=u.memoizedState;return h!==null&&a!==null&&ym(a,h[1])?h[0]:(s=s(),u.memoizedState=[s,a],s)}function Bw(s,a,u){return(Ao&21)===0?(s.baseState&&(s.baseState=!1,In=!0),s.memoizedState=u):(_r(u,a)||(u=yo(),St.lanes|=u,Ro|=u,s.baseState=!0),a)}function Jk(s,a){var u=et;et=u!==0&&4>u?u:4,s(!0);var h=vm.transition;vm.transition={};try{s(!1),a()}finally{et=u,vm.transition=h}}function Ww(){return rr().memoizedState}function eA(s,a,u){var h=ws(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Hw(s))qw(a,u);else if(u=xw(s,a,u,h),u!==null){var g=_n();Sr(u,s,h,g),Gw(u,a,h)}}function tA(s,a,u){var h=ws(s),g={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Hw(s))qw(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var C=a.lastRenderedState,V=y(C,u);if(g.hasEagerState=!0,g.eagerState=V,_r(V,C)){var z=a.interleaved;z===null?(g.next=g,dm(a)):(g.next=z.next,z.next=g),a.interleaved=g;return}}catch{}finally{}u=xw(s,a,g,h),u!==null&&(g=_n(),Sr(u,s,h,g),Gw(u,a,h))}}function Hw(s){var a=s.alternate;return s===St||a!==null&&a===St}function qw(s,a){Au=Zd=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function Gw(s,a,u){if((u&4194240)!==0){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,ss(s,u)}}var ef={readContext:nr,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},nA={readContext:nr,useCallback:function(s,a){return Kr().memoizedState=[s,a===void 0?null:a],s},useContext:nr,useEffect:Lw,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Xd(4194308,4,Fw.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Xd(4194308,4,s,a)},useInsertionEffect:function(s,a){return Xd(4,2,s,a)},useMemo:function(s,a){var u=Kr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var h=Kr();return a=u!==void 0?u(a):a,h.memoizedState=h.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},h.queue=s,s=s.dispatch=eA.bind(null,St,s),[h.memoizedState,s]},useRef:function(s){var a=Kr();return s={current:s},a.memoizedState=s},useState:Ow,useDebugValue:Sm,useDeferredValue:function(s){return Kr().memoizedState=s},useTransition:function(){var s=Ow(!1),a=s[0];return s=Jk.bind(null,s[1]),Kr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var h=St,g=Kr();if(xt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Yt===null)throw Error(t(349));(Ao&30)!==0||Aw(h,a,u)}g.memoizedState=u;var y={value:u,getSnapshot:a};return g.queue=y,Lw(Pw.bind(null,h,y,s),[s]),h.flags|=2048,Nu(9,Rw.bind(null,h,y,u,a),void 0,null),u},useId:function(){var s=Kr(),a=Yt.identifierPrefix;if(xt){var u=Ii,h=bi;u=(h&~(1<<32-gn(h)-1)).toString(32)+u,a=":"+a+"R"+u,u=Ru++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=Xk++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},rA={readContext:nr,useCallback:zw,useContext:nr,useEffect:Tm,useImperativeHandle:Uw,useInsertionEffect:Vw,useLayoutEffect:jw,useMemo:$w,useReducer:Em,useRef:Mw,useState:function(){return Em(Pu)},useDebugValue:Sm,useDeferredValue:function(s){var a=rr();return Bw(a,zt.memoizedState,s)},useTransition:function(){var s=Em(Pu)[0],a=rr().memoizedState;return[s,a]},useMutableSource:Cw,useSyncExternalStore:kw,useId:Ww,unstable_isNewReconciler:!1},iA={readContext:nr,useCallback:zw,useContext:nr,useEffect:Tm,useImperativeHandle:Uw,useInsertionEffect:Vw,useLayoutEffect:jw,useMemo:$w,useReducer:xm,useRef:Mw,useState:function(){return xm(Pu)},useDebugValue:Sm,useDeferredValue:function(s){var a=rr();return zt===null?a.memoizedState=s:Bw(a,zt.memoizedState,s)},useTransition:function(){var s=xm(Pu)[0],a=rr().memoizedState;return[s,a]},useMutableSource:Cw,useSyncExternalStore:kw,useId:Ww,unstable_isNewReconciler:!1};function Er(s,a){if(s&&s.defaultProps){a=se({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function bm(s,a,u,h){a=s.memoizedState,u=u(h,a),u=u==null?a:se({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var tf={isMounted:function(s){return(s=s._reactInternals)?fr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var h=_n(),g=ws(s),y=ki(h,g);y.payload=a,u!=null&&(y.callback=u),a=gs(s,y,g),a!==null&&(Sr(a,s,g,h),Gd(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var h=_n(),g=ws(s),y=ki(h,g);y.tag=1,y.payload=a,u!=null&&(y.callback=u),a=gs(s,y,g),a!==null&&(Sr(a,s,g,h),Gd(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=_n(),h=ws(s),g=ki(u,h);g.tag=2,a!=null&&(g.callback=a),a=gs(s,g,h),a!==null&&(Sr(a,s,h,u),Gd(a,s,h))}};function Kw(s,a,u,h,g,y,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,C):a.prototype&&a.prototype.isPureReactComponent?!yu(u,h)||!yu(g,y):!0}function Yw(s,a,u){var h=!1,g=hs,y=a.contextType;return typeof y=="object"&&y!==null?y=nr(y):(g=bn(a)?So:on.current,h=a.contextTypes,y=(h=h!=null)?za(s,g):hs),a=new a(u,y),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=tf,s.stateNode=a,a._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=y),a}function Qw(s,a,u,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==s&&tf.enqueueReplaceState(a,a.state,null)}function Im(s,a,u,h){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},fm(s);var y=a.contextType;typeof y=="object"&&y!==null?g.context=nr(y):(y=bn(a)?So:on.current,g.context=za(s,y)),g.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(bm(s,a,y,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&tf.enqueueReplaceState(g,g.state,null),Kd(s,u,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Ya(s,a){try{var u="",h=a;do u+=Oe(h),h=h.return;while(h);var g=u}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:a,stack:g,digest:null}}function Cm(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function km(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var sA=typeof WeakMap=="function"?WeakMap:Map;function Zw(s,a,u){u=ki(-1,u),u.tag=3,u.payload={element:null};var h=a.value;return u.callback=function(){uf||(uf=!0,Bm=h),km(s,a)},u}function Xw(s,a,u){u=ki(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=a.value;u.payload=function(){return h(g)},u.callback=function(){km(s,a)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){km(s,a),typeof h!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),u}function Jw(s,a,u){var h=s.pingCache;if(h===null){h=s.pingCache=new sA;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(u)||(g.add(u),s=_A.bind(null,s,a,u),a.then(s,s))}function e0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function t0(s,a,u,h,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=ki(-1,1),a.tag=2,gs(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var oA=H.ReactCurrentOwner,In=!1;function yn(s,a,u,h){a.child=s===null?Ew(a,null,u,h):Ha(a,s.child,u,h)}function n0(s,a,u,h,g){u=u.render;var y=a.ref;return Ga(a,g),h=_m(s,a,u,h,y,g),u=wm(),s!==null&&!In?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ai(s,a,g)):(xt&&u&&nm(a),a.flags|=1,yn(s,a,h,g),a.child)}function r0(s,a,u,h,g){if(s===null){var y=u.type;return typeof y=="function"&&!Qm(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=y,i0(s,a,y,h,g)):(s=mf(u.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,(s.lanes&g)===0){var C=y.memoizedProps;if(u=u.compare,u=u!==null?u:yu,u(C,h)&&s.ref===a.ref)return Ai(s,a,g)}return a.flags|=1,s=xs(y,h),s.ref=a.ref,s.return=a,a.child=s}function i0(s,a,u,h,g){if(s!==null){var y=s.memoizedProps;if(yu(y,h)&&s.ref===a.ref)if(In=!1,a.pendingProps=h=y,(s.lanes&g)!==0)(s.flags&131072)!==0&&(In=!0);else return a.lanes=s.lanes,Ai(s,a,g)}return Am(s,a,u,h,g)}function s0(s,a,u){var h=a.pendingProps,g=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(Za,zn),zn|=u;else{if((u&1073741824)===0)return s=y!==null?y.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,gt(Za,zn),zn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:u,gt(Za,zn),zn|=h}else y!==null?(h=y.baseLanes|u,a.memoizedState=null):h=u,gt(Za,zn),zn|=h;return yn(s,a,g,u),a.child}function o0(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Am(s,a,u,h,g){var y=bn(u)?So:on.current;return y=za(a,y),Ga(a,g),u=_m(s,a,u,h,y,g),h=wm(),s!==null&&!In?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ai(s,a,g)):(xt&&h&&nm(a),a.flags|=1,yn(s,a,u,g),a.child)}function a0(s,a,u,h,g){if(bn(u)){var y=!0;Fd(a)}else y=!1;if(Ga(a,g),a.stateNode===null)rf(s,a),Yw(a,u,h),Im(a,u,h,g),h=!0;else if(s===null){var C=a.stateNode,V=a.memoizedProps;C.props=V;var z=C.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=nr(Y):(Y=bn(u)?So:on.current,Y=za(a,Y));var ie=u.getDerivedStateFromProps,oe=typeof ie=="function"||typeof C.getSnapshotBeforeUpdate=="function";oe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(V!==h||z!==Y)&&Qw(a,C,h,Y),ms=!1;var re=a.memoizedState;C.state=re,Kd(a,h,C,g),z=a.memoizedState,V!==h||re!==z||Sn.current||ms?(typeof ie=="function"&&(bm(a,u,ie,h),z=a.memoizedState),(V=ms||Kw(a,u,V,h,re,z,Y))?(oe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=z),C.props=h,C.state=z,C.context=Y,h=V):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{C=a.stateNode,Tw(s,a),V=a.memoizedProps,Y=a.type===a.elementType?V:Er(a.type,V),C.props=Y,oe=a.pendingProps,re=C.context,z=u.contextType,typeof z=="object"&&z!==null?z=nr(z):(z=bn(u)?So:on.current,z=za(a,z));var pe=u.getDerivedStateFromProps;(ie=typeof pe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(V!==oe||re!==z)&&Qw(a,C,h,z),ms=!1,re=a.memoizedState,C.state=re,Kd(a,h,C,g);var we=a.memoizedState;V!==oe||re!==we||Sn.current||ms?(typeof pe=="function"&&(bm(a,u,pe,h),we=a.memoizedState),(Y=ms||Kw(a,u,Y,h,re,we,z)||!1)?(ie||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(h,we,z),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(h,we,z)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||V===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=we),C.props=h,C.state=we,C.context=z,h=Y):(typeof C.componentDidUpdate!="function"||V===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),h=!1)}return Rm(s,a,u,h,y,g)}function Rm(s,a,u,h,g,y){o0(s,a);var C=(a.flags&128)!==0;if(!h&&!C)return g&&fw(a,u,!1),Ai(s,a,y);h=a.stateNode,oA.current=a;var V=C&&typeof u.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,s!==null&&C?(a.child=Ha(a,s.child,null,y),a.child=Ha(a,null,V,y)):yn(s,a,V,y),a.memoizedState=h.state,g&&fw(a,u,!0),a.child}function l0(s){var a=s.stateNode;a.pendingContext?cw(s,a.pendingContext,a.pendingContext!==a.context):a.context&&cw(s,a.context,!1),hm(s,a.containerInfo)}function u0(s,a,u,h,g){return Wa(),om(g),a.flags|=256,yn(s,a,u,h),a.child}var Pm={dehydrated:null,treeContext:null,retryLane:0};function Nm(s){return{baseLanes:s,cachePool:null,transitions:null}}function c0(s,a,u){var h=a.pendingProps,g=Tt.current,y=!1,C=(a.flags&128)!==0,V;if((V=C)||(V=s!==null&&s.memoizedState===null?!1:(g&2)!==0),V?(y=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),gt(Tt,g&1),s===null)return sm(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(C=h.children,s=h.fallback,y?(h=a.mode,y=a.child,C={mode:"hidden",children:C},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=C):y=gf(C,h,0,null),s=Oo(s,h,u,null),y.return=a,s.return=a,y.sibling=s,a.child=y,a.child.memoizedState=Nm(u),a.memoizedState=Pm,s):Dm(a,C));if(g=s.memoizedState,g!==null&&(V=g.dehydrated,V!==null))return aA(s,a,C,h,V,g,u);if(y){y=h.fallback,C=a.mode,g=s.child,V=g.sibling;var z={mode:"hidden",children:h.children};return(C&1)===0&&a.child!==g?(h=a.child,h.childLanes=0,h.pendingProps=z,a.deletions=null):(h=xs(g,z),h.subtreeFlags=g.subtreeFlags&14680064),V!==null?y=xs(V,y):(y=Oo(y,C,u,null),y.flags|=2),y.return=a,h.return=a,h.sibling=y,a.child=h,h=y,y=a.child,C=s.child.memoizedState,C=C===null?Nm(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},y.memoizedState=C,y.childLanes=s.childLanes&~u,a.memoizedState=Pm,h}return y=s.child,s=y.sibling,h=xs(y,{mode:"visible",children:h.children}),(a.mode&1)===0&&(h.lanes=u),h.return=a,h.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=h,a.memoizedState=null,h}function Dm(s,a){return a=gf({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function nf(s,a,u,h){return h!==null&&om(h),Ha(a,s.child,null,u),s=Dm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function aA(s,a,u,h,g,y,C){if(u)return a.flags&256?(a.flags&=-257,h=Cm(Error(t(422))),nf(s,a,C,h)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(y=h.fallback,g=a.mode,h=gf({mode:"visible",children:h.children},g,0,null),y=Oo(y,g,C,null),y.flags|=2,h.return=a,y.return=a,h.sibling=y,a.child=h,(a.mode&1)!==0&&Ha(a,s.child,null,C),a.child.memoizedState=Nm(C),a.memoizedState=Pm,y);if((a.mode&1)===0)return nf(s,a,C,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var V=h.dgst;return h=V,y=Error(t(419)),h=Cm(y,h,void 0),nf(s,a,C,h)}if(V=(C&s.childLanes)!==0,In||V){if(h=Yt,h!==null){switch(C&-C){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|C))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,Ci(s,g),Sr(h,s,g,-1))}return Ym(),h=Cm(Error(t(421))),nf(s,a,C,h)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=wA.bind(null,s),g._reactRetry=a,null):(s=y.treeContext,Un=ds(g.nextSibling),Fn=a,xt=!0,wr=null,s!==null&&(er[tr++]=bi,er[tr++]=Ii,er[tr++]=bo,bi=s.id,Ii=s.overflow,bo=a),a=Dm(a,h.children),a.flags|=4096,a)}function d0(s,a,u){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),cm(s.return,a,u)}function Om(s,a,u,h,g){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=u,y.tailMode=g)}function f0(s,a,u){var h=a.pendingProps,g=h.revealOrder,y=h.tail;if(yn(s,a,h.children,u),h=Tt.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&d0(s,u,a);else if(s.tag===19)d0(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(gt(Tt,h),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&Yd(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),Om(a,!1,g,u,y);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Yd(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Om(a,!0,u,null,y);break;case"together":Om(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function rf(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ai(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Ro|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=xs(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=xs(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function lA(s,a,u){switch(a.tag){case 3:l0(a),Wa();break;case 5:Iw(a);break;case 1:bn(a.type)&&Fd(a);break;case 4:hm(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,g=a.memoizedProps.value;gt(Hd,h._currentValue),h._currentValue=g;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(gt(Tt,Tt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?c0(s,a,u):(gt(Tt,Tt.current&1),s=Ai(s,a,u),s!==null?s.sibling:null);gt(Tt,Tt.current&1);break;case 19:if(h=(u&a.childLanes)!==0,(s.flags&128)!==0){if(h)return f0(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),gt(Tt,Tt.current),h)break;return null;case 22:case 23:return a.lanes=0,s0(s,a,u)}return Ai(s,a,u)}var h0,Mm,p0,m0;h0=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Mm=function(){},p0=function(s,a,u,h){var g=s.memoizedProps;if(g!==h){s=a.stateNode,ko(Gr.current);var y=null;switch(u){case"input":g=qt(s,g),h=qt(s,h),y=[];break;case"select":g=se({},g,{value:void 0}),h=se({},h,{value:void 0}),y=[];break;case"textarea":g=Gl(s,g),h=Gl(s,h),y=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Ld)}Jl(u,h);var C;u=null;for(Y in g)if(!h.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var V=g[Y];for(C in V)V.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?y||(y=[]):(y=y||[]).push(Y,null));for(Y in h){var z=h[Y];if(V=g!=null?g[Y]:void 0,h.hasOwnProperty(Y)&&z!==V&&(z!=null||V!=null))if(Y==="style")if(V){for(C in V)!V.hasOwnProperty(C)||z&&z.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in z)z.hasOwnProperty(C)&&V[C]!==z[C]&&(u||(u={}),u[C]=z[C])}else u||(y||(y=[]),y.push(Y,u)),u=z;else Y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,V=V?V.__html:void 0,z!=null&&V!==z&&(y=y||[]).push(Y,z)):Y==="children"?typeof z!="string"&&typeof z!="number"||(y=y||[]).push(Y,""+z):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(z!=null&&Y==="onScroll"&&yt("scroll",s),y||V===z||(y=[])):(y=y||[]).push(Y,z))}u&&(y=y||[]).push("style",u);var Y=y;(a.updateQueue=Y)&&(a.flags|=4)}},m0=function(s,a,u,h){u!==h&&(a.flags|=4)};function Du(s,a){if(!xt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function ln(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=u,a}function uA(s,a,u){var h=a.pendingProps;switch(rm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(a),null;case 1:return bn(a.type)&&jd(),ln(a),null;case 3:return h=a.stateNode,Ka(),_t(Sn),_t(on),gm(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Bd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,wr!==null&&(qm(wr),wr=null))),Mm(s,a),ln(a),null;case 5:pm(a);var g=ko(ku.current);if(u=a.type,s!==null&&a.stateNode!=null)p0(s,a,u,h,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(t(166));return ln(a),null}if(s=ko(Gr.current),Bd(a)){h=a.stateNode,u=a.type;var y=a.memoizedProps;switch(h[qr]=a,h[Tu]=y,s=(a.mode&1)!==0,u){case"dialog":yt("cancel",h),yt("close",h);break;case"iframe":case"object":case"embed":yt("load",h);break;case"video":case"audio":for(g=0;g<wu.length;g++)yt(wu[g],h);break;case"source":yt("error",h);break;case"img":case"image":case"link":yt("error",h),yt("load",h);break;case"details":yt("toggle",h);break;case"input":Yn(h,y),yt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},yt("invalid",h);break;case"textarea":da(h,y),yt("invalid",h)}Jl(u,y),g=null;for(var C in y)if(y.hasOwnProperty(C)){var V=y[C];C==="children"?typeof V=="string"?h.textContent!==V&&(y.suppressHydrationWarning!==!0&&Md(h.textContent,V,s),g=["children",V]):typeof V=="number"&&h.textContent!==""+V&&(y.suppressHydrationWarning!==!0&&Md(h.textContent,V,s),g=["children",""+V]):i.hasOwnProperty(C)&&V!=null&&C==="onScroll"&&yt("scroll",h)}switch(u){case"input":He(h),ca(h,y,!0);break;case"textarea":He(h),Kl(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Ld)}h=g,a.updateQueue=h,h!==null&&(a.flags|=4)}else{C=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=jt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=C.createElement(u,{is:h.is}):(s=C.createElement(u),u==="select"&&(C=s,h.multiple?C.multiple=!0:h.size&&(C.size=h.size))):s=C.createElementNS(s,u),s[qr]=a,s[Tu]=h,h0(s,a,!1,!1),a.stateNode=s;e:{switch(C=eu(u,h),u){case"dialog":yt("cancel",s),yt("close",s),g=h;break;case"iframe":case"object":case"embed":yt("load",s),g=h;break;case"video":case"audio":for(g=0;g<wu.length;g++)yt(wu[g],s);g=h;break;case"source":yt("error",s),g=h;break;case"img":case"image":case"link":yt("error",s),yt("load",s),g=h;break;case"details":yt("toggle",s),g=h;break;case"input":Yn(s,h),g=qt(s,h),yt("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=se({},h,{value:void 0}),yt("invalid",s);break;case"textarea":da(s,h),g=Gl(s,h),yt("invalid",s);break;default:g=h}Jl(u,g),V=g;for(y in V)if(V.hasOwnProperty(y)){var z=V[y];y==="style"?Zl(s,z):y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Yl(s,z)):y==="children"?typeof z=="string"?(u!=="textarea"||z!=="")&&es(s,z):typeof z=="number"&&es(s,""+z):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?z!=null&&y==="onScroll"&&yt("scroll",s):z!=null&&L(s,y,z,C))}switch(u){case"input":He(s),ca(s,h,!1);break;case"textarea":He(s),Kl(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Ie(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?mi(s,!!h.multiple,y,!1):h.defaultValue!=null&&mi(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Ld)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return ln(a),null;case 6:if(s&&a.stateNode!=null)m0(s,a,s.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(t(166));if(u=ko(ku.current),ko(Gr.current),Bd(a)){if(h=a.stateNode,u=a.memoizedProps,h[qr]=a,(y=h.nodeValue!==u)&&(s=Fn,s!==null))switch(s.tag){case 3:Md(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Md(h.nodeValue,u,(s.mode&1)!==0)}y&&(a.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[qr]=a,a.stateNode=h}return ln(a),null;case 13:if(_t(Tt),h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(xt&&Un!==null&&(a.mode&1)!==0&&(a.flags&128)===0)yw(),Wa(),a.flags|=98560,y=!1;else if(y=Bd(a),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[qr]=a}else Wa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ln(a),y=!1}else wr!==null&&(qm(wr),wr=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Tt.current&1)!==0?$t===0&&($t=3):Ym())),a.updateQueue!==null&&(a.flags|=4),ln(a),null);case 4:return Ka(),Mm(s,a),s===null&&Eu(a.stateNode.containerInfo),ln(a),null;case 10:return um(a.type._context),ln(a),null;case 17:return bn(a.type)&&jd(),ln(a),null;case 19:if(_t(Tt),y=a.memoizedState,y===null)return ln(a),null;if(h=(a.flags&128)!==0,C=y.rendering,C===null)if(h)Du(y,!1);else{if($t!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(C=Yd(s),C!==null){for(a.flags|=128,Du(y,!1),h=C.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=u,u=a.child;u!==null;)y=u,s=h,y.flags&=14680066,C=y.alternate,C===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=C.childLanes,y.lanes=C.lanes,y.child=C.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=C.memoizedProps,y.memoizedState=C.memoizedState,y.updateQueue=C.updateQueue,y.type=C.type,s=C.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return gt(Tt,Tt.current&1|2),a.child}s=s.sibling}y.tail!==null&&mt()>Xa&&(a.flags|=128,h=!0,Du(y,!1),a.lanes=4194304)}else{if(!h)if(s=Yd(C),s!==null){if(a.flags|=128,h=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Du(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!xt)return ln(a),null}else 2*mt()-y.renderingStartTime>Xa&&u!==1073741824&&(a.flags|=128,h=!0,Du(y,!1),a.lanes=4194304);y.isBackwards?(C.sibling=a.child,a.child=C):(u=y.last,u!==null?u.sibling=C:a.child=C,y.last=C)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=mt(),a.sibling=null,u=Tt.current,gt(Tt,h?u&1|2:u&1),a):(ln(a),null);case 22:case 23:return Km(),h=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(a.flags|=8192),h&&(a.mode&1)!==0?(zn&1073741824)!==0&&(ln(a),a.subtreeFlags&6&&(a.flags|=8192)):ln(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function cA(s,a){switch(rm(a),a.tag){case 1:return bn(a.type)&&jd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ka(),_t(Sn),_t(on),gm(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return pm(a),null;case 13:if(_t(Tt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Wa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return _t(Tt),null;case 4:return Ka(),null;case 10:return um(a.type._context),null;case 22:case 23:return Km(),null;case 24:return null;default:return null}}var sf=!1,un=!1,dA=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Qa(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){At(s,a,h)}else u.current=null}function Lm(s,a,u){try{u()}catch(h){At(s,a,h)}}var g0=!1;function fA(s,a){if(Kp=ls,s=K_(),Up(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var C=0,V=-1,z=-1,Y=0,ie=0,oe=s,re=null;t:for(;;){for(var pe;oe!==u||g!==0&&oe.nodeType!==3||(V=C+g),oe!==y||h!==0&&oe.nodeType!==3||(z=C+h),oe.nodeType===3&&(C+=oe.nodeValue.length),(pe=oe.firstChild)!==null;)re=oe,oe=pe;for(;;){if(oe===s)break t;if(re===u&&++Y===g&&(V=C),re===y&&++ie===h&&(z=C),(pe=oe.nextSibling)!==null)break;oe=re,re=oe.parentNode}oe=pe}u=V===-1||z===-1?null:{start:V,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(Yp={focusedElem:s,selectionRange:u},ls=!1,ve=a;ve!==null;)if(a=ve,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ve=s;else for(;ve!==null;){a=ve;try{var we=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var be=we.memoizedProps,Pt=we.memoizedState,G=a.stateNode,B=G.getSnapshotBeforeUpdate(a.elementType===a.type?be:Er(a.type,be),Pt);G.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){At(a,a.return,ue)}if(s=a.sibling,s!==null){s.return=a.return,ve=s;break}ve=a.return}return we=g0,g0=!1,we}function Ou(s,a,u){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var y=g.destroy;g.destroy=void 0,y!==void 0&&Lm(a,u,y)}g=g.next}while(g!==h)}}function of(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==a)}}function Vm(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function v0(s){var a=s.alternate;a!==null&&(s.alternate=null,v0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[qr],delete a[Tu],delete a[Jp],delete a[Kk],delete a[Yk])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function y0(s){return s.tag===5||s.tag===3||s.tag===4}function _0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||y0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function jm(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Ld));else if(h!==4&&(s=s.child,s!==null))for(jm(s,a,u),s=s.sibling;s!==null;)jm(s,a,u),s=s.sibling}function Fm(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Fm(s,a,u),s=s.sibling;s!==null;)Fm(s,a,u),s=s.sibling}var en=null,xr=!1;function vs(s,a,u){for(u=u.child;u!==null;)w0(s,a,u),u=u.sibling}function w0(s,a,u){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(go,u)}catch{}switch(u.tag){case 5:un||Qa(u,a);case 6:var h=en,g=xr;en=null,vs(s,a,u),en=h,xr=g,en!==null&&(xr?(s=en,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):en.removeChild(u.stateNode));break;case 18:en!==null&&(xr?(s=en,u=u.stateNode,s.nodeType===8?Xp(s.parentNode,u):s.nodeType===1&&Xp(s,u),vr(s)):Xp(en,u.stateNode));break;case 4:h=en,g=xr,en=u.stateNode.containerInfo,xr=!0,vs(s,a,u),en=h,xr=g;break;case 0:case 11:case 14:case 15:if(!un&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var y=g,C=y.destroy;y=y.tag,C!==void 0&&((y&2)!==0||(y&4)!==0)&&Lm(u,a,C),g=g.next}while(g!==h)}vs(s,a,u);break;case 1:if(!un&&(Qa(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(V){At(u,a,V)}vs(s,a,u);break;case 21:vs(s,a,u);break;case 22:u.mode&1?(un=(h=un)||u.memoizedState!==null,vs(s,a,u),un=h):vs(s,a,u);break;default:vs(s,a,u)}}function E0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new dA),a.forEach(function(h){var g=EA.bind(null,s,h);u.has(h)||(u.add(h),h.then(g,g))})}}function Tr(s,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];try{var y=s,C=a,V=C;e:for(;V!==null;){switch(V.tag){case 5:en=V.stateNode,xr=!1;break e;case 3:en=V.stateNode.containerInfo,xr=!0;break e;case 4:en=V.stateNode.containerInfo,xr=!0;break e}V=V.return}if(en===null)throw Error(t(160));w0(y,C,g),en=null,xr=!1;var z=g.alternate;z!==null&&(z.return=null),g.return=null}catch(Y){At(g,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)x0(a,s),a=a.sibling}function x0(s,a){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Tr(a,s),Yr(s),h&4){try{Ou(3,s,s.return),of(3,s)}catch(be){At(s,s.return,be)}try{Ou(5,s,s.return)}catch(be){At(s,s.return,be)}}break;case 1:Tr(a,s),Yr(s),h&512&&u!==null&&Qa(u,u.return);break;case 5:if(Tr(a,s),Yr(s),h&512&&u!==null&&Qa(u,u.return),s.flags&32){var g=s.stateNode;try{es(g,"")}catch(be){At(s,s.return,be)}}if(h&4&&(g=s.stateNode,g!=null)){var y=s.memoizedProps,C=u!==null?u.memoizedProps:y,V=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{V==="input"&&y.type==="radio"&&y.name!=null&&ar(g,y),eu(V,C);var Y=eu(V,y);for(C=0;C<z.length;C+=2){var ie=z[C],oe=z[C+1];ie==="style"?Zl(g,oe):ie==="dangerouslySetInnerHTML"?Yl(g,oe):ie==="children"?es(g,oe):L(g,ie,oe,Y)}switch(V){case"input":lr(g,y);break;case"textarea":fa(g,y);break;case"select":var re=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var pe=y.value;pe!=null?mi(g,!!y.multiple,pe,!1):re!==!!y.multiple&&(y.defaultValue!=null?mi(g,!!y.multiple,y.defaultValue,!0):mi(g,!!y.multiple,y.multiple?[]:"",!1))}g[Tu]=y}catch(be){At(s,s.return,be)}}break;case 6:if(Tr(a,s),Yr(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,y=s.memoizedProps;try{g.nodeValue=y}catch(be){At(s,s.return,be)}}break;case 3:if(Tr(a,s),Yr(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{vr(a.containerInfo)}catch(be){At(s,s.return,be)}break;case 4:Tr(a,s),Yr(s);break;case 13:Tr(a,s),Yr(s),g=s.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||($m=mt())),h&4&&E0(s);break;case 22:if(ie=u!==null&&u.memoizedState!==null,s.mode&1?(un=(Y=un)||ie,Tr(a,s),un=Y):Tr(a,s),Yr(s),h&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!ie&&(s.mode&1)!==0)for(ve=s,ie=s.child;ie!==null;){for(oe=ve=ie;ve!==null;){switch(re=ve,pe=re.child,re.tag){case 0:case 11:case 14:case 15:Ou(4,re,re.return);break;case 1:Qa(re,re.return);var we=re.stateNode;if(typeof we.componentWillUnmount=="function"){h=re,u=re.return;try{a=h,we.props=a.memoizedProps,we.state=a.memoizedState,we.componentWillUnmount()}catch(be){At(h,u,be)}}break;case 5:Qa(re,re.return);break;case 22:if(re.memoizedState!==null){b0(oe);continue}}pe!==null?(pe.return=re,ve=pe):b0(oe)}ie=ie.sibling}e:for(ie=null,oe=s;;){if(oe.tag===5){if(ie===null){ie=oe;try{g=oe.stateNode,Y?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(V=oe.stateNode,z=oe.memoizedProps.style,C=z!=null&&z.hasOwnProperty("display")?z.display:null,V.style.display=Ql("display",C))}catch(be){At(s,s.return,be)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=Y?"":oe.memoizedProps}catch(be){At(s,s.return,be)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===s)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===s)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===s)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Tr(a,s),Yr(s),h&4&&E0(s);break;case 21:break;default:Tr(a,s),Yr(s)}}function Yr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(y0(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(es(g,""),h.flags&=-33);var y=_0(s);Fm(s,y,g);break;case 3:case 4:var C=h.stateNode.containerInfo,V=_0(s);jm(s,V,C);break;default:throw Error(t(161))}}catch(z){At(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function hA(s,a,u){ve=s,T0(s)}function T0(s,a,u){for(var h=(s.mode&1)!==0;ve!==null;){var g=ve,y=g.child;if(g.tag===22&&h){var C=g.memoizedState!==null||sf;if(!C){var V=g.alternate,z=V!==null&&V.memoizedState!==null||un;V=sf;var Y=un;if(sf=C,(un=z)&&!Y)for(ve=g;ve!==null;)C=ve,z=C.child,C.tag===22&&C.memoizedState!==null?I0(g):z!==null?(z.return=C,ve=z):I0(g);for(;y!==null;)ve=y,T0(y),y=y.sibling;ve=g,sf=V,un=Y}S0(s)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,ve=y):S0(s)}}function S0(s){for(;ve!==null;){var a=ve;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:un||of(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!un)if(u===null)h.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:Er(a.type,u.memoizedProps);h.componentDidUpdate(g,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&bw(a,y,h);break;case 3:var C=a.updateQueue;if(C!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}bw(a,C,u)}break;case 5:var V=a.stateNode;if(u===null&&a.flags&4){u=V;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&u.focus();break;case"img":z.src&&(u.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var ie=Y.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&vr(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}un||a.flags&512&&Vm(a)}catch(re){At(a,a.return,re)}}if(a===s){ve=null;break}if(u=a.sibling,u!==null){u.return=a.return,ve=u;break}ve=a.return}}function b0(s){for(;ve!==null;){var a=ve;if(a===s){ve=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ve=u;break}ve=a.return}}function I0(s){for(;ve!==null;){var a=ve;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{of(4,a)}catch(z){At(a,u,z)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var g=a.return;try{h.componentDidMount()}catch(z){At(a,g,z)}}var y=a.return;try{Vm(a)}catch(z){At(a,y,z)}break;case 5:var C=a.return;try{Vm(a)}catch(z){At(a,C,z)}}}catch(z){At(a,a.return,z)}if(a===s){ve=null;break}var V=a.sibling;if(V!==null){V.return=a.return,ve=V;break}ve=a.return}}var pA=Math.ceil,af=H.ReactCurrentDispatcher,Um=H.ReactCurrentOwner,ir=H.ReactCurrentBatchConfig,it=0,Yt=null,Mt=null,tn=0,zn=0,Za=fs(0),$t=0,Mu=null,Ro=0,lf=0,zm=0,Lu=null,Cn=null,$m=0,Xa=1/0,Ri=null,uf=!1,Bm=null,ys=null,cf=!1,_s=null,df=0,Vu=0,Wm=null,ff=-1,hf=0;function _n(){return(it&6)!==0?mt():ff!==-1?ff:ff=mt()}function ws(s){return(s.mode&1)===0?1:(it&2)!==0&&tn!==0?tn&-tn:Zk.transition!==null?(hf===0&&(hf=yo()),hf):(s=et,s!==0||(s=window.event,s=s===void 0?16:du(s.type)),s)}function Sr(s,a,u,h){if(50<Vu)throw Vu=0,Wm=null,Error(t(185));is(s,u,h),((it&2)===0||s!==Yt)&&(s===Yt&&((it&2)===0&&(lf|=u),$t===4&&Es(s,tn)),kn(s,h),u===1&&it===0&&(a.mode&1)===0&&(Xa=mt()+500,Ud&&ps()))}function kn(s,a){var u=s.callbackNode;yi(s,a);var h=vo(s,s===Yt?tn:0);if(h===0)u!==null&&ou(u),s.callbackNode=null,s.callbackPriority=0;else if(a=h&-h,s.callbackPriority!==a){if(u!=null&&ou(u),a===1)s.tag===0?Qk(k0.bind(null,s)):hw(k0.bind(null,s)),qk(function(){(it&6)===0&&ps()}),u=null;else{switch(os(h)){case 1:u=mo;break;case 4:u=ts;break;case 16:u=Zn;break;case 536870912:u=fd;break;default:u=Zn}u=L0(u,C0.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function C0(s,a){if(ff=-1,hf=0,(it&6)!==0)throw Error(t(327));var u=s.callbackNode;if(Ja()&&s.callbackNode!==u)return null;var h=vo(s,s===Yt?tn:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||a)a=pf(s,h);else{a=h;var g=it;it|=2;var y=R0();(Yt!==s||tn!==a)&&(Ri=null,Xa=mt()+500,No(s,a));do try{vA();break}catch(V){A0(s,V)}while(!0);lm(),af.current=y,it=g,Mt!==null?a=0:(Yt=null,tn=0,a=$t)}if(a!==0){if(a===2&&(g=Ln(s),g!==0&&(h=g,a=Hm(s,g))),a===1)throw u=Mu,No(s,0),Es(s,h),kn(s,mt()),u;if(a===6)Es(s,h);else{if(g=s.current.alternate,(h&30)===0&&!mA(g)&&(a=pf(s,h),a===2&&(y=Ln(s),y!==0&&(h=y,a=Hm(s,y))),a===1))throw u=Mu,No(s,0),Es(s,h),kn(s,mt()),u;switch(s.finishedWork=g,s.finishedLanes=h,a){case 0:case 1:throw Error(t(345));case 2:Do(s,Cn,Ri);break;case 3:if(Es(s,h),(h&130023424)===h&&(a=$m+500-mt(),10<a)){if(vo(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){_n(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Zp(Do.bind(null,s,Cn,Ri),a);break}Do(s,Cn,Ri);break;case 4:if(Es(s,h),(h&4194240)===h)break;for(a=s.eventTimes,g=-1;0<h;){var C=31-gn(h);y=1<<C,C=a[C],C>g&&(g=C),h&=~y}if(h=g,h=mt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*pA(h/1960))-h,10<h){s.timeoutHandle=Zp(Do.bind(null,s,Cn,Ri),h);break}Do(s,Cn,Ri);break;case 5:Do(s,Cn,Ri);break;default:throw Error(t(329))}}}return kn(s,mt()),s.callbackNode===u?C0.bind(null,s):null}function Hm(s,a){var u=Lu;return s.current.memoizedState.isDehydrated&&(No(s,a).flags|=256),s=pf(s,a),s!==2&&(a=Cn,Cn=u,a!==null&&qm(a)),s}function qm(s){Cn===null?Cn=s:Cn.push.apply(Cn,s)}function mA(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var g=u[h],y=g.getSnapshot;g=g.value;try{if(!_r(y(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Es(s,a){for(a&=~zm,a&=~lf,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-gn(a),h=1<<u;s[u]=-1,a&=~h}}function k0(s){if((it&6)!==0)throw Error(t(327));Ja();var a=vo(s,0);if((a&1)===0)return kn(s,mt()),null;var u=pf(s,a);if(s.tag!==0&&u===2){var h=Ln(s);h!==0&&(a=h,u=Hm(s,h))}if(u===1)throw u=Mu,No(s,0),Es(s,a),kn(s,mt()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Do(s,Cn,Ri),kn(s,mt()),null}function Gm(s,a){var u=it;it|=1;try{return s(a)}finally{it=u,it===0&&(Xa=mt()+500,Ud&&ps())}}function Po(s){_s!==null&&_s.tag===0&&(it&6)===0&&Ja();var a=it;it|=1;var u=ir.transition,h=et;try{if(ir.transition=null,et=1,s)return s()}finally{et=h,ir.transition=u,it=a,(it&6)===0&&ps()}}function Km(){zn=Za.current,_t(Za)}function No(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,Hk(u)),Mt!==null)for(u=Mt.return;u!==null;){var h=u;switch(rm(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&jd();break;case 3:Ka(),_t(Sn),_t(on),gm();break;case 5:pm(h);break;case 4:Ka();break;case 13:_t(Tt);break;case 19:_t(Tt);break;case 10:um(h.type._context);break;case 22:case 23:Km()}u=u.return}if(Yt=s,Mt=s=xs(s.current,null),tn=zn=a,$t=0,Mu=null,zm=lf=Ro=0,Cn=Lu=null,Co!==null){for(a=0;a<Co.length;a++)if(u=Co[a],h=u.interleaved,h!==null){u.interleaved=null;var g=h.next,y=u.pending;if(y!==null){var C=y.next;y.next=g,h.next=C}u.pending=h}Co=null}return s}function A0(s,a){do{var u=Mt;try{if(lm(),Qd.current=ef,Zd){for(var h=St.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Zd=!1}if(Ao=0,Kt=zt=St=null,Au=!1,Ru=0,Um.current=null,u===null||u.return===null){$t=1,Mu=a,Mt=null;break}e:{var y=s,C=u.return,V=u,z=a;if(a=tn,V.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Y=z,ie=V,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var pe=e0(C);if(pe!==null){pe.flags&=-257,t0(pe,C,V,y,a),pe.mode&1&&Jw(y,Y,a),a=pe,z=Y;var we=a.updateQueue;if(we===null){var be=new Set;be.add(z),a.updateQueue=be}else we.add(z);break e}else{if((a&1)===0){Jw(y,Y,a),Ym();break e}z=Error(t(426))}}else if(xt&&V.mode&1){var Pt=e0(C);if(Pt!==null){(Pt.flags&65536)===0&&(Pt.flags|=256),t0(Pt,C,V,y,a),om(Ya(z,V));break e}}y=z=Ya(z,V),$t!==4&&($t=2),Lu===null?Lu=[y]:Lu.push(y),y=C;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var G=Zw(y,z,a);Sw(y,G);break e;case 1:V=z;var B=y.type,K=y.stateNode;if((y.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(ys===null||!ys.has(K)))){y.flags|=65536,a&=-a,y.lanes|=a;var ue=Xw(y,V,a);Sw(y,ue);break e}}y=y.return}while(y!==null)}N0(u)}catch(Ce){a=Ce,Mt===u&&u!==null&&(Mt=u=u.return);continue}break}while(!0)}function R0(){var s=af.current;return af.current=ef,s===null?ef:s}function Ym(){($t===0||$t===3||$t===2)&&($t=4),Yt===null||(Ro&268435455)===0&&(lf&268435455)===0||Es(Yt,tn)}function pf(s,a){var u=it;it|=2;var h=R0();(Yt!==s||tn!==a)&&(Ri=null,No(s,a));do try{gA();break}catch(g){A0(s,g)}while(!0);if(lm(),it=u,af.current=h,Mt!==null)throw Error(t(261));return Yt=null,tn=0,$t}function gA(){for(;Mt!==null;)P0(Mt)}function vA(){for(;Mt!==null&&!cd();)P0(Mt)}function P0(s){var a=M0(s.alternate,s,zn);s.memoizedProps=s.pendingProps,a===null?N0(s):Mt=a,Um.current=null}function N0(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=uA(u,a,zn),u!==null){Mt=u;return}}else{if(u=cA(u,a),u!==null){u.flags&=32767,Mt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{$t=6,Mt=null;return}}if(a=a.sibling,a!==null){Mt=a;return}Mt=a=s}while(a!==null);$t===0&&($t=5)}function Do(s,a,u){var h=et,g=ir.transition;try{ir.transition=null,et=1,yA(s,a,u,h)}finally{ir.transition=g,et=h}return null}function yA(s,a,u,h){do Ja();while(_s!==null);if((it&6)!==0)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=u.lanes|u.childLanes;if(pt(s,y),s===Yt&&(Mt=Yt=null,tn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||cf||(cf=!0,L0(Zn,function(){return Ja(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=ir.transition,ir.transition=null;var C=et;et=1;var V=it;it|=4,Um.current=null,fA(s,u),x0(u,s),jk(Yp),ls=!!Kp,Yp=Kp=null,s.current=u,hA(u),Np(),it=V,et=C,ir.transition=y}else s.current=u;if(cf&&(cf=!1,_s=s,df=g),y=s.pendingLanes,y===0&&(ys=null),hd(u.stateNode),kn(s,mt()),a!==null)for(h=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],h(g.value,{componentStack:g.stack,digest:g.digest});if(uf)throw uf=!1,s=Bm,Bm=null,s;return(df&1)!==0&&s.tag!==0&&Ja(),y=s.pendingLanes,(y&1)!==0?s===Wm?Vu++:(Vu=0,Wm=s):Vu=0,ps(),null}function Ja(){if(_s!==null){var s=os(df),a=ir.transition,u=et;try{if(ir.transition=null,et=16>s?16:s,_s===null)var h=!1;else{if(s=_s,_s=null,df=0,(it&6)!==0)throw Error(t(331));var g=it;for(it|=4,ve=s.current;ve!==null;){var y=ve,C=y.child;if((ve.flags&16)!==0){var V=y.deletions;if(V!==null){for(var z=0;z<V.length;z++){var Y=V[z];for(ve=Y;ve!==null;){var ie=ve;switch(ie.tag){case 0:case 11:case 15:Ou(8,ie,y)}var oe=ie.child;if(oe!==null)oe.return=ie,ve=oe;else for(;ve!==null;){ie=ve;var re=ie.sibling,pe=ie.return;if(v0(ie),ie===Y){ve=null;break}if(re!==null){re.return=pe,ve=re;break}ve=pe}}}var we=y.alternate;if(we!==null){var be=we.child;if(be!==null){we.child=null;do{var Pt=be.sibling;be.sibling=null,be=Pt}while(be!==null)}}ve=y}}if((y.subtreeFlags&2064)!==0&&C!==null)C.return=y,ve=C;else e:for(;ve!==null;){if(y=ve,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ou(9,y,y.return)}var G=y.sibling;if(G!==null){G.return=y.return,ve=G;break e}ve=y.return}}var B=s.current;for(ve=B;ve!==null;){C=ve;var K=C.child;if((C.subtreeFlags&2064)!==0&&K!==null)K.return=C,ve=K;else e:for(C=B;ve!==null;){if(V=ve,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:of(9,V)}}catch(Ce){At(V,V.return,Ce)}if(V===C){ve=null;break e}var ue=V.sibling;if(ue!==null){ue.return=V.return,ve=ue;break e}ve=V.return}}if(it=g,ps(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(go,s)}catch{}h=!0}return h}finally{et=u,ir.transition=a}}return!1}function D0(s,a,u){a=Ya(u,a),a=Zw(s,a,1),s=gs(s,a,1),a=_n(),s!==null&&(is(s,1,a),kn(s,a))}function At(s,a,u){if(s.tag===3)D0(s,s,u);else for(;a!==null;){if(a.tag===3){D0(a,s,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ys===null||!ys.has(h))){s=Ya(u,s),s=Xw(a,s,1),a=gs(a,s,1),s=_n(),a!==null&&(is(a,1,s),kn(a,s));break}}a=a.return}}function _A(s,a,u){var h=s.pingCache;h!==null&&h.delete(a),a=_n(),s.pingedLanes|=s.suspendedLanes&u,Yt===s&&(tn&u)===u&&($t===4||$t===3&&(tn&130023424)===tn&&500>mt()-$m?No(s,0):zm|=u),kn(s,a)}function O0(s,a){a===0&&((s.mode&1)===0?a=1:(a=xa,xa<<=1,(xa&130023424)===0&&(xa=4194304)));var u=_n();s=Ci(s,a),s!==null&&(is(s,a,u),kn(s,u))}function wA(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),O0(s,u)}function EA(s,a){var u=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(a),O0(s,u)}var M0;M0=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||Sn.current)In=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return In=!1,lA(s,a,u);In=(s.flags&131072)!==0}else In=!1,xt&&(a.flags&1048576)!==0&&pw(a,$d,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;rf(s,a),s=a.pendingProps;var g=za(a,on.current);Ga(a,u),g=_m(null,a,h,s,g,u);var y=wm();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,bn(h)?(y=!0,Fd(a)):y=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,fm(a),g.updater=tf,a.stateNode=g,g._reactInternals=a,Im(a,h,s,u),a=Rm(null,a,h,!0,y,u)):(a.tag=0,xt&&y&&nm(a),yn(null,a,g,u),a=a.child),a;case 16:h=a.elementType;e:{switch(rf(s,a),s=a.pendingProps,g=h._init,h=g(h._payload),a.type=h,g=a.tag=TA(h),s=Er(h,s),g){case 0:a=Am(null,a,h,s,u);break e;case 1:a=a0(null,a,h,s,u);break e;case 11:a=n0(null,a,h,s,u);break e;case 14:a=r0(null,a,h,Er(h.type,s),u);break e}throw Error(t(306,h,""))}return a;case 0:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:Er(h,g),Am(s,a,h,g,u);case 1:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:Er(h,g),a0(s,a,h,g,u);case 3:e:{if(l0(a),s===null)throw Error(t(387));h=a.pendingProps,y=a.memoizedState,g=y.element,Tw(s,a),Kd(a,h,null,u);var C=a.memoizedState;if(h=C.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){g=Ya(Error(t(423)),a),a=u0(s,a,h,u,g);break e}else if(h!==g){g=Ya(Error(t(424)),a),a=u0(s,a,h,u,g);break e}else for(Un=ds(a.stateNode.containerInfo.firstChild),Fn=a,xt=!0,wr=null,u=Ew(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Wa(),h===g){a=Ai(s,a,u);break e}yn(s,a,h,u)}a=a.child}return a;case 5:return Iw(a),s===null&&sm(a),h=a.type,g=a.pendingProps,y=s!==null?s.memoizedProps:null,C=g.children,Qp(h,g)?C=null:y!==null&&Qp(h,y)&&(a.flags|=32),o0(s,a),yn(s,a,C,u),a.child;case 6:return s===null&&sm(a),null;case 13:return c0(s,a,u);case 4:return hm(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Ha(a,null,h,u):yn(s,a,h,u),a.child;case 11:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:Er(h,g),n0(s,a,h,g,u);case 7:return yn(s,a,a.pendingProps,u),a.child;case 8:return yn(s,a,a.pendingProps.children,u),a.child;case 12:return yn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(h=a.type._context,g=a.pendingProps,y=a.memoizedProps,C=g.value,gt(Hd,h._currentValue),h._currentValue=C,y!==null)if(_r(y.value,C)){if(y.children===g.children&&!Sn.current){a=Ai(s,a,u);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var V=y.dependencies;if(V!==null){C=y.child;for(var z=V.firstContext;z!==null;){if(z.context===h){if(y.tag===1){z=ki(-1,u&-u),z.tag=2;var Y=y.updateQueue;if(Y!==null){Y=Y.shared;var ie=Y.pending;ie===null?z.next=z:(z.next=ie.next,ie.next=z),Y.pending=z}}y.lanes|=u,z=y.alternate,z!==null&&(z.lanes|=u),cm(y.return,u,a),V.lanes|=u;break}z=z.next}}else if(y.tag===10)C=y.type===a.type?null:y.child;else if(y.tag===18){if(C=y.return,C===null)throw Error(t(341));C.lanes|=u,V=C.alternate,V!==null&&(V.lanes|=u),cm(C,u,a),C=y.sibling}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===a){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}yn(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,h=a.pendingProps.children,Ga(a,u),g=nr(g),h=h(g),a.flags|=1,yn(s,a,h,u),a.child;case 14:return h=a.type,g=Er(h,a.pendingProps),g=Er(h.type,g),r0(s,a,h,g,u);case 15:return i0(s,a,a.type,a.pendingProps,u);case 17:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:Er(h,g),rf(s,a),a.tag=1,bn(h)?(s=!0,Fd(a)):s=!1,Ga(a,u),Yw(a,h,g),Im(a,h,g,u),Rm(null,a,h,!0,s,u);case 19:return f0(s,a,u);case 22:return s0(s,a,u)}throw Error(t(156,a.tag))};function L0(s,a){return wa(s,a)}function xA(s,a,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(s,a,u,h){return new xA(s,a,u,h)}function Qm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function TA(s){if(typeof s=="function")return Qm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===Ae)return 14}return 2}function xs(s,a){var u=s.alternate;return u===null?(u=sr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function mf(s,a,u,h,g,y){var C=2;if(h=s,typeof s=="function")Qm(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case D:return Oo(u.children,g,y,a);case A:C=8,g|=8;break;case O:return s=sr(12,u,a,g|2),s.elementType=O,s.lanes=y,s;case N:return s=sr(13,u,a,g),s.elementType=N,s.lanes=y,s;case Te:return s=sr(19,u,a,g),s.elementType=Te,s.lanes=y,s;case ee:return gf(u,g,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:C=10;break e;case U:C=9;break e;case $:C=11;break e;case Ae:C=14;break e;case _e:C=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=sr(C,u,a,g),a.elementType=s,a.type=h,a.lanes=y,a}function Oo(s,a,u,h){return s=sr(7,s,h,a),s.lanes=u,s}function gf(s,a,u,h){return s=sr(22,s,h,a),s.elementType=ee,s.lanes=u,s.stateNode={isHidden:!1},s}function Zm(s,a,u){return s=sr(6,s,null,a),s.lanes=u,s}function Xm(s,a,u){return a=sr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function SA(s,a,u,h,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rs(0),this.expirationTimes=rs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rs(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Jm(s,a,u,h,g,y,C,V,z){return s=new SA(s,a,u,V,z),a===1?(a=1,y===!0&&(a|=8)):a=0,y=sr(3,null,null,a),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},fm(y),s}function bA(s,a,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:h==null?null:""+h,children:s,containerInfo:a,implementation:u}}function V0(s){if(!s)return hs;s=s._reactInternals;e:{if(fr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(bn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(bn(u))return dw(s,u,a)}return a}function j0(s,a,u,h,g,y,C,V,z){return s=Jm(u,h,!0,s,g,y,C,V,z),s.context=V0(null),u=s.current,h=_n(),g=ws(u),y=ki(h,g),y.callback=a??null,gs(u,y,g),s.current.lanes=g,is(s,g,h),kn(s,h),s}function vf(s,a,u,h){var g=a.current,y=_n(),C=ws(g);return u=V0(u),a.context===null?a.context=u:a.pendingContext=u,a=ki(y,C),a.payload={element:s},h=h===void 0?null:h,h!==null&&(a.callback=h),s=gs(g,a,C),s!==null&&(Sr(s,g,C,y),Gd(s,g,C)),C}function yf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function F0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function eg(s,a){F0(s,a),(s=s.alternate)&&F0(s,a)}function IA(){return null}var U0=typeof reportError=="function"?reportError:function(s){console.error(s)};function tg(s){this._internalRoot=s}_f.prototype.render=tg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));vf(s,a,null,null)},_f.prototype.unmount=tg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Po(function(){vf(null,s,null,null)}),a[Ti]=null}};function _f(s){this._internalRoot=s}_f.prototype.unstable_scheduleHydration=function(s){if(s){var a=yd();s={blockedOn:null,target:s,priority:a};for(var u=0;u<$r.length&&a!==0&&a<$r[u].priority;u++);$r.splice(u,0,s),u===0&&Ed(s)}};function ng(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function wf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function z0(){}function CA(s,a,u,h,g){if(g){if(typeof h=="function"){var y=h;h=function(){var Y=yf(C);y.call(Y)}}var C=j0(a,h,s,0,null,!1,!1,"",z0);return s._reactRootContainer=C,s[Ti]=C.current,Eu(s.nodeType===8?s.parentNode:s),Po(),C}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var V=h;h=function(){var Y=yf(z);V.call(Y)}}var z=Jm(s,0,!1,null,null,!1,!1,"",z0);return s._reactRootContainer=z,s[Ti]=z.current,Eu(s.nodeType===8?s.parentNode:s),Po(function(){vf(a,z,u,h)}),z}function Ef(s,a,u,h,g){var y=u._reactRootContainer;if(y){var C=y;if(typeof g=="function"){var V=g;g=function(){var z=yf(C);V.call(z)}}vf(a,C,s,g)}else C=CA(u,a,s,g,h);return yf(C)}gd=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=ns(a.pendingLanes);u!==0&&(ss(a,u|1),kn(a,mt()),(it&6)===0&&(Xa=mt()+500,ps()))}break;case 13:Po(function(){var h=Ci(s,1);if(h!==null){var g=_n();Sr(h,s,1,g)}}),eg(s,1)}},Ta=function(s){if(s.tag===13){var a=Ci(s,134217728);if(a!==null){var u=_n();Sr(a,s,134217728,u)}eg(s,134217728)}},vd=function(s){if(s.tag===13){var a=ws(s),u=Ci(s,a);if(u!==null){var h=_n();Sr(u,s,a,h)}eg(s,a)}},yd=function(){return et},_d=function(s,a){var u=et;try{return et=s,a()}finally{et=u}},pa=function(s,a,u){switch(a){case"input":if(lr(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==s&&h.form===s.form){var g=Vd(h);if(!g)throw Error(t(90));Ge(h),lr(h,g)}}}break;case"textarea":fa(s,u);break;case"select":a=u.value,a!=null&&mi(s,!!u.multiple,a,!1)}},co=Gm,nu=Po;var kA={usingClientEntryPoint:!1,Events:[Su,Fa,Vd,Ur,tu,Gm]},ju={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AA={bundleType:ju.bundleType,version:ju.version,rendererPackageName:ju.rendererPackageName,rendererConfig:ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=su(s),s===null?null:s.stateNode},findFiberByHostInstance:ju.findFiberByHostInstance||IA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{go=xf.inject(AA),Mn=xf}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kA,An.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ng(a))throw Error(t(200));return bA(s,a,null,u)},An.createRoot=function(s,a){if(!ng(s))throw Error(t(299));var u=!1,h="",g=U0;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Jm(s,1,!1,null,null,u,!1,h,g),s[Ti]=a.current,Eu(s.nodeType===8?s.parentNode:s),new tg(a)},An.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=su(a),s=s===null?null:s.stateNode,s},An.flushSync=function(s){return Po(s)},An.hydrate=function(s,a,u){if(!wf(a))throw Error(t(200));return Ef(null,s,a,!0,u)},An.hydrateRoot=function(s,a,u){if(!ng(s))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,g=!1,y="",C=U0;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),a=j0(a,null,s,1,u??null,g,!1,y,C),s[Ti]=a.current,Eu(s),h)for(s=0;s<h.length;s++)u=h[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new _f(a)},An.render=function(s,a,u){if(!wf(a))throw Error(t(200));return Ef(null,s,a,!1,u)},An.unmountComponentAtNode=function(s){if(!wf(s))throw Error(t(40));return s._reactRootContainer?(Po(function(){Ef(null,null,s,!1,function(){s._reactRootContainer=null,s[Ti]=null})}),!0):!1},An.unstable_batchedUpdates=Gm,An.unstable_renderSubtreeIntoContainer=function(s,a,u,h){if(!wf(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Ef(s,a,u,!1,h)},An.version="18.3.1-next-f1338f8080-20240426",An}var Y0;function VT(){if(Y0)return sg.exports;Y0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sg.exports=VA(),sg.exports}var Q0;function jA(){if(Q0)return Sf;Q0=1;var n=VT();return Sf.createRoot=n.createRoot,Sf.hydrateRoot=n.hydrateRoot,Sf}var FA=jA(),Uu={},Z0;function UA(){if(Z0)return Uu;Z0=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.parse=l,Uu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,S){const I=new o,b=w.length;if(b<2)return I;const k=(S==null?void 0:S.decode)||m;let P=0;do{const M=w.indexOf("=",P);if(M===-1)break;const L=w.indexOf(";",P),H=L===-1?b:L;if(M>H){P=w.lastIndexOf(";",M-1)+1;continue}const Z=c(w,P,M),J=f(w,M,Z),D=w.slice(Z,J);if(I[D]===void 0){let A=c(w,M+1,H),O=f(w,H,A);const j=k(w.slice(A,O));I[D]=j}P=H+1}while(P<b);return I}function c(w,S,I){do{const b=w.charCodeAt(S);if(b!==32&&b!==9)return S}while(++S<I);return I}function f(w,S,I){for(;S>I;){const b=w.charCodeAt(--S);if(b!==32&&b!==9)return S+1}return I}function p(w,S,I){const b=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const k=b(S);if(!e.test(k))throw new TypeError(`argument val is invalid: ${S}`);let P=w+"="+k;if(!I)return P;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);P+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);P+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);P+="; Path="+I.path}if(I.expires){if(!_(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);P+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(P+="; HttpOnly"),I.secure&&(P+="; Secure"),I.partitioned&&(P+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return P}function m(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return i.call(w)==="[object Date]"}return Uu}UA();var X0="popstate";function zA(n={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return nv("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:sc(i)}return BA(e,t,null,n)}function It(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Pr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $A(){return Math.random().toString(36).substring(2,10)}function J0(n,e){return{usr:n.state,key:n.key,idx:e}}function nv(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Dl(e):e,state:t,key:e&&e.key||r||$A()}}function sc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Dl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function BA(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",f=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function _(){c="POP";let k=m(),P=k==null?null:k-p;p=k,f&&f({action:c,location:b.location,delta:P})}function w(k,P){c="PUSH";let M=nv(b.location,k,P);p=m()+1;let L=J0(M,p),H=b.createHref(M);try{l.pushState(L,"",H)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;i.location.assign(H)}o&&f&&f({action:c,location:b.location,delta:1})}function S(k,P){c="REPLACE";let M=nv(b.location,k,P);p=m();let L=J0(M,p),H=b.createHref(M);l.replaceState(L,"",H),o&&f&&f({action:c,location:b.location,delta:0})}function I(k){return WA(k)}let b={get action(){return c},get location(){return n(i,l)},listen(k){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(X0,_),f=k,()=>{i.removeEventListener(X0,_),f=null}},createHref(k){return e(i,k)},createURL:I,encodeLocation(k){let P=I(k);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:S,go(k){return l.go(k)}};return b}function WA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),It(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:sc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function jT(n,e,t="/"){return HA(n,e,t,!1)}function HA(n,e,t,r){let i=typeof e=="string"?Dl(e):e,o=Bi(i.pathname||"/",t);if(o==null)return null;let l=FT(n);qA(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=rR(o);c=tR(l[f],p,r)}return c}function FT(n,e=[],t=[],r=""){let i=(o,l,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(It(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Fi([r,f.relativePath]),m=t.concat(f);o.children&&o.children.length>0&&(It(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),FT(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:JA(p,o.index),routesMeta:m})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let f of UT(o.path))i(o,l,f)}),e}function UT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=UT(r.join("/")),c=[];return c.push(...l.map(f=>f===""?o:[o,f].join("/"))),i&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function qA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:eR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var GA=/^:[\w-]+$/,KA=3,YA=2,QA=1,ZA=10,XA=-2,eE=n=>n==="*";function JA(n,e){let t=n.split("/"),r=t.length;return t.some(eE)&&(r+=XA),e&&(r+=YA),t.filter(i=>!eE(i)).reduce((i,o)=>i+(GA.test(o)?KA:o===""?QA:ZA),r)}function eR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function tR(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",_=ih({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),w=f.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=ih({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:Fi([o,_.pathname]),pathnameBase:aR(Fi([o,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(o=Fi([o,_.pathnameBase]))}return l}function ih(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=nR(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:_},w)=>{if(m==="*"){let I=c[w]||"";l=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const S=c[w];return _&&!S?p[m]=void 0:p[m]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function nR(n,e=!1,t=!0){Pr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Bi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function iR(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Dl(n):n;return{pathname:t?t.startsWith("/")?t:sR(t,e):e,search:lR(r),hash:uR(i)}}function sR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function lg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zT(n){let e=oR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function $T(n,e,t,r=!1){let i;typeof n=="string"?i=Dl(n):(i={...n},It(!i.pathname||!i.pathname.includes("?"),lg("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),lg("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),lg("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),_-=1;i.pathname=w.join("/")}c=_>=0?e[_]:"/"}let f=iR(i,c),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}var Fi=n=>n.join("/").replace(/\/\/+/g,"/"),aR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),lR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,uR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function cR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var BT=["POST","PUT","PATCH","DELETE"];new Set(BT);var dR=["GET",...BT];new Set(dR);var Ol=x.createContext(null);Ol.displayName="DataRouter";var Uh=x.createContext(null);Uh.displayName="DataRouterState";var WT=x.createContext({isTransitioning:!1});WT.displayName="ViewTransition";var fR=x.createContext(new Map);fR.displayName="Fetchers";var hR=x.createContext(null);hR.displayName="Await";var ui=x.createContext(null);ui.displayName="Navigation";var Mc=x.createContext(null);Mc.displayName="Location";var Zi=x.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var Xv=x.createContext(null);Xv.displayName="RouteError";function pR(n,{relative:e}={}){It(Lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=x.useContext(ui),{hash:i,pathname:o,search:l}=jc(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Fi([t,o])),r.createHref({pathname:c,search:l,hash:i})}function Lc(){return x.useContext(Mc)!=null}function Xs(){return It(Lc(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Mc).location}var HT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qT(n){x.useContext(ui).static||x.useLayoutEffect(n)}function Vc(){let{isDataRoute:n}=x.useContext(Zi);return n?CR():mR()}function mR(){It(Lc(),"useNavigate() may be used only in the context of a <Router> component.");let n=x.useContext(Ol),{basename:e,navigator:t}=x.useContext(ui),{matches:r}=x.useContext(Zi),{pathname:i}=Xs(),o=JSON.stringify(zT(r)),l=x.useRef(!1);return qT(()=>{l.current=!0}),x.useCallback((f,p={})=>{if(Pr(l.current,HT),!l.current)return;if(typeof f=="number"){t.go(f);return}let m=$T(f,JSON.parse(o),i,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Fi([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,o,i,n])}x.createContext(null);function jc(n,{relative:e}={}){let{matches:t}=x.useContext(Zi),{pathname:r}=Xs(),i=JSON.stringify(zT(t));return x.useMemo(()=>$T(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function gR(n,e){return GT(n,e)}function GT(n,e,t,r){var M;It(Lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=x.useContext(ui),{matches:l}=x.useContext(Zi),c=l[l.length-1],f=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",_=c&&c.route;{let L=_&&_.path||"";KT(p,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let w=Xs(),S;if(e){let L=typeof e=="string"?Dl(e):e;It(m==="/"||((M=L.pathname)==null?void 0:M.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${L.pathname}" was given in the \`location\` prop.`),S=L}else S=w;let I=S.pathname||"/",b=I;if(m!=="/"){let L=m.replace(/^\//,"").split("/");b="/"+I.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=!o&&t&&t.matches&&t.matches.length>0?t.matches:jT(n,{pathname:b});Pr(_||k!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Pr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=ER(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:Fi([m,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?m:Fi([m,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,t,r);return e&&P?x.createElement(Mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},P):P}function vR(){let n=IR(),e=cR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:i},t):null,l)}var yR=x.createElement(vR,null),_R=class extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?x.createElement(Zi.Provider,{value:this.props.routeContext},x.createElement(Xv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wR({routeContext:n,match:e,children:t}){let r=x.useContext(Ol);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Zi.Provider,{value:n},t)}function ER(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let f=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);It(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,c=-1;if(t)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:m,errors:_}=t,w=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,p,m)=>{let _,w=!1,S=null,I=null;t&&(_=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||yR,l&&(c<0&&m===0?(KT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,I=null):c===m&&(w=!0,I=p.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,m+1)),k=()=>{let P;return _?P=S:w?P=I:p.route.Component?P=x.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=f,x.createElement(wR,{match:p,routeContext:{outlet:f,matches:b,isDataRoute:t!=null},children:P})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?x.createElement(_R,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:k(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):k()},null)}function Jv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xR(n){let e=x.useContext(Ol);return It(e,Jv(n)),e}function TR(n){let e=x.useContext(Uh);return It(e,Jv(n)),e}function SR(n){let e=x.useContext(Zi);return It(e,Jv(n)),e}function ey(n){let e=SR(n),t=e.matches[e.matches.length-1];return It(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function bR(){return ey("useRouteId")}function IR(){var r;let n=x.useContext(Xv),e=TR("useRouteError"),t=ey("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function CR(){let{router:n}=xR("useNavigate"),e=ey("useNavigate"),t=x.useRef(!1);return qT(()=>{t.current=!0}),x.useCallback(async(i,o={})=>{Pr(t.current,HT),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var tE={};function KT(n,e,t){!e&&!tE[n]&&(tE[n]=!0,Pr(!1,t))}x.memo(kR);function kR({routes:n,future:e,state:t}){return GT(n,void 0,t,e)}function zf(n){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){It(!Lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Dl(t));let{pathname:f="/",search:p="",hash:m="",state:_=null,key:w="default"}=t,S=x.useMemo(()=>{let I=Bi(f,l);return I==null?null:{location:{pathname:I,search:p,hash:m,state:_,key:w},navigationType:r}},[l,f,p,m,_,w,r]);return Pr(S!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:x.createElement(ui.Provider,{value:c},x.createElement(Mc.Provider,{children:e,value:S}))}function RR({children:n,location:e}){return gR(rv(n),e)}function rv(n,e=[]){let t=[];return x.Children.forEach(n,(r,i)=>{if(!x.isValidElement(r))return;let o=[...e,i];if(r.type===x.Fragment){t.push.apply(t,rv(r.props.children,o));return}It(r.type===zf,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=rv(r.props.children,o)),t.push(l)}),t}var $f="get",Bf="application/x-www-form-urlencoded";function zh(n){return n!=null&&typeof n.tagName=="string"}function PR(n){return zh(n)&&n.tagName.toLowerCase()==="button"}function NR(n){return zh(n)&&n.tagName.toLowerCase()==="form"}function DR(n){return zh(n)&&n.tagName.toLowerCase()==="input"}function OR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MR(n,e){return n.button===0&&(!e||e==="_self")&&!OR(n)}function iv(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function LR(n,e){let t=iv(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(o=>{t.append(i,o)})}),t}var bf=null;function VR(){if(bf===null)try{new FormData(document.createElement("form"),0),bf=!1}catch{bf=!0}return bf}var jR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ug(n){return n!=null&&!jR.has(n)?(Pr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bf}"`),null):n}function FR(n,e){let t,r,i,o,l;if(NR(n)){let c=n.getAttribute("action");r=c?Bi(c,e):null,t=n.getAttribute("method")||$f,i=ug(n.getAttribute("enctype"))||Bf,o=new FormData(n)}else if(PR(n)||DR(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?Bi(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||$f,i=ug(n.getAttribute("formenctype"))||ug(c.getAttribute("enctype"))||Bf,o=new FormData(c,n),!VR()){let{name:p,type:m,value:_}=n;if(m==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,_)}}else{if(zh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$f,r=null,i=Bf,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function ty(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function UR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $R(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await UR(o,t);return l.links?l.links():[]}return[]}));return qR(r.flat(1).filter(zR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nE(n,e,t,r,i,o){let l=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,c=(f,p)=>{var m;return t[p].pathname!==f.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,p)=>l(f,p)||c(f,p)):o==="data"?e.filter((f,p)=>{var _;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function BR(n,e,{includeHydrateFallback:t}={}){return WR(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function WR(n){return[...new Set(n)]}function HR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function qR(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(HR(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var GR=new Set([100,101,204,205]);function KR(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Bi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function YT(){let n=x.useContext(Ol);return ty(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function YR(){let n=x.useContext(Uh);return ty(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ny=x.createContext(void 0);ny.displayName="FrameworkContext";function QT(){let n=x.useContext(ny);return ty(n,"You must render this element inside a <HydratedRouter> element"),n}function QR(n,e){let t=x.useContext(ny),[r,i]=x.useState(!1),[o,l]=x.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:m,onTouchStart:_}=e,w=x.useRef(null);x.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let b=P=>{P.forEach(M=>{l(M.isIntersecting)})},k=new IntersectionObserver(b,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[n]),x.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let S=()=>{i(!0)},I=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:zu(c,S),onBlur:zu(f,I),onMouseEnter:zu(p,S),onMouseLeave:zu(m,I),onTouchStart:zu(_,S)}]:[!1,w,{}]}function zu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function ZR({page:n,...e}){let{router:t}=YT(),r=x.useMemo(()=>jT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?x.createElement(JR,{page:n,matches:r,...e}):null}function XR(n){let{manifest:e,routeModules:t}=QT(),[r,i]=x.useState([]);return x.useEffect(()=>{let o=!1;return $R(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function JR({page:n,matches:e,...t}){let r=Xs(),{manifest:i,routeModules:o}=QT(),{basename:l}=YT(),{loaderData:c,matches:f}=YR(),p=x.useMemo(()=>nE(n,e,f,i,r,"data"),[n,e,f,i,r]),m=x.useMemo(()=>nE(n,e,f,i,r,"assets"),[n,e,f,i,r]),_=x.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,b=!1;if(e.forEach(P=>{var L;let M=i.routes[P.route.id];!M||!M.hasLoader||(!p.some(H=>H.route.id===P.route.id)&&P.route.id in c&&((L=o[P.route.id])!=null&&L.shouldRevalidate)||M.hasClientLoader?b=!0:I.add(P.route.id))}),I.size===0)return[];let k=KR(n,l);return b&&I.size>0&&k.searchParams.set("_routes",e.filter(P=>I.has(P.route.id)).map(P=>P.route.id).join(",")),[k.pathname+k.search]},[l,c,r,i,p,e,n,o]),w=x.useMemo(()=>BR(m,i),[m,i]),S=XR(m);return x.createElement(x.Fragment,null,_.map(I=>x.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),w.map(I=>x.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),S.map(({key:I,link:b})=>x.createElement("link",{key:I,...b})))}function eP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ZT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZT&&(window.__reactRouterVersion="7.6.0")}catch{}function tP({basename:n,children:e,window:t}){let r=x.useRef();r.current==null&&(r.current=zA({window:t,v5Compat:!0}));let i=r.current,[o,l]=x.useState({action:i.action,location:i.location}),c=x.useCallback(f=>{x.startTransition(()=>l(f))},[l]);return x.useLayoutEffect(()=>i.listen(c),[i,c]),x.createElement(AR,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var XT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JT=x.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:f,to:p,preventScrollReset:m,viewTransition:_,...w},S){let{basename:I}=x.useContext(ui),b=typeof p=="string"&&XT.test(p),k,P=!1;if(typeof p=="string"&&b&&(k=p,ZT))try{let O=new URL(window.location.href),j=p.startsWith("//")?new URL(O.protocol+p):new URL(p),U=Bi(j.pathname,I);j.origin===O.origin&&U!=null?p=U+j.search+j.hash:P=!0}catch{Pr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=pR(p,{relative:i}),[L,H,Z]=QR(r,w),J=sP(p,{replace:l,state:c,target:f,preventScrollReset:m,relative:i,viewTransition:_});function D(O){e&&e(O),O.defaultPrevented||J(O)}let A=x.createElement("a",{...w,...Z,href:k||M,onClick:P||o?e:D,ref:eP(S,H),target:f,"data-discover":!b&&t==="render"?"true":void 0});return L&&!b?x.createElement(x.Fragment,null,A,x.createElement(ZR,{page:M})):A});JT.displayName="Link";var nP=x.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:f,...p},m){let _=jc(l,{relative:p.relative}),w=Xs(),S=x.useContext(Uh),{navigator:I,basename:b}=x.useContext(ui),k=S!=null&&dP(_)&&c===!0,P=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,M=w.pathname,L=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(M=M.toLowerCase(),L=L?L.toLowerCase():null,P=P.toLowerCase()),L&&b&&(L=Bi(L,b)||L);const H=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let Z=M===P||!i&&M.startsWith(P)&&M.charAt(H)==="/",J=L!=null&&(L===P||!i&&L.startsWith(P)&&L.charAt(P.length)==="/"),D={isActive:Z,isPending:J,isTransitioning:k},A=Z?e:void 0,O;typeof r=="function"?O=r(D):O=[r,Z?"active":null,J?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(D):o;return x.createElement(JT,{...p,"aria-current":A,className:O,ref:m,style:j,to:l,viewTransition:c},typeof f=="function"?f(D):f)});nP.displayName="NavLink";var rP=x.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=$f,action:c,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:_,...w},S)=>{let I=uP(),b=cP(c,{relative:p}),k=l.toLowerCase()==="get"?"get":"post",P=typeof c=="string"&&XT.test(c),M=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let H=L.nativeEvent.submitter,Z=(H==null?void 0:H.getAttribute("formmethod"))||l;I(H||L.currentTarget,{fetcherKey:e,method:Z,navigate:t,replace:i,state:o,relative:p,preventScrollReset:m,viewTransition:_})};return x.createElement("form",{ref:S,method:k,action:b,onSubmit:r?f:M,...w,"data-discover":!P&&n==="render"?"true":void 0})});rP.displayName="Form";function iP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eS(n){let e=x.useContext(Ol);return It(e,iP(n)),e}function sP(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=Vc(),f=Xs(),p=jc(n,{relative:o});return x.useCallback(m=>{if(MR(m,e)){m.preventDefault();let _=t!==void 0?t:sc(f)===sc(p);c(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[f,c,p,t,r,e,n,i,o,l])}function oP(n){Pr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=x.useRef(iv(n)),t=x.useRef(!1),r=Xs(),i=x.useMemo(()=>LR(r.search,t.current?null:e.current),[r.search]),o=Vc(),l=x.useCallback((c,f)=>{const p=iv(typeof c=="function"?c(i):c);t.current=!0,o("?"+p,f)},[o,i]);return[i,l]}var aP=0,lP=()=>`__${String(++aP)}__`;function uP(){let{router:n}=eS("useSubmit"),{basename:e}=x.useContext(ui),t=bR();return x.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:f,body:p}=FR(r,e);if(i.navigate===!1){let m=i.fetcherKey||lP();await n.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function cP(n,{relative:e}={}){let{basename:t}=x.useContext(ui),r=x.useContext(Zi);It(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...jc(n||".",{relative:e})},l=Xs();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(_=>_).forEach(_=>c.append("index",_));let m=c.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Fi([t,o.pathname])),sc(o)}function dP(n,e={}){let t=x.useContext(WT);It(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=eS("useViewTransitionState"),i=jc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Bi(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Bi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ih(i.pathname,l)!=null||ih(i.pathname,o)!=null}[...GR];var Fc=VT();const fP=Qv(Fc);function hP(n,e){const t=x.createContext(e),r=o=>{const{children:l,...c}=o,f=x.useMemo(()=>c,Object.values(c));return T.jsx(t.Provider,{value:f,children:l})};r.displayName=n+"Provider";function i(o){const l=x.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return[r,i]}function sa(n,e=[]){let t=[];function r(o,l){const c=x.createContext(l),f=t.length;t=[...t,l];const p=_=>{var P;const{scope:w,children:S,...I}=_,b=((P=w==null?void 0:w[n])==null?void 0:P[f])||c,k=x.useMemo(()=>I,Object.values(I));return T.jsx(b.Provider,{value:k,children:S})};p.displayName=o+"Provider";function m(_,w){var b;const S=((b=w==null?void 0:w[n])==null?void 0:b[f])||c,I=x.useContext(S);if(I)return I;if(l!==void 0)return l;throw new Error(`\`${_}\` must be used within \`${o}\``)}return[p,m]}const i=()=>{const o=t.map(l=>x.createContext(l));return function(c){const f=(c==null?void 0:c[n])||o;return x.useMemo(()=>({[`__scope${n}`]:{...c,[n]:f}}),[c,f])}};return i.scopeName=n,[r,pP(i,...e)]}function pP(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:f,scopeName:p})=>{const _=f(o)[`__scope${p}`];return{...c,..._}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function rE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function mP(...n){return e=>{let t=!1;const r=n.map(i=>{const o=rE(i,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():rE(n[i],null)}}}}function ht(...n){return x.useCallback(mP(...n),n)}function st(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var hn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},gP=LT[" useId ".trim().toString()]||(()=>{}),vP=0;function Uo(n){const[e,t]=x.useState(gP());return hn(()=>{t(r=>r??String(vP++))},[n]),n||(e?`radix-${e}`:"")}var yP=LT[" useInsertionEffect ".trim().toString()]||hn;function oc({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,o,l]=_P({defaultProp:e,onChange:t}),c=n!==void 0,f=c?n:i;{const m=x.useRef(n!==void 0);x.useEffect(()=>{const _=m.current;_!==c&&console.warn(`${r} is changing from ${_?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const p=x.useCallback(m=>{var _;if(c){const w=wP(m)?m(n):m;w!==n&&((_=l.current)==null||_.call(l,w))}else o(m)},[c,n,o,l]);return[f,p]}function _P({defaultProp:n,onChange:e}){const[t,r]=x.useState(n),i=x.useRef(t),o=x.useRef(e);return yP(()=>{o.current=e},[e]),x.useEffect(()=>{var l;i.current!==t&&((l=o.current)==null||l.call(o,t),i.current=t)},[t,i]),[t,r,o]}function wP(n){return typeof n=="function"}function Bo(n){const e=xP(n),t=x.forwardRef((r,i)=>{const{children:o,...l}=r,c=x.Children.toArray(o),f=c.find(SP);if(f){const p=f.props.children,m=c.map(_=>_===f?x.Children.count(p)>1?x.Children.only(null):x.isValidElement(p)?p.props.children:null:_);return T.jsx(e,{...l,ref:i,children:x.isValidElement(p)?x.cloneElement(p,void 0,m):null})}return T.jsx(e,{...l,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}var EP=Bo("Slot");function xP(n){const e=x.forwardRef((t,r)=>{const{children:i,...o}=t,l=x.isValidElement(i)?IP(i):void 0,c=ht(l,r);if(x.isValidElement(i)){const f=bP(o,i.props);return i.type!==x.Fragment&&(f.ref=c),x.cloneElement(i,f)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var tS=Symbol("radix.slottable");function TP(n){const e=({children:t})=>T.jsx(T.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=tS,e}function SP(n){return x.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===tS}function bP(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function IP(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var CP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lt=CP.reduce((n,e)=>{const t=Bo(`Primitive.${e}`),r=x.forwardRef((i,o)=>{const{asChild:l,...c}=i,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(f,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function kP(n,e){n&&Fc.flushSync(()=>n.dispatchEvent(e))}function Wo(n){const e=x.useRef(n);return x.useEffect(()=>{e.current=n}),x.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function AP(n,e=globalThis==null?void 0:globalThis.document){const t=Wo(n);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var RP="DismissableLayer",sv="dismissableLayer.update",PP="dismissableLayer.pointerDownOutside",NP="dismissableLayer.focusOutside",iE,nS=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$h=x.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...f}=n,p=x.useContext(nS),[m,_]=x.useState(null),w=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=x.useState({}),I=ht(e,D=>_(D)),b=Array.from(p.layers),[k]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),P=b.indexOf(k),M=m?b.indexOf(m):-1,L=p.layersWithOutsidePointerEventsDisabled.size>0,H=M>=P,Z=MP(D=>{const A=D.target,O=[...p.branches].some(j=>j.contains(A));!H||O||(i==null||i(D),l==null||l(D),D.defaultPrevented||c==null||c())},w),J=LP(D=>{const A=D.target;[...p.branches].some(j=>j.contains(A))||(o==null||o(D),l==null||l(D),D.defaultPrevented||c==null||c())},w);return AP(D=>{M===p.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},w),x.useEffect(()=>{if(m)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(iE=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),sE(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=iE)}},[m,w,t,p]),x.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),sE())},[m,p]),x.useEffect(()=>{const D=()=>S({});return document.addEventListener(sv,D),()=>document.removeEventListener(sv,D)},[]),T.jsx(lt.div,{...f,ref:I,style:{pointerEvents:L?H?"auto":"none":void 0,...n.style},onFocusCapture:st(n.onFocusCapture,J.onFocusCapture),onBlurCapture:st(n.onBlurCapture,J.onBlurCapture),onPointerDownCapture:st(n.onPointerDownCapture,Z.onPointerDownCapture)})});$h.displayName=RP;var DP="DismissableLayerBranch",OP=x.forwardRef((n,e)=>{const t=x.useContext(nS),r=x.useRef(null),i=ht(e,r);return x.useEffect(()=>{const o=r.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),T.jsx(lt.div,{...n,ref:i})});OP.displayName=DP;function MP(n,e=globalThis==null?void 0:globalThis.document){const t=Wo(n),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let f=function(){rS(PP,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function LP(n,e=globalThis==null?void 0:globalThis.document){const t=Wo(n),r=x.useRef(!1);return x.useEffect(()=>{const i=o=>{o.target&&!r.current&&rS(NP,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function sE(){const n=new CustomEvent(sv);document.dispatchEvent(n)}function rS(n,e,t,{discrete:r}){const i=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?kP(i,o):i.dispatchEvent(o)}var cg="focusScope.autoFocusOnMount",dg="focusScope.autoFocusOnUnmount",oE={bubbles:!1,cancelable:!0},VP="FocusScope",Bh=x.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=n,[c,f]=x.useState(null),p=Wo(i),m=Wo(o),_=x.useRef(null),w=ht(e,b=>f(b)),S=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let b=function(L){if(S.paused||!c)return;const H=L.target;c.contains(H)?_.current=H:ks(_.current,{select:!0})},k=function(L){if(S.paused||!c)return;const H=L.relatedTarget;H!==null&&(c.contains(H)||ks(_.current,{select:!0}))},P=function(L){if(document.activeElement===document.body)for(const Z of L)Z.removedNodes.length>0&&ks(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",k);const M=new MutationObserver(P);return c&&M.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",k),M.disconnect()}}},[r,c,S.paused]),x.useEffect(()=>{if(c){lE.add(S);const b=document.activeElement;if(!c.contains(b)){const P=new CustomEvent(cg,oE);c.addEventListener(cg,p),c.dispatchEvent(P),P.defaultPrevented||(jP(BP(iS(c)),{select:!0}),document.activeElement===b&&ks(c))}return()=>{c.removeEventListener(cg,p),setTimeout(()=>{const P=new CustomEvent(dg,oE);c.addEventListener(dg,m),c.dispatchEvent(P),P.defaultPrevented||ks(b??document.body,{select:!0}),c.removeEventListener(dg,m),lE.remove(S)},0)}}},[c,p,m,S]);const I=x.useCallback(b=>{if(!t&&!r||S.paused)return;const k=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,P=document.activeElement;if(k&&P){const M=b.currentTarget,[L,H]=FP(M);L&&H?!b.shiftKey&&P===H?(b.preventDefault(),t&&ks(L,{select:!0})):b.shiftKey&&P===L&&(b.preventDefault(),t&&ks(H,{select:!0})):P===M&&b.preventDefault()}},[t,r,S.paused]);return T.jsx(lt.div,{tabIndex:-1,...l,ref:w,onKeyDown:I})});Bh.displayName=VP;function jP(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(ks(r,{select:e}),document.activeElement!==t)return}function FP(n){const e=iS(n),t=aE(e,n),r=aE(e.reverse(),n);return[t,r]}function iS(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function aE(n,e){for(const t of n)if(!UP(t,{upTo:e}))return t}function UP(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function zP(n){return n instanceof HTMLInputElement&&"select"in n}function ks(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&zP(n)&&e&&n.select()}}var lE=$P();function $P(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=uE(n,e),n.unshift(e)},remove(e){var t;n=uE(n,e),(t=n[0])==null||t.resume()}}}function uE(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function BP(n){return n.filter(e=>e.tagName!=="A")}var WP="Portal",Wh=x.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,o]=x.useState(!1);hn(()=>o(!0),[]);const l=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?fP.createPortal(T.jsx(lt.div,{...r,ref:e}),l):null});Wh.displayName=WP;function HP(n,e){return x.useReducer((t,r)=>e[t][r]??t,n)}var oa=n=>{const{present:e,children:t}=n,r=qP(e),i=typeof t=="function"?t({present:r.isPresent}):x.Children.only(t),o=ht(r.ref,GP(i));return typeof t=="function"||r.isPresent?x.cloneElement(i,{ref:o}):null};oa.displayName="Presence";function qP(n){const[e,t]=x.useState(),r=x.useRef(null),i=x.useRef(n),o=x.useRef("none"),l=n?"mounted":"unmounted",[c,f]=HP(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const p=If(r.current);o.current=c==="mounted"?p:"none"},[c]),hn(()=>{const p=r.current,m=i.current;if(m!==n){const w=o.current,S=If(p);n?f("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(m&&w!==S?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),hn(()=>{if(e){let p;const m=e.ownerDocument.defaultView??window,_=S=>{const b=If(r.current).includes(S.animationName);if(S.target===e&&b&&(f("ANIMATION_END"),!i.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",p=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},w=S=>{S.target===e&&(o.current=If(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{m.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function If(n){return(n==null?void 0:n.animationName)||"none"}function GP(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var fg=0;function ry(){x.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??cE()),document.body.insertAdjacentElement("beforeend",n[1]??cE()),fg++,()=>{fg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),fg--}},[])}function cE(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Zr=function(){return Zr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Zr.apply(this,arguments)};function Uc(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function KP(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var Wf="right-scroll-bar-position",Hf="width-before-scroll-bar",YP="with-scroll-bars-hidden",QP="--removed-body-scroll-bar-size";function hg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function ZP(n,e){var t=x.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var XP=typeof window<"u"?x.useLayoutEffect:x.useEffect,dE=new WeakMap;function JP(n,e){var t=ZP(null,function(r){return n.forEach(function(i){return hg(i,r)})});return XP(function(){var r=dE.get(t);if(r){var i=new Set(r),o=new Set(n),l=t.current;i.forEach(function(c){o.has(c)||hg(c,null)}),o.forEach(function(c){i.has(c)||hg(c,l)})}dE.set(t,n)},[n]),t}function eN(n){return n}function tN(n,e){e===void 0&&(e=eN);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var l=e(o,r);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;t.length;){var l=t;t=[],l.forEach(o)}t={push:function(c){return o(c)},filter:function(){return t}}},assignMedium:function(o){r=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(o),l=t}var f=function(){var m=l;l=[],m.forEach(o)},p=function(){return Promise.resolve().then(f)};p(),t={push:function(m){l.push(m),p()},filter:function(m){return l=l.filter(m),t}}}};return i}function nN(n){n===void 0&&(n={});var e=tN(null);return e.options=Zr({async:!0,ssr:!1},n),e}var sS=function(n){var e=n.sideCar,t=Uc(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Zr({},t))};sS.isSideCarExport=!0;function rN(n,e){return n.useMedium(e),sS}var oS=nN(),pg=function(){},Hh=x.forwardRef(function(n,e){var t=x.useRef(null),r=x.useState({onScrollCapture:pg,onWheelCapture:pg,onTouchMoveCapture:pg}),i=r[0],o=r[1],l=n.forwardProps,c=n.children,f=n.className,p=n.removeScrollBar,m=n.enabled,_=n.shards,w=n.sideCar,S=n.noIsolation,I=n.inert,b=n.allowPinchZoom,k=n.as,P=k===void 0?"div":k,M=n.gapMode,L=Uc(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=w,Z=JP([t,e]),J=Zr(Zr({},L),i);return x.createElement(x.Fragment,null,m&&x.createElement(H,{sideCar:oS,removeScrollBar:p,shards:_,noIsolation:S,inert:I,setCallbacks:o,allowPinchZoom:!!b,lockRef:t,gapMode:M}),l?x.cloneElement(x.Children.only(c),Zr(Zr({},J),{ref:Z})):x.createElement(P,Zr({},J,{className:f,ref:Z}),c))});Hh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hh.classNames={fullWidth:Hf,zeroRight:Wf};var iN=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sN(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=iN();return e&&n.setAttribute("nonce",e),n}function oN(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function aN(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var lN=function(){var n=0,e=null;return{add:function(t){n==0&&(e=sN())&&(oN(e,t),aN(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},uN=function(){var n=lN();return function(e,t){x.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},aS=function(){var n=uN(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},cN={left:0,top:0,right:0,gap:0},mg=function(n){return parseInt(n||"",10)||0},dN=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[mg(t),mg(r),mg(i)]},fN=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return cN;var e=dN(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},hN=aS(),dl="data-scroll-locked",pN=function(n,e,t,r){var i=n.left,o=n.top,l=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(YP,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(dl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Hf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Wf," .").concat(Wf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Hf," .").concat(Hf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(dl,`] {
    `).concat(QP,": ").concat(c,`px;
  }
`)},fE=function(){var n=parseInt(document.body.getAttribute(dl)||"0",10);return isFinite(n)?n:0},mN=function(){x.useEffect(function(){return document.body.setAttribute(dl,(fE()+1).toString()),function(){var n=fE()-1;n<=0?document.body.removeAttribute(dl):document.body.setAttribute(dl,n.toString())}},[])},gN=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;mN();var o=x.useMemo(function(){return fN(i)},[i]);return x.createElement(hN,{styles:pN(o,!e,i,t?"":"!important")})},ov=!1;if(typeof window<"u")try{var Cf=Object.defineProperty({},"passive",{get:function(){return ov=!0,!0}});window.addEventListener("test",Cf,Cf),window.removeEventListener("test",Cf,Cf)}catch{ov=!1}var el=ov?{passive:!1}:!1,vN=function(n){return n.tagName==="TEXTAREA"},lS=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!vN(n)&&t[e]==="visible")},yN=function(n){return lS(n,"overflowY")},_N=function(n){return lS(n,"overflowX")},hE=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=uS(n,r);if(i){var o=cS(n,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},wN=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},EN=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},uS=function(n,e){return n==="v"?yN(e):_N(e)},cS=function(n,e){return n==="v"?wN(e):EN(e)},xN=function(n,e){return n==="h"&&e==="rtl"?-1:1},TN=function(n,e,t,r,i){var o=xN(n,window.getComputedStyle(e).direction),l=o*r,c=t.target,f=e.contains(c),p=!1,m=l>0,_=0,w=0;do{var S=cS(n,c),I=S[0],b=S[1],k=S[2],P=b-k-o*I;(I||P)&&uS(n,c)&&(_+=P,w+=I),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(m&&Math.abs(_)<1||!m&&Math.abs(w)<1)&&(p=!0),p},kf=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},pE=function(n){return[n.deltaX,n.deltaY]},mE=function(n){return n&&"current"in n?n.current:n},SN=function(n,e){return n[0]===e[0]&&n[1]===e[1]},bN=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},IN=0,tl=[];function CN(n){var e=x.useRef([]),t=x.useRef([0,0]),r=x.useRef(),i=x.useState(IN++)[0],o=x.useState(aS)[0],l=x.useRef(n);x.useEffect(function(){l.current=n},[n]),x.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var b=KP([n.lockRef.current],(n.shards||[]).map(mE),!0).filter(Boolean);return b.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var c=x.useCallback(function(b,k){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var P=kf(b),M=t.current,L="deltaX"in b?b.deltaX:M[0]-P[0],H="deltaY"in b?b.deltaY:M[1]-P[1],Z,J=b.target,D=Math.abs(L)>Math.abs(H)?"h":"v";if("touches"in b&&D==="h"&&J.type==="range")return!1;var A=hE(D,J);if(!A)return!0;if(A?Z=D:(Z=D==="v"?"h":"v",A=hE(D,J)),!A)return!1;if(!r.current&&"changedTouches"in b&&(L||H)&&(r.current=Z),!Z)return!0;var O=r.current||Z;return TN(O,k,b,O==="h"?L:H)},[]),f=x.useCallback(function(b){var k=b;if(!(!tl.length||tl[tl.length-1]!==o)){var P="deltaY"in k?pE(k):kf(k),M=e.current.filter(function(Z){return Z.name===k.type&&(Z.target===k.target||k.target===Z.shadowParent)&&SN(Z.delta,P)})[0];if(M&&M.should){k.cancelable&&k.preventDefault();return}if(!M){var L=(l.current.shards||[]).map(mE).filter(Boolean).filter(function(Z){return Z.contains(k.target)}),H=L.length>0?c(k,L[0]):!l.current.noIsolation;H&&k.cancelable&&k.preventDefault()}}},[]),p=x.useCallback(function(b,k,P,M){var L={name:b,delta:k,target:P,should:M,shadowParent:kN(P)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(H){return H!==L})},1)},[]),m=x.useCallback(function(b){t.current=kf(b),r.current=void 0},[]),_=x.useCallback(function(b){p(b.type,pE(b),b.target,c(b,n.lockRef.current))},[]),w=x.useCallback(function(b){p(b.type,kf(b),b.target,c(b,n.lockRef.current))},[]);x.useEffect(function(){return tl.push(o),n.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:w}),document.addEventListener("wheel",f,el),document.addEventListener("touchmove",f,el),document.addEventListener("touchstart",m,el),function(){tl=tl.filter(function(b){return b!==o}),document.removeEventListener("wheel",f,el),document.removeEventListener("touchmove",f,el),document.removeEventListener("touchstart",m,el)}},[]);var S=n.removeScrollBar,I=n.inert;return x.createElement(x.Fragment,null,I?x.createElement(o,{styles:bN(i)}):null,S?x.createElement(gN,{gapMode:n.gapMode}):null)}function kN(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const AN=rN(oS,CN);var qh=x.forwardRef(function(n,e){return x.createElement(Hh,Zr({},n,{ref:e,sideCar:AN}))});qh.classNames=Hh.classNames;var RN=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},nl=new WeakMap,Af=new WeakMap,Rf={},gg=0,dS=function(n){return n&&(n.host||dS(n.parentNode))},PN=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=dS(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},NN=function(n,e,t,r){var i=PN(e,Array.isArray(n)?n:[n]);Rf[t]||(Rf[t]=new WeakMap);var o=Rf[t],l=[],c=new Set,f=new Set(i),p=function(_){!_||c.has(_)||(c.add(_),p(_.parentNode))};i.forEach(p);var m=function(_){!_||f.has(_)||Array.prototype.forEach.call(_.children,function(w){if(c.has(w))m(w);else try{var S=w.getAttribute(r),I=S!==null&&S!=="false",b=(nl.get(w)||0)+1,k=(o.get(w)||0)+1;nl.set(w,b),o.set(w,k),l.push(w),b===1&&I&&Af.set(w,!0),k===1&&w.setAttribute(t,"true"),I||w.setAttribute(r,"true")}catch(P){console.error("aria-hidden: cannot operate on ",w,P)}})};return m(e),c.clear(),gg++,function(){l.forEach(function(_){var w=nl.get(_)-1,S=o.get(_)-1;nl.set(_,w),o.set(_,S),w||(Af.has(_)||_.removeAttribute(r),Af.delete(_)),S||_.removeAttribute(t)}),gg--,gg||(nl=new WeakMap,nl=new WeakMap,Af=new WeakMap,Rf={})}},iy=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=RN(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),NN(r,i,t,"aria-hidden")):function(){return null}},Gh="Dialog",[fS,hS]=sa(Gh),[DN,jr]=fS(Gh),pS=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:o,modal:l=!0}=n,c=x.useRef(null),f=x.useRef(null),[p,m]=oc({prop:r,defaultProp:i??!1,onChange:o,caller:Gh});return T.jsx(DN,{scope:e,triggerRef:c,contentRef:f,contentId:Uo(),titleId:Uo(),descriptionId:Uo(),open:p,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(_=>!_),[m]),modal:l,children:t})};pS.displayName=Gh;var mS="DialogTrigger",gS=x.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=jr(mS,t),o=ht(e,i.triggerRef);return T.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ay(i.open),...r,ref:o,onClick:st(n.onClick,i.onOpenToggle)})});gS.displayName=mS;var sy="DialogPortal",[ON,vS]=fS(sy,{forceMount:void 0}),yS=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,o=jr(sy,e);return T.jsx(ON,{scope:e,forceMount:t,children:x.Children.map(r,l=>T.jsx(oa,{present:t||o.open,children:T.jsx(Wh,{asChild:!0,container:i,children:l})}))})};yS.displayName=sy;var sh="DialogOverlay",_S=x.forwardRef((n,e)=>{const t=vS(sh,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=jr(sh,n.__scopeDialog);return o.modal?T.jsx(oa,{present:r||o.open,children:T.jsx(LN,{...i,ref:e})}):null});_S.displayName=sh;var MN=Bo("DialogOverlay.RemoveScroll"),LN=x.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=jr(sh,t);return T.jsx(qh,{as:MN,allowPinchZoom:!0,shards:[i.contentRef],children:T.jsx(lt.div,{"data-state":ay(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ho="DialogContent",wS=x.forwardRef((n,e)=>{const t=vS(Ho,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=jr(Ho,n.__scopeDialog);return T.jsx(oa,{present:r||o.open,children:o.modal?T.jsx(VN,{...i,ref:e}):T.jsx(jN,{...i,ref:e})})});wS.displayName=Ho;var VN=x.forwardRef((n,e)=>{const t=jr(Ho,n.__scopeDialog),r=x.useRef(null),i=ht(e,t.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return iy(o)},[]),T.jsx(ES,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(n.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:st(n.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:st(n.onFocusOutside,o=>o.preventDefault())})}),jN=x.forwardRef((n,e)=>{const t=jr(Ho,n.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return T.jsx(ES,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,o),o.defaultPrevented||(r.current||(c=t.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var f,p;(f=n.onInteractOutside)==null||f.call(n,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((p=t.triggerRef.current)==null?void 0:p.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),ES=x.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=n,c=jr(Ho,t),f=x.useRef(null),p=ht(e,f);return ry(),T.jsxs(T.Fragment,{children:[T.jsx(Bh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:T.jsx($h,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":ay(c.open),...l,ref:p,onDismiss:()=>c.onOpenChange(!1)})}),T.jsxs(T.Fragment,{children:[T.jsx(UN,{titleId:c.titleId}),T.jsx($N,{contentRef:f,descriptionId:c.descriptionId})]})]})}),oy="DialogTitle",xS=x.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=jr(oy,t);return T.jsx(lt.h2,{id:i.titleId,...r,ref:e})});xS.displayName=oy;var TS="DialogDescription",SS=x.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=jr(TS,t);return T.jsx(lt.p,{id:i.descriptionId,...r,ref:e})});SS.displayName=TS;var bS="DialogClose",IS=x.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=jr(bS,t);return T.jsx(lt.button,{type:"button",...r,ref:e,onClick:st(n.onClick,()=>i.onOpenChange(!1))})});IS.displayName=bS;function ay(n){return n?"open":"closed"}var CS="DialogTitleWarning",[FN,kS]=hP(CS,{contentName:Ho,titleName:oy,docsSlug:"dialog"}),UN=({titleId:n})=>{const e=kS(CS),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},zN="DialogDescriptionWarning",$N=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kS(zN).contentName}}.`;return x.useEffect(()=>{var o;const i=(o=n.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},AS=pS,RS=gS,PS=yS,NS=_S,DS=wS,OS=xS,MS=SS,Kh=IS,LS="AlertDialog",[BN,o$]=sa(LS,[hS]),Xi=hS(),VS=n=>{const{__scopeAlertDialog:e,...t}=n,r=Xi(e);return T.jsx(AS,{...r,...t,modal:!0})};VS.displayName=LS;var WN="AlertDialogTrigger",jS=x.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Xi(t);return T.jsx(RS,{...i,...r,ref:e})});jS.displayName=WN;var HN="AlertDialogPortal",FS=n=>{const{__scopeAlertDialog:e,...t}=n,r=Xi(e);return T.jsx(PS,{...r,...t})};FS.displayName=HN;var qN="AlertDialogOverlay",US=x.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Xi(t);return T.jsx(NS,{...i,...r,ref:e})});US.displayName=qN;var fl="AlertDialogContent",[GN,KN]=BN(fl),YN=TP("AlertDialogContent"),zS=x.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,o=Xi(t),l=x.useRef(null),c=ht(e,l),f=x.useRef(null);return T.jsx(FN,{contentName:fl,titleName:$S,docsSlug:"alert-dialog",children:T.jsx(GN,{scope:t,cancelRef:f,children:T.jsxs(DS,{role:"alertdialog",...o,...i,ref:c,onOpenAutoFocus:st(i.onOpenAutoFocus,p=>{var m;p.preventDefault(),(m=f.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[T.jsx(YN,{children:r}),T.jsx(XN,{contentRef:l})]})})})});zS.displayName=fl;var $S="AlertDialogTitle",BS=x.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Xi(t);return T.jsx(OS,{...i,...r,ref:e})});BS.displayName=$S;var WS="AlertDialogDescription",QN=x.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Xi(t);return T.jsx(MS,{...i,...r,ref:e})});QN.displayName=WS;var ZN="AlertDialogAction",HS=x.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Xi(t);return T.jsx(Kh,{...i,...r,ref:e})});HS.displayName=ZN;var qS="AlertDialogCancel",GS=x.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=KN(qS,t),o=Xi(t),l=ht(e,i);return T.jsx(Kh,{...o,...r,ref:l})});GS.displayName=qS;var XN=({contentRef:n})=>{const e=`\`${fl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${fl}\` by passing a \`${WS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${fl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},JN=VS,e2=jS,t2=FS,n2=US,r2=zS,i2=HS,s2=GS,o2=BS;function KS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=KS(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function YS(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=KS(n))&&(r&&(r+=" "),r+=e);return r}const ly="-",a2=n=>{const e=u2(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(ly);return c[0]===""&&c.length!==1&&c.shift(),QS(c,e)||l2(l)},getConflictingClassGroupIds:(l,c)=>{const f=t[l]||[];return c&&r[l]?[...f,...r[l]]:f}}},QS=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?QS(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=n.join(ly);return(l=e.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},gE=/^\[(.+)\]$/,l2=n=>{if(gE.test(n)){const e=gE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},u2=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)av(t[i],r,i,e);return r},av=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const o=i===""?e:vE(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(c2(i)){av(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,l])=>{av(l,vE(e,o),t,r)})})},vE=(n,e)=>{let t=n;return e.split(ly).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},c2=n=>n.isThemeGetter,d2=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(o,l)=>{t.set(o,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set(o,l){t.has(o)?t.set(o,l):i(o,l)}}},lv="!",uv=":",f2=uv.length,h2=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const o=[];let l=0,c=0,f=0,p;for(let I=0;I<i.length;I++){let b=i[I];if(l===0&&c===0){if(b===uv){o.push(i.slice(f,I)),f=I+f2;continue}if(b==="/"){p=I;continue}}b==="["?l++:b==="]"?l--:b==="("?c++:b===")"&&c--}const m=o.length===0?i:i.substring(f),_=p2(m),w=_!==m,S=p&&p>f?p-f:void 0;return{modifiers:o,hasImportantModifier:w,baseClassName:_,maybePostfixModifierPosition:S}};if(e){const i=e+uv,o=r;r=l=>l.startsWith(i)?o(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=o=>t({className:o,parseClassName:i})}return r},p2=n=>n.endsWith(lv)?n.substring(0,n.length-1):n.startsWith(lv)?n.substring(1):n,m2=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(l=>{l[0]==="["||e[l]?(i.push(...o.sort(),l),o=[]):o.push(l)}),i.push(...o.sort()),i}},g2=n=>({cache:d2(n.cacheSize),parseClassName:h2(n),sortModifiers:m2(n),...a2(n)}),v2=/\s+/,y2=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,l=[],c=n.trim().split(v2);let f="";for(let p=c.length-1;p>=0;p-=1){const m=c[p],{isExternal:_,modifiers:w,hasImportantModifier:S,baseClassName:I,maybePostfixModifierPosition:b}=t(m);if(_){f=m+(f.length>0?" "+f:f);continue}let k=!!b,P=r(k?I.substring(0,b):I);if(!P){if(!k){f=m+(f.length>0?" "+f:f);continue}if(P=r(I),!P){f=m+(f.length>0?" "+f:f);continue}k=!1}const M=o(w).join(":"),L=S?M+lv:M,H=L+P;if(l.includes(H))continue;l.push(H);const Z=i(P,k);for(let J=0;J<Z.length;++J){const D=Z[J];l.push(L+D)}f=m+(f.length>0?" "+f:f)}return f};function _2(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=ZS(e))&&(r&&(r+=" "),r+=t);return r}const ZS=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=ZS(n[r]))&&(t&&(t+=" "),t+=e);return t};function w2(n,...e){let t,r,i,o=l;function l(f){const p=e.reduce((m,_)=>_(m),n());return t=g2(p),r=t.cache.get,i=t.cache.set,o=c,c(f)}function c(f){const p=r(f);if(p)return p;const m=y2(f,t);return i(f,m),m}return function(){return o(_2.apply(null,arguments))}}const Bt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},XS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,JS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,E2=/^\d+\/\d+$/,x2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,T2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,b2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,I2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rl=n=>E2.test(n),Ye=n=>!!n&&!Number.isNaN(Number(n)),Ss=n=>!!n&&Number.isInteger(Number(n)),vg=n=>n.endsWith("%")&&Ye(n.slice(0,-1)),Pi=n=>x2.test(n),C2=()=>!0,k2=n=>T2.test(n)&&!S2.test(n),eb=()=>!1,A2=n=>b2.test(n),R2=n=>I2.test(n),P2=n=>!Ee(n)&&!xe(n),N2=n=>Ml(n,rb,eb),Ee=n=>XS.test(n),Mo=n=>Ml(n,ib,k2),yg=n=>Ml(n,V2,Ye),yE=n=>Ml(n,tb,eb),D2=n=>Ml(n,nb,R2),Pf=n=>Ml(n,sb,A2),xe=n=>JS.test(n),$u=n=>Ll(n,ib),O2=n=>Ll(n,j2),_E=n=>Ll(n,tb),M2=n=>Ll(n,rb),L2=n=>Ll(n,nb),Nf=n=>Ll(n,sb,!0),Ml=(n,e,t)=>{const r=XS.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Ll=(n,e,t=!1)=>{const r=JS.exec(n);return r?r[1]?e(r[1]):t:!1},tb=n=>n==="position"||n==="percentage",nb=n=>n==="image"||n==="url",rb=n=>n==="length"||n==="size"||n==="bg-size",ib=n=>n==="length",V2=n=>n==="number",j2=n=>n==="family-name",sb=n=>n==="shadow",F2=()=>{const n=Bt("color"),e=Bt("font"),t=Bt("text"),r=Bt("font-weight"),i=Bt("tracking"),o=Bt("leading"),l=Bt("breakpoint"),c=Bt("container"),f=Bt("spacing"),p=Bt("radius"),m=Bt("shadow"),_=Bt("inset-shadow"),w=Bt("text-shadow"),S=Bt("drop-shadow"),I=Bt("blur"),b=Bt("perspective"),k=Bt("aspect"),P=Bt("ease"),M=Bt("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Z=()=>[...H(),xe,Ee],J=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],A=()=>[xe,Ee,f],O=()=>[rl,"full","auto",...A()],j=()=>[Ss,"none","subgrid",xe,Ee],U=()=>["auto",{span:["full",Ss,xe,Ee]},Ss,xe,Ee],$=()=>[Ss,"auto",xe,Ee],N=()=>["auto","min","max","fr",xe,Ee],Te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ae=()=>["start","end","center","stretch","center-safe","end-safe"],_e=()=>["auto",...A()],ee=()=>[rl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],F=()=>[n,xe,Ee],ce=()=>[...H(),_E,yE,{position:[xe,Ee]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",M2,N2,{size:[xe,Ee]}],X=()=>[vg,$u,Mo],fe=()=>["","none","full",p,xe,Ee],Se=()=>["",Ye,$u,Mo],Oe=()=>["solid","dashed","dotted","double"],$e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[Ye,vg,_E,yE],Ie=()=>["","none",I,xe,Ee],je=()=>["none",Ye,xe,Ee],Me=()=>["none",Ye,xe,Ee],He=()=>[Ye,xe,Ee],Ge=()=>[rl,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pi],breakpoint:[Pi],color:[C2],container:[Pi],"drop-shadow":[Pi],ease:["in","out","in-out"],font:[P2],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pi],shadow:[Pi],spacing:["px",Ye],text:[Pi],"text-shadow":[Pi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rl,Ee,xe,k]}],container:["container"],columns:[{columns:[Ye,Ee,xe,c]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Z()}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Ss,"auto",xe,Ee]}],basis:[{basis:[rl,"full","auto",c,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ye,rl,"auto","initial","none",Ee]}],grow:[{grow:["",Ye,xe,Ee]}],shrink:[{shrink:["",Ye,xe,Ee]}],order:[{order:[Ss,"first","last","none",xe,Ee]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Te(),"normal"]}],"justify-items":[{"justify-items":[...Ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ae()]}],"align-content":[{content:["normal",...Te()]}],"align-items":[{items:[...Ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":Te()}],"place-items":[{"place-items":[...Ae(),"baseline"]}],"place-self":[{"place-self":["auto",...Ae()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:_e()}],mx:[{mx:_e()}],my:[{my:_e()}],ms:[{ms:_e()}],me:[{me:_e()}],mt:[{mt:_e()}],mr:[{mr:_e()}],mb:[{mb:_e()}],ml:[{ml:_e()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[c,"screen",...ee()]}],"min-w":[{"min-w":[c,"screen","none",...ee()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",t,$u,Mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,xe,yg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",vg,Ee]}],"font-family":[{font:[O2,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,xe,Ee]}],"line-clamp":[{"line-clamp":[Ye,"none",xe,yg]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",xe,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ye,"from-font","auto",xe,Mo]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Ye,"auto",xe,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ss,xe,Ee],radial:["",xe,Ee],conic:[Ss,xe,Ee]},L2,D2]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:fe()}],"rounded-s":[{"rounded-s":fe()}],"rounded-e":[{"rounded-e":fe()}],"rounded-t":[{"rounded-t":fe()}],"rounded-r":[{"rounded-r":fe()}],"rounded-b":[{"rounded-b":fe()}],"rounded-l":[{"rounded-l":fe()}],"rounded-ss":[{"rounded-ss":fe()}],"rounded-se":[{"rounded-se":fe()}],"rounded-ee":[{"rounded-ee":fe()}],"rounded-es":[{"rounded-es":fe()}],"rounded-tl":[{"rounded-tl":fe()}],"rounded-tr":[{"rounded-tr":fe()}],"rounded-br":[{"rounded-br":fe()}],"rounded-bl":[{"rounded-bl":fe()}],"border-w":[{border:Se()}],"border-w-x":[{"border-x":Se()}],"border-w-y":[{"border-y":Se()}],"border-w-s":[{"border-s":Se()}],"border-w-e":[{"border-e":Se()}],"border-w-t":[{"border-t":Se()}],"border-w-r":[{"border-r":Se()}],"border-w-b":[{"border-b":Se()}],"border-w-l":[{"border-l":Se()}],"divide-x":[{"divide-x":Se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Oe(),"hidden","none"]}],"divide-style":[{divide:[...Oe(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...Oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ye,xe,Ee]}],"outline-w":[{outline:["",Ye,$u,Mo]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",m,Nf,Pf]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",_,Nf,Pf]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:Se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Ye,Mo]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":Se()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",w,Nf,Pf]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Ye,xe,Ee]}],"mix-blend":[{"mix-blend":[...$e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[xe,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":H()}],"mask-image-conic-pos":[{"mask-conic":[Ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,Ee]}],filter:[{filter:["","none",xe,Ee]}],blur:[{blur:Ie()}],brightness:[{brightness:[Ye,xe,Ee]}],contrast:[{contrast:[Ye,xe,Ee]}],"drop-shadow":[{"drop-shadow":["","none",S,Nf,Pf]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Ye,xe,Ee]}],"hue-rotate":[{"hue-rotate":[Ye,xe,Ee]}],invert:[{invert:["",Ye,xe,Ee]}],saturate:[{saturate:[Ye,xe,Ee]}],sepia:[{sepia:["",Ye,xe,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,Ee]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[Ye,xe,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[Ye,xe,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ye,xe,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ye,xe,Ee]}],"backdrop-invert":[{"backdrop-invert":["",Ye,xe,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[Ye,xe,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[Ye,xe,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",Ye,xe,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ye,"initial",xe,Ee]}],ease:[{ease:["linear","initial",P,xe,Ee]}],delay:[{delay:[Ye,xe,Ee]}],animate:[{animate:["none",M,xe,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,xe,Ee]}],"perspective-origin":[{"perspective-origin":Z()}],rotate:[{rotate:je()}],"rotate-x":[{"rotate-x":je()}],"rotate-y":[{"rotate-y":je()}],"rotate-z":[{"rotate-z":je()}],scale:[{scale:Me()}],"scale-x":[{"scale-x":Me()}],"scale-y":[{"scale-y":Me()}],"scale-z":[{"scale-z":Me()}],"scale-3d":["scale-3d"],skew:[{skew:He()}],"skew-x":[{"skew-x":He()}],"skew-y":[{"skew-y":He()}],transform:[{transform:[xe,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:Z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ge()}],"translate-x":[{"translate-x":Ge()}],"translate-y":[{"translate-y":Ge()}],"translate-z":[{"translate-z":Ge()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,Ee]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Ye,$u,Mo,yg]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},U2=w2(F2);function ut(...n){return U2(YS(n))}const wE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,EE=YS,z2=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return EE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:o}=e,l=Object.keys(i).map(p=>{const m=t==null?void 0:t[p],_=o==null?void 0:o[p];if(m===null)return null;const w=wE(m)||wE(_);return i[p][w]}),c=t&&Object.entries(t).reduce((p,m)=>{let[_,w]=m;return w===void 0||(p[_]=w),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,m)=>{let{class:_,className:w,...S}=m;return Object.entries(S).every(I=>{let[b,k]=I;return Array.isArray(k)?k.includes({...o,...c}[b]):{...o,...c}[b]===k})?[...p,_,w]:p},[]);return EE(n,l,f,t==null?void 0:t.class,t==null?void 0:t.className)},ac=z2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function zo({className:n,variant:e,size:t,asChild:r=!1,...i}){const o=r?EP:"button";return T.jsx(o,{"data-slot":"button",className:ut(ac({variant:e,size:t,className:n})),...i})}function $2({...n}){return T.jsx(JN,{"data-slot":"alert-dialog",...n})}function B2({...n}){return T.jsx(e2,{"data-slot":"alert-dialog-trigger",...n})}function W2({...n}){return T.jsx(t2,{"data-slot":"alert-dialog-portal",...n})}function H2({className:n,...e}){return T.jsx(n2,{"data-slot":"alert-dialog-overlay",className:ut("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function q2({className:n,...e}){return T.jsxs(W2,{children:[T.jsx(H2,{}),T.jsx(r2,{"data-slot":"alert-dialog-content",className:ut("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...e})]})}function G2({className:n,...e}){return T.jsx("div",{"data-slot":"alert-dialog-header",className:ut("flex flex-col gap-2 text-center sm:text-left",n),...e})}function K2({className:n,...e}){return T.jsx("div",{"data-slot":"alert-dialog-footer",className:ut("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function Y2({className:n,...e}){return T.jsx(o2,{"data-slot":"alert-dialog-title",className:ut("text-lg font-semibold",n),...e})}function Q2({className:n,...e}){return T.jsx(i2,{className:ut(ac(),n),...e})}function Z2({className:n,...e}){return T.jsx(s2,{className:ut(ac({variant:"outline"}),n),...e})}const X2=()=>{};var xE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},J2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],c=n[t++],f=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},ab={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,c=l?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,m=o>>2,_=(o&3)<<4|c>>4;let w=(c&15)<<2|p>>6,S=p&63;f||(S=64,l||(w=64)),r.push(t[m],t[_],t[w],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ob(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):J2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||p==null||_==null)throw new eD;const w=o<<2|c>>4;if(r.push(w),p!==64){const S=c<<4&240|p>>2;if(r.push(S),_!==64){const I=p<<6&192|_;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class eD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tD=function(n){const e=ob(n);return ab.encodeByteArray(e,!0)},oh=function(n){return tD(n).replace(/\./g,"")},lb=function(n){try{return ab.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=()=>nD().__FIREBASE_DEFAULTS__,iD=()=>{if(typeof process>"u"||typeof xE>"u")return;const n=xE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&lb(n[1]);return e&&JSON.parse(e)},Yh=()=>{try{return X2()||rD()||iD()||sD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ub=n=>{var e,t;return(t=(e=Yh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},oD=n=>{const e=ub(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},cb=()=>{var n;return(n=Yh())===null||n===void 0?void 0:n.config},db=n=>{var e;return(e=Yh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){return n.endsWith(".cloudworkstations.dev")}async function fb(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[oh(JSON.stringify(t)),oh(JSON.stringify(l)),""].join(".")}const Ju={};function uD(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ju))Ju[e]?n.emulator.push(e):n.prod.push(e);return n}function cD(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let TE=!1;function Qh(n,e){if(typeof window>"u"||typeof document>"u"||!zc(window.location.host)||Ju[n]===e||Ju[n]||TE)return;Ju[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=uD().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{TE=!0,l()},w}function m(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=cD(r),S=t("text"),I=document.getElementById(S)||document.createElement("span"),b=t("learnmore"),k=document.getElementById(b)||document.createElement("a"),P=t("preprendIcon"),M=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const L=w.element;c(L),m(k,b);const H=p();f(M,P),L.append(M,I,k,H),document.body.appendChild(L)}o?(I.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function fD(){var n;const e=(n=Yh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gD(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vD(){return!fD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yD(){try{return typeof indexedDB=="object"}catch{return!1}}function _D(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="FirebaseError";class Ji extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=wD,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$c.prototype.create)}}class $c{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?ED(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ji(i,c,r)}}function ED(n,e){return n.replace(xD,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xD=/\{\$([^}]+)}/g;function TD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function qo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(SE(o)&&SE(l)){if(!qo(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function SE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function qu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function SD(n,e){const t=new bD(n,e);return t.subscribe.bind(t)}class bD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ID(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=_g),i.error===void 0&&(i.error=_g),i.complete===void 0&&(i.complete=_g);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ID(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(n){return n&&n._delegate?n._delegate:n}class Go{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new aD;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AD(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kD(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kD(n){return n===Lo?void 0:n}function AD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Xe||(Xe={}));const PD={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},ND=Xe.INFO,DD={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},OD=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=DD[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uy{constructor(e){this.name=e,this._logLevel=ND,this._logHandler=OD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const MD=(n,e)=>e.some(t=>n instanceof t);let bE,IE;function LD(){return bE||(bE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VD(){return IE||(IE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hb=new WeakMap,cv=new WeakMap,pb=new WeakMap,wg=new WeakMap,cy=new WeakMap;function jD(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Ns(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&hb.set(t,n)}).catch(()=>{}),cy.set(e,n),e}function FD(n){if(cv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});cv.set(n,e)}let dv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||pb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ns(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function UD(n){dv=n(dv)}function zD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Eg(this),e,...t);return pb.set(r,e.sort?e.sort():[e]),Ns(r)}:VD().includes(n)?function(...e){return n.apply(Eg(this),e),Ns(hb.get(this))}:function(...e){return Ns(n.apply(Eg(this),e))}}function $D(n){return typeof n=="function"?zD(n):(n instanceof IDBTransaction&&FD(n),MD(n,LD())?new Proxy(n,dv):n)}function Ns(n){if(n instanceof IDBRequest)return jD(n);if(wg.has(n))return wg.get(n);const e=$D(n);return e!==n&&(wg.set(n,e),cy.set(e,n)),e}const Eg=n=>cy.get(n);function BD(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),c=Ns(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Ns(l.result),f.oldVersion,f.newVersion,Ns(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const WD=["get","getKey","getAll","getAllKeys","count"],HD=["put","add","delete","clear"],xg=new Map;function CE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xg.get(e))return xg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=HD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WD.includes(t)))return;const o=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&f.done]))[0]};return xg.set(e,o),o}UD(n=>({...n,get:(e,t,r)=>CE(e,t)||n.get(e,t,r),has:(e,t)=>!!CE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function GD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fv="@firebase/app",kE="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new uy("@firebase/app"),KD="@firebase/app-compat",YD="@firebase/analytics-compat",QD="@firebase/analytics",ZD="@firebase/app-check-compat",XD="@firebase/app-check",JD="@firebase/auth",eO="@firebase/auth-compat",tO="@firebase/database",nO="@firebase/data-connect",rO="@firebase/database-compat",iO="@firebase/functions",sO="@firebase/functions-compat",oO="@firebase/installations",aO="@firebase/installations-compat",lO="@firebase/messaging",uO="@firebase/messaging-compat",cO="@firebase/performance",dO="@firebase/performance-compat",fO="@firebase/remote-config",hO="@firebase/remote-config-compat",pO="@firebase/storage",mO="@firebase/storage-compat",gO="@firebase/firestore",vO="@firebase/vertexai",yO="@firebase/firestore-compat",_O="firebase",wO="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="[DEFAULT]",EO={[fv]:"fire-core",[KD]:"fire-core-compat",[QD]:"fire-analytics",[YD]:"fire-analytics-compat",[XD]:"fire-app-check",[ZD]:"fire-app-check-compat",[JD]:"fire-auth",[eO]:"fire-auth-compat",[tO]:"fire-rtdb",[nO]:"fire-data-connect",[rO]:"fire-rtdb-compat",[iO]:"fire-fn",[sO]:"fire-fn-compat",[oO]:"fire-iid",[aO]:"fire-iid-compat",[lO]:"fire-fcm",[uO]:"fire-fcm-compat",[cO]:"fire-perf",[dO]:"fire-perf-compat",[fO]:"fire-rc",[hO]:"fire-rc-compat",[pO]:"fire-gcs",[mO]:"fire-gcs-compat",[gO]:"fire-fst",[yO]:"fire-fst-compat",[vO]:"fire-vertex","fire-js":"fire-js",[_O]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,xO=new Map,pv=new Map;function AE(n,e){try{n.container.addComponent(e)}catch(t){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _l(n){const e=n.name;if(pv.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;pv.set(e,n);for(const t of ah.values())AE(t,n);for(const t of xO.values())AE(t,n);return!0}function dy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Bn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new $c("app","Firebase",TO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=wO;function fy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:hv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ds.create("bad-app-name",{appName:String(i)});if(t||(t=cb()),!t)throw Ds.create("no-options");const o=ah.get(i);if(o){if(qo(t,o.options)&&qo(r,o.config))return o;throw Ds.create("duplicate-app",{appName:i})}const l=new RD(i);for(const f of pv.values())l.addComponent(f);const c=new SO(t,r,l);return ah.set(i,c),c}function mb(n=hv){const e=ah.get(n);if(!e&&n===hv&&cb())return fy();if(!e)throw Ds.create("no-app",{appName:n});return e}function Os(n,e,t){var r;let i=(r=EO[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(c.join(" "));return}_l(new Go(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="firebase-heartbeat-database",IO=1,lc="firebase-heartbeat-store";let Tg=null;function gb(){return Tg||(Tg=BD(bO,IO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(lc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ds.create("idb-open",{originalErrorMessage:n.message})})),Tg}async function CO(n){try{const t=(await gb()).transaction(lc),r=await t.objectStore(lc).get(vb(n));return await t.done,r}catch(e){if(e instanceof Ji)Wi.warn(e.message);else{const t=Ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(t.message)}}}async function RE(n,e){try{const r=(await gb()).transaction(lc,"readwrite");await r.objectStore(lc).put(e,vb(n)),await r.done}catch(t){if(t instanceof Ji)Wi.warn(t.message);else{const r=Ds.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Wi.warn(r.message)}}}function vb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=1024,AO=30;class RO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new NO(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=PE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>AO){const l=DO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=PE(),{heartbeatsToSend:r,unsentEntries:i}=PO(this._heartbeatsCache.heartbeats),o=oh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Wi.warn(t),""}}}function PE(){return new Date().toISOString().substring(0,10)}function PO(n,e=kO){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),NE(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),NE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class NO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yD()?_D().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await CO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return RE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return RE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function NE(n){return oh(JSON.stringify({version:2,heartbeats:n})).length}function DO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(n){_l(new Go("platform-logger",e=>new qD(e),"PRIVATE")),_l(new Go("heartbeat",e=>new RO(e),"PRIVATE")),Os(fv,kE,n),Os(fv,kE,"esm2017"),Os("fire-js","")}OO("");function yb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MO=yb,_b=new $c("auth","Firebase",yb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new uy("@firebase/auth");function LO(n,...e){lh.logLevel<=Xe.WARN&&lh.warn(`Auth (${Vl}): ${n}`,...e)}function qf(n,...e){lh.logLevel<=Xe.ERROR&&lh.error(`Auth (${Vl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(n,...e){throw py(n,...e)}function kr(n,...e){return py(n,...e)}function hy(n,e,t){const r=Object.assign(Object.assign({},MO()),{[e]:t});return new $c("auth","Firebase",r).create(e,{appName:n.name})}function Ui(n){return hy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VO(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gn(n,"argument-error"),hy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function py(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _b.create(n,...e)}function Pe(n,e,...t){if(!n)throw py(e,...t)}function Vi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw qf(e),new Error(e)}function Hi(n,e){n||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function jO(){return DE()==="http:"||DE()==="https:"}function DE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jO()||pD()||"connection"in navigator)?navigator.onLine:!0}function UO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hi(t>e,"Short delay should be less than long delay!"),this.isMobile=dD()||mD()}get(){return FO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(n,e){Hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BO=new Wc(3e4,6e4);function ci(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function di(n,e,t,r,i={}){return Eb(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Bc(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},o);return hD()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&zc(n.emulatorConfig.host)&&(p.credentials="include"),wb.fetch()(await xb(n,n.config.apiHost,t,c),p)})}async function Eb(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},zO),e);try{const i=new HO(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Df(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Df(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Df(n,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw hy(n,m,p);Gn(n,m)}}catch(i){if(i instanceof Ji)throw i;Gn(n,"network-request-failed",{message:String(i)})}}async function Hc(n,e,t,r,i={}){const o=await di(n,e,t,r,i);return"mfaPendingCredential"in o&&Gn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function xb(n,e,t,r){const i=`${e}${t}?${r}`,o=n,l=o.config.emulator?my(n.config,i):`${n.config.apiScheme}://${i}`;return $O.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function WO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),BO.get())})}}function Df(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=kr(n,e,r);return i.customData._tokenResponse=t,i}function OE(n){return n!==void 0&&n.enterprise!==void 0}class qO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return WO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GO(n,e){return di(n,"GET","/v2/recaptchaConfig",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(n,e){return di(n,"POST","/v1/accounts:delete",e)}async function uh(n,e){return di(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YO(n,e=!1){const t=Dt(n),r=await t.getIdToken(e),i=gy(r);Pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ec(Sg(i.auth_time)),issuedAtTime:ec(Sg(i.iat)),expirationTime:ec(Sg(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Sg(n){return Number(n)*1e3}function gy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return qf("JWT malformed, contained fewer than 3 sections"),null;try{const i=lb(t);return i?JSON.parse(i):(qf("Failed to decode base64 JWT payload"),null)}catch(i){return qf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ME(n){const e=gy(n);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ji&&QO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function QO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(n){var e;const t=n.auth,r=await n.getIdToken(),i=await uc(n,uh(t,{idToken:r}));Pe(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Tb(o.providerUserInfo):[],c=JO(n.providerData,l),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),m=f?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new gv(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function XO(n){const e=Dt(n);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JO(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Tb(n){return n.map(e=>{var{providerId:t}=e,r=Uc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(n,e){const t=await Eb(n,{},async()=>{const r=Bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=await xb(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",wb.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tM(n,e){return di(n,"POST","/v2/accounts:revokeToken",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ME(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=ME(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await eM(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new hl;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Pe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Pe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(n,e){Pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ir{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Uc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await uc(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YO(this,e)}reload(){return XO(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await uc(this,KO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,c,f,p,m;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(i=t.email)!==null&&i!==void 0?i:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,b=(c=t.tenantId)!==null&&c!==void 0?c:void 0,k=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,P=(p=t.createdAt)!==null&&p!==void 0?p:void 0,M=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:L,emailVerified:H,isAnonymous:Z,providerData:J,stsTokenManager:D}=t;Pe(L&&D,e,"internal-error");const A=hl.fromJSON(this.name,D);Pe(typeof L=="string",e,"internal-error"),bs(_,e.name),bs(w,e.name),Pe(typeof H=="boolean",e,"internal-error"),Pe(typeof Z=="boolean",e,"internal-error"),bs(S,e.name),bs(I,e.name),bs(b,e.name),bs(k,e.name),bs(P,e.name),bs(M,e.name);const O=new Ir({uid:L,auth:e,email:w,emailVerified:H,displayName:_,isAnonymous:Z,photoURL:I,phoneNumber:S,tenantId:b,stsTokenManager:A,createdAt:P,lastLoginAt:M});return J&&Array.isArray(J)&&(O.providerData=J.map(j=>Object.assign({},j))),k&&(O._redirectEventId=k),O}static async _fromIdTokenResponse(e,t,r=!1){const i=new hl;i.updateFromServerResponse(t);const o=new Ir({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ch(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Pe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Tb(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new hl;c.updateFromIdToken(r);const f=new Ir({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new gv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;function ji(n){Hi(n instanceof Function,"Expected a class definition");let e=LE.get(n);return e?(Hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,LE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Sb.type="NONE";const VE=Sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n,e,t){return`firebase:${n}:${e}:${t}`}class pl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Gf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Gf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await uh(this.auth,{idToken:e}).catch(()=>{});return t?Ir._fromGetAccountInfoResponse(this.auth,t,e):null}return Ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new pl(ji(VE),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||ji(VE);const l=Gf(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const m=await p._get(l);if(m){let _;if(typeof m=="string"){const w=await uh(e,{idToken:m}).catch(()=>{});if(!w)break;_=await Ir._fromGetAccountInfoResponse(e,w,m)}else _=Ir._fromJSON(e,m);p!==o&&(c=_),o=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new pl(o,e,r):(o=f[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new pl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rb(e))return"Blackberry";if(Pb(e))return"Webos";if(Ib(e))return"Safari";if((e.includes("chrome/")||Cb(e))&&!e.includes("edge/"))return"Chrome";if(Ab(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bb(n=pn()){return/firefox\//i.test(n)}function Ib(n=pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cb(n=pn()){return/crios\//i.test(n)}function kb(n=pn()){return/iemobile/i.test(n)}function Ab(n=pn()){return/android/i.test(n)}function Rb(n=pn()){return/blackberry/i.test(n)}function Pb(n=pn()){return/webos/i.test(n)}function vy(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nM(n=pn()){var e;return vy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rM(){return gD()&&document.documentMode===10}function Nb(n=pn()){return vy(n)||Ab(n)||Pb(n)||Rb(n)||/windows phone/i.test(n)||kb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(n,e=[]){let t;switch(n){case"Browser":t=jE(pn());break;case"Worker":t=`${jE(pn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const f=e(o);l(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(n,e={}){return di(n,"GET","/v2/passwordPolicy",ci(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=6;class aM{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:oM,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FE(this),this.idTokenSubscription=new FE(this),this.beforeStateQueue=new iM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ji(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await pl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await uh(this,{idToken:e}),r=await Ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Bn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(Ui(this));const t=e?Dt(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sM(this),t=new aM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $c("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await tM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ji(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await pl.create(this,[ji(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Db(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&LO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function fi(n){return Dt(n)}class FE{constructor(e){this.auth=e,this.observer=null,this.addObserver=SD(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uM(n){Zh=n}function Ob(n){return Zh.loadJS(n)}function cM(){return Zh.recaptchaEnterpriseScript}function dM(){return Zh.gapiScript}function fM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class hM{constructor(){this.enterprise=new pM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class pM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mM="recaptcha-enterprise",Mb="NO_RECAPTCHA";class gM{constructor(e){this.type=mM,this.auth=fi(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{GO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new qO(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(f=>{c(f)})})}function i(o,l,c){const f=window.grecaptcha;OE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(Mb)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hM().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!t&&OE(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=cM();f.length!==0&&(f+=c),Ob(f).then(()=>{i(c,o,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function UE(n,e,t,r=!1,i=!1){const o=new gM(n);let l;if(i)l=Mb;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function dh(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await UE(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await UE(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(n,e){const t=dy(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(qo(o,e??{}))return i;Gn(i,"already-initialized")}return t.initialize({options:e})}function yM(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ji);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _M(n,e,t){const r=fi(n);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Lb(e),{host:l,port:c}=wM(e),f=c===null?"":`:${c}`,p={url:`${o}//${l}${f}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(qo(p,r.config.emulator)&&qo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,zc(l)?(Qh("Auth",!0),fb(`${o}//${l}${f}`)):EM()}function Lb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wM(n){const e=Lb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:zE(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:zE(l)}}}function zE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function EM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,t){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(n,e){return di(n,"POST","/v1/accounts:resetPassword",ci(n,e))}async function xM(n,e){return di(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(n,e){return Hc(n,"POST","/v1/accounts:signInWithPassword",ci(n,e))}async function SM(n,e){return di(n,"POST","/v1/accounts:sendOobCode",ci(n,e))}async function bM(n,e){return SM(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(n,e){return Hc(n,"POST","/v1/accounts:signInWithEmailLink",ci(n,e))}async function CM(n,e){return Hc(n,"POST","/v1/accounts:signInWithEmailLink",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends yy{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new cc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new cc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,t,"signInWithPassword",TM);case"emailLink":return IM(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,r,"signUpPassword",xM);case"emailLink":return CM(e,{idToken:t,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(n,e){return Hc(n,"POST","/v1/accounts:signInWithIdp",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="http://localhost";class Ko extends yy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Uc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ko(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ml(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ml(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ml(e,t)}buildRequest(){const e={requestUri:kM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RM(n){const e=Hu(qu(n)).link,t=e?Hu(qu(e)).deep_link_id:null,r=Hu(qu(n)).deep_link_id;return(r?Hu(qu(r)).link:null)||r||t||e||n}class _y{constructor(e){var t,r,i,o,l,c;const f=Hu(qu(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,m=(r=f.oobCode)!==null&&r!==void 0?r:null,_=AM((i=f.mode)!==null&&i!==void 0?i:null);Pe(p&&m&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=m,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=f.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=RM(e);try{return new _y(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.providerId=jl.PROVIDER_ID}static credential(e,t){return cc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=_y.parseLink(t);return Pe(r,"argument-error"),cc._fromEmailAndCode(e,r.code,r.tenantId)}}jl.PROVIDER_ID="password";jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends wy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends qc{constructor(){super("facebook.com")}static credential(e){return Ko._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ko._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Mi.credential(t,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends qc{constructor(){super("github.com")}static credential(e){return Ko._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends qc{constructor(){super("twitter.com")}static credential(e,t){return Ko._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Rs.credential(t,r)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(n,e){return Hc(n,"POST","/v1/accounts:signUp",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Ir._fromIdTokenResponse(e,r,i),l=$E(r);return new Yo({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=$E(r);return new Yo({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function $E(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends Ji{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new fh(e,t,r,i)}}function jb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(n,o,e,r):o})}async function NM(n,e,t=!1){const r=await uc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Yo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(n,e,t=!1){const{auth:r}=n;if(Bn(r.app))return Promise.reject(Ui(r));const i="reauthenticate";try{const o=await uc(n,jb(r,i,e,n),t);Pe(o.idToken,r,"internal-error");const l=gy(o.idToken);Pe(l,r,"internal-error");const{sub:c}=l;return Pe(n.uid===c,r,"user-mismatch"),Yo._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(n,e,t=!1){if(Bn(n.app))return Promise.reject(Ui(n));const r="signIn",i=await jb(n,r,e),o=await Yo._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function OM(n,e){return Fb(fi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?xy._fromServerResponse(e,t):"totpInfo"in t?Ty._fromServerResponse(e,t):Gn(e,"internal-error")}}class xy extends Ey{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new xy(t)}}class Ty extends Ey{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Ty(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sy(n){const e=fi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MM(n,e,t){const r=fi(n);await dh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",bM)}async function LM(n,e,t){await Vb(Dt(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Sy(n),r})}async function VM(n,e){const t=Dt(n),r=await Vb(t,{oobCode:e}),i=r.requestType;switch(Pe(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Pe(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Pe(r.mfaInfo,t,"internal-error");default:Pe(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Ey._fromServerResponse(fi(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function jM(n,e){const{data:t}=await VM(Dt(n),e);return t.email}async function FM(n,e,t){if(Bn(n.app))return Promise.reject(Ui(n));const r=fi(n),l=await dh(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PM).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Sy(n),f}),c=await Yo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function UM(n,e,t){return Bn(n.app)?Promise.reject(Ui(n)):OM(Dt(n),jl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Sy(n),r})}function zM(n,e,t,r){return Dt(n).onIdTokenChanged(e,t,r)}function $M(n,e,t){return Dt(n).beforeAuthStateChanged(e,t)}function Ub(n,e,t,r){return Dt(n).onAuthStateChanged(e,t,r)}function BM(n){return Dt(n).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=1e3,HM=10;class $b extends zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);rM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,HM):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},WM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$b.type="LOCAL";const qM=$b;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb extends zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Bb.type="SESSION";const Wb=Bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,o)),f=await GM(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,f)=>{const p=by("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function YM(n){Jr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function QM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function XM(){return Hb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firebaseLocalStorageDb",JM=1,ph="firebaseLocalStorage",Gb="fbase_key";class Gc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jh(n,e){return n.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function eL(){const n=indexedDB.deleteDatabase(qb);return new Gc(n).toPromise()}function vv(){const n=indexedDB.open(qb,JM);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ph,{keyPath:Gb})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await eL(),e(await vv()))})})}async function BE(n,e,t){const r=Jh(n,!0).put({[Gb]:e,value:t});return new Gc(r).toPromise()}async function tL(n,e){const t=Jh(n,!1).get(e),r=await new Gc(t).toPromise();return r===void 0?null:r.value}function WE(n,e){const t=Jh(n,!0).delete(e);return new Gc(t).toPromise()}const nL=800,rL=3;class Kb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>rL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(XM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await QM(),!this.activeServiceWorker)return;this.sender=new KM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vv();return await BE(e,hh,"1"),await WE(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>BE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>tL(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>WE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Jh(i,!1).getAll();return new Gc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kb.type="LOCAL";const iL=Kb;new Wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(n,e){return e?ji(e):(Pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy extends yy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ml(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sL(n){return Fb(n.auth,new Iy(n),n.bypassAuthState)}function oL(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),DM(t,new Iy(n),n.bypassAuthState)}async function aL(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),NM(t,new Iy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sL;case"linkViaPopup":case"linkViaRedirect":return aL;case"reauthViaPopup":case"reauthViaRedirect":return oL;default:Gn(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=new Wc(2e3,1e4);async function uL(n,e,t){if(Bn(n.app))return Promise.reject(kr(n,"operation-not-supported-in-this-environment"));const r=fi(n);VO(n,e,wy);const i=Yb(r,t);return new jo(r,"signInViaPopup",e,i).executeNotNull()}class jo extends Qb{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=by();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lL.get())};e()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="pendingRedirect",Kf=new Map;class dL extends Qb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Kf.get(this.auth._key());if(!e){try{const r=await fL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Kf.set(this.auth._key(),e)}return this.bypassAuthState||Kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fL(n,e){const t=mL(e),r=pL(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function hL(n,e){Kf.set(n._key(),e)}function pL(n){return ji(n._redirectPersistence)}function mL(n){return Gf(cL,n.config.apiKey,n.name)}async function gL(n,e,t=!1){if(Bn(n.app))return Promise.reject(Ui(n));const r=fi(n),i=Yb(r,e),l=await new dL(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=10*60*1e3;class yL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_L(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Zb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(kr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vL&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(e))}saveEventToCache(e){this.cachedEventUids.add(HE(e)),this.lastProcessedEventTime=Date.now()}}function HE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Zb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _L(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(n,e={}){return di(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xL=/^https?/;async function TL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wL(n);for(const t of e)try{if(SL(t))return}catch{}Gn(n,"unauthorized-domain")}function SL(n){const e=mv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!xL.test(t))return!1;if(EL.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=new Wc(3e4,6e4);function qE(){const n=Jr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function IL(n){return new Promise((e,t)=>{var r,i,o;function l(){qE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qE(),t(kr(n,"network-request-failed"))},timeout:bL.get()})}if(!((i=(r=Jr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Jr().gapi)===null||o===void 0)&&o.load)l();else{const c=fM("iframefcb");return Jr()[c]=()=>{gapi.load?l():t(kr(n,"network-request-failed"))},Ob(`${dM()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw Yf=null,e})}let Yf=null;function CL(n){return Yf=Yf||IL(n),Yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=new Wc(5e3,15e3),AL="__/auth/iframe",RL="emulator/auth/iframe",PL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DL(n){const e=n.config;Pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?my(e,RL):`https://${n.config.authDomain}/${AL}`,r={apiKey:e.apiKey,appName:n.name,v:Vl},i=NL.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Bc(r).slice(1)}`}async function OL(n){const e=await CL(n),t=Jr().gapi;return Pe(t,n,"internal-error"),e.open({where:document.body,url:DL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PL,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=kr(n,"network-request-failed"),c=Jr().setTimeout(()=>{o(l)},kL.get());function f(){Jr().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LL=500,VL=600,jL="_blank",FL="http://localhost";class GE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UL(n,e,t,r=LL,i=VL){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},ML),{width:r.toString(),height:i.toString(),top:o,left:l}),p=pn().toLowerCase();t&&(c=Cb(p)?jL:t),bb(p)&&(e=e||FL,f.scrollbars="yes");const m=Object.entries(f).reduce((w,[S,I])=>`${w}${S}=${I},`,"");if(nM(p)&&c!=="_self")return zL(e||"",c),new GE(null);const _=window.open(e||"",c,m);Pe(_,n,"popup-blocked");try{_.focus()}catch{}return new GE(_)}function zL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="__/auth/handler",BL="emulator/auth/handler",WL=encodeURIComponent("fac");async function KE(n,e,t,r,i,o){Pe(n.config.authDomain,n,"auth-domain-config-required"),Pe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Vl,eventId:i};if(e instanceof wy){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",TD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))l[m]=_}if(e instanceof qc){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const f=await n._getAppCheckToken(),p=f?`#${WL}=${encodeURIComponent(f)}`:"";return`${HL(n)}?${Bc(c).slice(1)}${p}`}function HL({config:n}){return n.emulator?my(n,BL):`https://${n.authDomain}/${$L}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="webStorageSupport";class qL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wb,this._completeRedirectFn=gL,this._overrideRedirectResult=hL}async _openPopup(e,t,r,i){var o;Hi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await KE(e,t,r,mv(),i);return UL(e,l,by())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await KE(e,t,r,mv(),i);return YM(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Hi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await OL(e),r=new yL(e);return t.register("authEvent",i=>(Pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bg,{type:bg},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[bg];l!==void 0&&t(!!l),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=TL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Nb()||Ib()||vy()}}const GL=qL;var YE="@firebase/auth",QE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QL(n){_l(new Go("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Pe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Db(n)},p=new lM(r,i,o,f);return yM(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_l(new Go("auth-internal",e=>{const t=fi(e.getProvider("auth").getImmediate());return(r=>new KL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(YE,QE,YL(n)),Os(YE,QE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=5*60,XL=db("authIdTokenMaxAge")||ZL;let ZE=null;const JL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>XL)return;const i=t==null?void 0:t.token;ZE!==i&&(ZE=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Kc(n=mb()){const e=dy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=vM(n,{popupRedirectResolver:GL,persistence:[iL,qM,Wb]}),r=db("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=JL(o.toString());$M(t,l,()=>l(t.currentUser)),zM(t,c=>l(c))}}const i=ub("auth");return i?_M(t,`http://${i}`):Qh("Auth",!1),t}function e4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}uM({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=kr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",e4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QL("Browser");var t4="firebase",n4="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(t4,n4,"app");const r4={apiKey:"AIzaSyC4FuAlwSVGXKTzFt3CCoe2RvJfhW8bFio",authDomain:"todolist-cd951.firebaseapp.com",projectId:"todolist-cd951",storageBucket:"todolist-cd951.firebasestorage.app",messagingSenderId:"339215811281",appId:"1:339215811281:web:8b564cb4627a9473357bf0",measurementId:"G-5D2H0V89GJ"},i4=fy(r4),Js=Kc(i4),s4=async n=>{let e;switch(n){case"google":e=new Mi;break;case"github":e=new Li;break;default:throw new Error("Unknown provider: "+n)}try{const r=(await uL(Js,e)).user;localStorage.setItem("user_firebase",JSON.stringify({name:r.displayName,email:r.email,uid:r.uid})),console.log("登入成功：",r),window.location.href="/"}catch(t){console.error("登入失敗：",t.message)}},o4=async(n,e)=>{try{const t=Kc(),i=(await FM(t,n,e)).user;localStorage.setItem("user_firebase",JSON.stringify({name:i.displayName,email:i.email,uid:i.uid})),console.log("登入成功：",i),window.location.href="/"}catch(t){return console.error("註冊失敗：",t.message),!1}},a4=async(n,e)=>{try{const t=Kc(),i=(await UM(t,n,e)).user;localStorage.setItem("user_firebase",JSON.stringify({name:i.displayName,email:i.email,uid:i.uid})),console.log("登入成功：",i),window.location.href="/"}catch(t){return console.error("登入失敗：",t.message),!1}},l4=async n=>{try{const e=Kc();await MM(e,n)}catch(e){return console.error("重設密碼Email寄送失敗",e.message),!1}},u4=async(n,e)=>{const t=Kc();try{await jM(t,n);try{return await LM(t,n,e)}catch(r){console.error("密碼更新錯誤，請檢查Firebase設定",r)}}catch(r){console.error("Action Code錯誤，請檢查Firebase設定",r)}};function c4(){const n=Vc(),e=async()=>{try{await BM(Js),localStorage.removeItem("user_firebase"),n("/login")}catch(t){console.error("登出失敗:",t)}};return x.useEffect(()=>{localStorage.getItem("user_firebase")||n("/login")},[n]),T.jsxs($2,{children:[T.jsx(B2,{className:"mr-4 sm:mr-0 cursor-pointer inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 h-9 px-4 py-2 has-[>svg]:px-3 cursor-pointer",children:"登出"}),T.jsxs(q2,{children:[T.jsx(G2,{children:T.jsx(Y2,{children:"確定要登出嗎?"})}),T.jsxs(K2,{children:[T.jsx(Z2,{className:"cursor-pointer",children:"取消"}),T.jsx(Q2,{onClick:e,className:"cursor-pointer",children:"確定"})]})]})]})}function d4(){return T.jsxs("div",{className:"relative mx-auto my-2 sm:mx-6 flex items-center justify-between",children:[T.jsx("div",{className:"font-[Comic_Relief] font-bold text-2xl text-slate-500 text-left pl-4",children:"Todolist"}),T.jsx(c4,{})]})}var XE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,Xb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function O(){}O.prototype=A.prototype,D.D=A.prototype,D.prototype=new O,D.prototype.constructor=D,D.C=function(j,U,$){for(var N=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)N[Te-2]=arguments[Te];return A.prototype[U].apply(j,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,A,O){O||(O=0);var j=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)j[U]=A.charCodeAt(O++)|A.charCodeAt(O++)<<8|A.charCodeAt(O++)<<16|A.charCodeAt(O++)<<24;else for(U=0;16>U;++U)j[U]=A[O++]|A[O++]<<8|A[O++]<<16|A[O++]<<24;A=D.g[0],O=D.g[1],U=D.g[2];var $=D.g[3],N=A+($^O&(U^$))+j[0]+3614090360&4294967295;A=O+(N<<7&4294967295|N>>>25),N=$+(U^A&(O^U))+j[1]+3905402710&4294967295,$=A+(N<<12&4294967295|N>>>20),N=U+(O^$&(A^O))+j[2]+606105819&4294967295,U=$+(N<<17&4294967295|N>>>15),N=O+(A^U&($^A))+j[3]+3250441966&4294967295,O=U+(N<<22&4294967295|N>>>10),N=A+($^O&(U^$))+j[4]+4118548399&4294967295,A=O+(N<<7&4294967295|N>>>25),N=$+(U^A&(O^U))+j[5]+1200080426&4294967295,$=A+(N<<12&4294967295|N>>>20),N=U+(O^$&(A^O))+j[6]+2821735955&4294967295,U=$+(N<<17&4294967295|N>>>15),N=O+(A^U&($^A))+j[7]+4249261313&4294967295,O=U+(N<<22&4294967295|N>>>10),N=A+($^O&(U^$))+j[8]+1770035416&4294967295,A=O+(N<<7&4294967295|N>>>25),N=$+(U^A&(O^U))+j[9]+2336552879&4294967295,$=A+(N<<12&4294967295|N>>>20),N=U+(O^$&(A^O))+j[10]+4294925233&4294967295,U=$+(N<<17&4294967295|N>>>15),N=O+(A^U&($^A))+j[11]+2304563134&4294967295,O=U+(N<<22&4294967295|N>>>10),N=A+($^O&(U^$))+j[12]+1804603682&4294967295,A=O+(N<<7&4294967295|N>>>25),N=$+(U^A&(O^U))+j[13]+4254626195&4294967295,$=A+(N<<12&4294967295|N>>>20),N=U+(O^$&(A^O))+j[14]+2792965006&4294967295,U=$+(N<<17&4294967295|N>>>15),N=O+(A^U&($^A))+j[15]+1236535329&4294967295,O=U+(N<<22&4294967295|N>>>10),N=A+(U^$&(O^U))+j[1]+4129170786&4294967295,A=O+(N<<5&4294967295|N>>>27),N=$+(O^U&(A^O))+j[6]+3225465664&4294967295,$=A+(N<<9&4294967295|N>>>23),N=U+(A^O&($^A))+j[11]+643717713&4294967295,U=$+(N<<14&4294967295|N>>>18),N=O+($^A&(U^$))+j[0]+3921069994&4294967295,O=U+(N<<20&4294967295|N>>>12),N=A+(U^$&(O^U))+j[5]+3593408605&4294967295,A=O+(N<<5&4294967295|N>>>27),N=$+(O^U&(A^O))+j[10]+38016083&4294967295,$=A+(N<<9&4294967295|N>>>23),N=U+(A^O&($^A))+j[15]+3634488961&4294967295,U=$+(N<<14&4294967295|N>>>18),N=O+($^A&(U^$))+j[4]+3889429448&4294967295,O=U+(N<<20&4294967295|N>>>12),N=A+(U^$&(O^U))+j[9]+568446438&4294967295,A=O+(N<<5&4294967295|N>>>27),N=$+(O^U&(A^O))+j[14]+3275163606&4294967295,$=A+(N<<9&4294967295|N>>>23),N=U+(A^O&($^A))+j[3]+4107603335&4294967295,U=$+(N<<14&4294967295|N>>>18),N=O+($^A&(U^$))+j[8]+1163531501&4294967295,O=U+(N<<20&4294967295|N>>>12),N=A+(U^$&(O^U))+j[13]+2850285829&4294967295,A=O+(N<<5&4294967295|N>>>27),N=$+(O^U&(A^O))+j[2]+4243563512&4294967295,$=A+(N<<9&4294967295|N>>>23),N=U+(A^O&($^A))+j[7]+1735328473&4294967295,U=$+(N<<14&4294967295|N>>>18),N=O+($^A&(U^$))+j[12]+2368359562&4294967295,O=U+(N<<20&4294967295|N>>>12),N=A+(O^U^$)+j[5]+4294588738&4294967295,A=O+(N<<4&4294967295|N>>>28),N=$+(A^O^U)+j[8]+2272392833&4294967295,$=A+(N<<11&4294967295|N>>>21),N=U+($^A^O)+j[11]+1839030562&4294967295,U=$+(N<<16&4294967295|N>>>16),N=O+(U^$^A)+j[14]+4259657740&4294967295,O=U+(N<<23&4294967295|N>>>9),N=A+(O^U^$)+j[1]+2763975236&4294967295,A=O+(N<<4&4294967295|N>>>28),N=$+(A^O^U)+j[4]+1272893353&4294967295,$=A+(N<<11&4294967295|N>>>21),N=U+($^A^O)+j[7]+4139469664&4294967295,U=$+(N<<16&4294967295|N>>>16),N=O+(U^$^A)+j[10]+3200236656&4294967295,O=U+(N<<23&4294967295|N>>>9),N=A+(O^U^$)+j[13]+681279174&4294967295,A=O+(N<<4&4294967295|N>>>28),N=$+(A^O^U)+j[0]+3936430074&4294967295,$=A+(N<<11&4294967295|N>>>21),N=U+($^A^O)+j[3]+3572445317&4294967295,U=$+(N<<16&4294967295|N>>>16),N=O+(U^$^A)+j[6]+76029189&4294967295,O=U+(N<<23&4294967295|N>>>9),N=A+(O^U^$)+j[9]+3654602809&4294967295,A=O+(N<<4&4294967295|N>>>28),N=$+(A^O^U)+j[12]+3873151461&4294967295,$=A+(N<<11&4294967295|N>>>21),N=U+($^A^O)+j[15]+530742520&4294967295,U=$+(N<<16&4294967295|N>>>16),N=O+(U^$^A)+j[2]+3299628645&4294967295,O=U+(N<<23&4294967295|N>>>9),N=A+(U^(O|~$))+j[0]+4096336452&4294967295,A=O+(N<<6&4294967295|N>>>26),N=$+(O^(A|~U))+j[7]+1126891415&4294967295,$=A+(N<<10&4294967295|N>>>22),N=U+(A^($|~O))+j[14]+2878612391&4294967295,U=$+(N<<15&4294967295|N>>>17),N=O+($^(U|~A))+j[5]+4237533241&4294967295,O=U+(N<<21&4294967295|N>>>11),N=A+(U^(O|~$))+j[12]+1700485571&4294967295,A=O+(N<<6&4294967295|N>>>26),N=$+(O^(A|~U))+j[3]+2399980690&4294967295,$=A+(N<<10&4294967295|N>>>22),N=U+(A^($|~O))+j[10]+4293915773&4294967295,U=$+(N<<15&4294967295|N>>>17),N=O+($^(U|~A))+j[1]+2240044497&4294967295,O=U+(N<<21&4294967295|N>>>11),N=A+(U^(O|~$))+j[8]+1873313359&4294967295,A=O+(N<<6&4294967295|N>>>26),N=$+(O^(A|~U))+j[15]+4264355552&4294967295,$=A+(N<<10&4294967295|N>>>22),N=U+(A^($|~O))+j[6]+2734768916&4294967295,U=$+(N<<15&4294967295|N>>>17),N=O+($^(U|~A))+j[13]+1309151649&4294967295,O=U+(N<<21&4294967295|N>>>11),N=A+(U^(O|~$))+j[4]+4149444226&4294967295,A=O+(N<<6&4294967295|N>>>26),N=$+(O^(A|~U))+j[11]+3174756917&4294967295,$=A+(N<<10&4294967295|N>>>22),N=U+(A^($|~O))+j[2]+718787259&4294967295,U=$+(N<<15&4294967295|N>>>17),N=O+($^(U|~A))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+$&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var O=A-this.blockSize,j=this.B,U=this.h,$=0;$<A;){if(U==0)for(;$<=O;)i(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<A;)if(j[U++]=D.charCodeAt($++),U==this.blockSize){i(this,j),U=0;break}}else for(;$<A;)if(j[U++]=D[$++],U==this.blockSize){i(this,j),U=0;break}}this.h=U,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var O=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=O&255,O/=256;for(this.u(D),D=Array(16),A=O=0;4>A;++A)for(var j=0;32>j;j+=8)D[O++]=this.g[A]>>>j&255;return D};function o(D,A){var O=c;return Object.prototype.hasOwnProperty.call(O,D)?O[D]:O[D]=A(D)}function l(D,A){this.h=A;for(var O=[],j=!0,U=D.length-1;0<=U;U--){var $=D[U]|0;j&&$==A||(O[U]=$,j=!1)}this.g=O}var c={};function f(D){return-128<=D&&128>D?o(D,function(A){return new l([A|0],0>A?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return k(p(-D));for(var A=[],O=1,j=0;D>=O;j++)A[j]=D/O|0,O*=4294967296;return new l(A,0)}function m(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return k(m(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=p(Math.pow(A,8)),j=_,U=0;U<D.length;U+=8){var $=Math.min(8,D.length-U),N=parseInt(D.substring(U,U+$),A);8>$?($=p(Math.pow(A,$)),j=j.j($).add(p(N))):(j=j.j(O),j=j.add(p(N)))}return j}var _=f(0),w=f(1),S=f(16777216);n=l.prototype,n.m=function(){if(b(this))return-k(this).m();for(var D=0,A=1,O=0;O<this.g.length;O++){var j=this.i(O);D+=(0<=j?j:4294967296+j)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(b(this))return"-"+k(this).toString(D);for(var A=p(Math.pow(D,6)),O=this,j="";;){var U=H(O,A).g;O=P(O,U.j(A));var $=((0<O.g.length?O.g[0]:O.h)>>>0).toString(D);if(O=U,I(O))return $+j;for(;6>$.length;)$="0"+$;j=$+j}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function b(D){return D.h==-1}n.l=function(D){return D=P(this,D),b(D)?-1:I(D)?0:1};function k(D){for(var A=D.g.length,O=[],j=0;j<A;j++)O[j]=~D.g[j];return new l(O,~D.h).add(w)}n.abs=function(){return b(this)?k(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),O=[],j=0,U=0;U<=A;U++){var $=j+(this.i(U)&65535)+(D.i(U)&65535),N=($>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);j=N>>>16,$&=65535,N&=65535,O[U]=N<<16|$}return new l(O,O[O.length-1]&-2147483648?-1:0)};function P(D,A){return D.add(k(A))}n.j=function(D){if(I(this)||I(D))return _;if(b(this))return b(D)?k(this).j(k(D)):k(k(this).j(D));if(b(D))return k(this.j(k(D)));if(0>this.l(S)&&0>D.l(S))return p(this.m()*D.m());for(var A=this.g.length+D.g.length,O=[],j=0;j<2*A;j++)O[j]=0;for(j=0;j<this.g.length;j++)for(var U=0;U<D.g.length;U++){var $=this.i(j)>>>16,N=this.i(j)&65535,Te=D.i(U)>>>16,Ae=D.i(U)&65535;O[2*j+2*U]+=N*Ae,M(O,2*j+2*U),O[2*j+2*U+1]+=$*Ae,M(O,2*j+2*U+1),O[2*j+2*U+1]+=N*Te,M(O,2*j+2*U+1),O[2*j+2*U+2]+=$*Te,M(O,2*j+2*U+2)}for(j=0;j<A;j++)O[j]=O[2*j+1]<<16|O[2*j];for(j=A;j<2*A;j++)O[j]=0;return new l(O,0)};function M(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function L(D,A){this.g=D,this.h=A}function H(D,A){if(I(A))throw Error("division by zero");if(I(D))return new L(_,_);if(b(D))return A=H(k(D),A),new L(k(A.g),k(A.h));if(b(A))return A=H(D,k(A)),new L(k(A.g),A.h);if(30<D.g.length){if(b(D)||b(A))throw Error("slowDivide_ only works with positive integers.");for(var O=w,j=A;0>=j.l(D);)O=Z(O),j=Z(j);var U=J(O,1),$=J(j,1);for(j=J(j,2),O=J(O,2);!I(j);){var N=$.add(j);0>=N.l(D)&&(U=U.add(O),$=N),j=J(j,1),O=J(O,1)}return A=P(D,U.j(A)),new L(U,A)}for(U=_;0<=D.l(A);){for(O=Math.max(1,Math.floor(D.m()/A.m())),j=Math.ceil(Math.log(O)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),$=p(O),N=$.j(A);b(N)||0<N.l(D);)O-=j,$=p(O),N=$.j(A);I($)&&($=w),U=U.add($),D=P(D,N)}return new L(U,D)}n.A=function(D){return H(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),O=[],j=0;j<A;j++)O[j]=this.i(j)&D.i(j);return new l(O,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),O=[],j=0;j<A;j++)O[j]=this.i(j)|D.i(j);return new l(O,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),O=[],j=0;j<A;j++)O[j]=this.i(j)^D.i(j);return new l(O,this.h^D.h)};function Z(D){for(var A=D.g.length+1,O=[],j=0;j<A;j++)O[j]=D.i(j)<<1|D.i(j-1)>>>31;return new l(O,D.h)}function J(D,A){var O=A>>5;A%=32;for(var j=D.g.length-O,U=[],$=0;$<j;$++)U[$]=0<A?D.i($+O)>>>A|D.i($+O+1)<<32-A:D.i($+O);return new l(U,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Xb=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Ms=l}).apply(typeof XE<"u"?XE:typeof self<"u"?self:typeof window<"u"?window:{});var Of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jb,Gu,e1,Qf,yv,t1,n1,r1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Of=="object"&&Of];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(d,v){if(v)e:{var E=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var q=d[R];if(!(q in E))break e;E=E[q]}d=d[d.length-1],R=E[d],v=v(R),v!=R&&v!=null&&e(E,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var E=0,R=!1,q={next:function(){if(!R&&E<d.length){var Q=E++;return{value:v(Q,d[Q]),done:!1}}return R=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(d){return d||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,E){return d.call.apply(d.bind,arguments)}function _(d,v,E){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,R),d.apply(v,q)}}return function(){return d.apply(v,arguments)}}function w(d,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,w.apply(null,arguments)}function S(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function I(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(R,q,Q){for(var de=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)de[dt-2]=arguments[dt];return v.prototype[q].apply(R,de)}}function b(d){const v=d.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=d[R];return E}return[]}function k(d,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(f(R)){const q=d.length||0,Q=R.length||0;d.length=q+Q;for(let de=0;de<Q;de++)d[q+de]=R[de]}else d.push(R)}}class P{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(d){return/^[\s\xa0]*$/.test(d)}function L(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function H(d){return H[" "](d),d}H[" "]=function(){};var Z=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function J(d,v,E){for(const R in d)v.call(E,d[R],R,d)}function D(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function A(d){const v={};for(const E in d)v[E]=d[E];return v}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(d,v){let E,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(E in R)d[E]=R[E];for(let Q=0;Q<O.length;Q++)E=O[Q],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function U(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function $(d){c.setTimeout(()=>{throw d},0)}function N(){var d=ce;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Te{constructor(){this.h=this.g=null}add(v,E){const R=Ae.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Ae=new P(()=>new _e,d=>d.reset());class _e{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,F=!1,ce=new Te,se=()=>{const d=c.Promise.resolve(void 0);ee=()=>{d.then(W)}};var W=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(E){$(E)}var v=Ae;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}F=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return d}();function Oe(d,v){if(fe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(Z){e:{try{H(v.nodeName);var q=!0;break e}catch{}q=!1}q||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:$e[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Oe.aa.h.call(this)}}I(Oe,fe);var $e={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function je(d,v,E,R,q){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=q,this.key=++Ie,this.da=this.fa=!1}function Me(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function He(d){this.src=d,this.g={},this.h=0}He.prototype.add=function(d,v,E,R,q){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var de=kt(d,v,R,q);return-1<de?(v=d[de],E||(v.fa=!1)):(v=new je(v,this.src,Q,!!R,q),v.fa=E,d.push(v)),v};function Ge(d,v){var E=v.type;if(E in d.g){var R=d.g[E],q=Array.prototype.indexOf.call(R,v,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(R,q,1),Q&&(Me(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function kt(d,v,E,R){for(var q=0;q<d.length;++q){var Q=d[q];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==R)return q}return-1}var qt="closure_lm_"+(1e6*Math.random()|0),Yn={};function ar(d,v,E,R,q){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)ar(d,v[Q],E,R,q);return null}return E=Kl(E),d&&d[ae]?d.K(v,E,p(R)?!!R.capture:!1,q):lr(d,v,E,!1,R,q)}function lr(d,v,E,R,q,Q){if(!v)throw Error("Invalid event type");var de=p(q)?!!q.capture:!!q,dt=da(d);if(dt||(d[qt]=dt=new He(d)),E=dt.add(v,E,R,de,Q),E.proxy)return E;if(R=ca(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)Se||(q=de),q===void 0&&(q=!1),d.addEventListener(v.toString(),R,q);else if(d.attachEvent)d.attachEvent(mi(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ca(){function d(E){return v.call(d.src,d.listener,E)}const v=Gl;return d}function ur(d,v,E,R,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)ur(d,v[Q],E,R,q);else R=p(R)?!!R.capture:!!R,E=Kl(E),d&&d[ae]?(d=d.i,v=String(v).toString(),v in d.g&&(Q=d.g[v],E=kt(Q,E,R,q),-1<E&&(Me(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete d.g[v],d.h--)))):d&&(d=da(d))&&(v=d.g[v.toString()],d=-1,v&&(d=kt(v,E,R,q)),(E=-1<d?v[d]:null)&&pi(E))}function pi(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[ae])Ge(v.i,d);else{var E=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(E,R,d.capture):v.detachEvent?v.detachEvent(mi(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=da(v))?(Ge(E,d),E.h==0&&(E.src=null,v[qt]=null)):Me(d)}}}function mi(d){return d in Yn?Yn[d]:Yn[d]="on"+d}function Gl(d,v){if(d.da)d=!0;else{v=new Oe(v,this);var E=d.listener,R=d.ha||d.src;d.fa&&pi(d),d=E.call(R,v)}return d}function da(d){return d=d[qt],d instanceof He?d:null}var fa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kl(d){return typeof d=="function"?d:(d[fa]||(d[fa]=function(v){return d.handleEvent(v)}),d[fa])}function jt(){X.call(this),this.i=new He(this),this.M=this,this.F=null}I(jt,X),jt.prototype[ae]=!0,jt.prototype.removeEventListener=function(d,v,E,R){ur(this,d,v,E,R)};function Ft(d,v){var E,R=d.F;if(R)for(E=[];R;R=R.F)E.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new fe(v,d);else if(v instanceof fe)v.target=v.target||d;else{var q=v;v=new fe(R,d),j(v,q)}if(q=!0,E)for(var Q=E.length-1;0<=Q;Q--){var de=v.g=E[Q];q=gi(de,R,!0,v)&&q}if(de=v.g=d,q=gi(de,R,!0,v)&&q,q=gi(de,R,!1,v)&&q,E)for(Q=0;Q<E.length;Q++)de=v.g=E[Q],q=gi(de,R,!1,v)&&q}jt.prototype.N=function(){if(jt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],R=0;R<E.length;R++)Me(E[R]);delete d.g[v],d.h--}}this.F=null},jt.prototype.K=function(d,v,E,R){return this.i.add(String(d),v,!1,E,R)},jt.prototype.L=function(d,v,E,R){return this.i.add(String(d),v,!0,E,R)};function gi(d,v,E,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,Q=0;Q<v.length;++Q){var de=v[Q];if(de&&!de.da&&de.capture==E){var dt=de.listener,Ut=de.ha||de.src;de.fa&&Ge(d.i,de),q=dt.call(Ut,R)!==!1&&q}}return q&&!R.defaultPrevented}function Yl(d,v,E){if(typeof d=="function")E&&(d=w(d,E));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(d,v||0)}function es(d){d.g=Yl(()=>{d.g=null,d.i&&(d.i=!1,es(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class ao extends X{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:es(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lo(d){X.call(this),this.h=d,this.g={}}I(lo,X);var Ql=[];function Zl(d){J(d.g,function(v,E){this.g.hasOwnProperty(E)&&pi(v)},d),d.g={}}lo.prototype.N=function(){lo.aa.N.call(this),Zl(this)},lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xl=c.JSON.stringify,Jl=c.JSON.parse,eu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function uo(){}uo.prototype.h=null;function ha(d){return d.h||(d.h=d.i())}function pa(){}var Qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fr(){fe.call(this,"d")}I(Fr,fe);function ma(){fe.call(this,"c")}I(ma,fe);var Ur={},tu=null;function co(){return tu=tu||new jt}Ur.La="serverreachability";function nu(d){fe.call(this,Ur.La,d)}I(nu,fe);function vi(d){const v=co();Ft(v,new nu(v))}Ur.STAT_EVENT="statevent";function ru(d,v){fe.call(this,Ur.STAT_EVENT,d),this.stat=v}I(ru,fe);function Rt(d){const v=co();Ft(v,new ru(v,d))}Ur.Ma="timingevent";function ga(d,v){fe.call(this,Ur.Ma,d),this.size=v}I(ga,fe);function cr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function fo(){this.g=!0}fo.prototype.xa=function(){this.g=!1};function ho(d,v,E,R,q,Q){d.info(function(){if(d.g)if(Q)for(var de="",dt=Q.split("&"),Ut=0;Ut<dt.length;Ut++){var tt=dt[Ut].split("=");if(1<tt.length){var Gt=tt[0];tt=tt[1];var Ot=Gt.split("_");de=2<=Ot.length&&Ot[1]=="type"?de+(Gt+"="+tt+"&"):de+(Gt+"=redacted&")}}else de=null;else de=Q;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+v+`
`+E+`
`+de})}function va(d,v,E,R,q,Q,de){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+v+`
`+E+`
`+Q+" "+de})}function dr(d,v,E,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Pp(d,E)+(R?" "+R:"")})}function iu(d,v){d.info(function(){return"TIMEOUT: "+v})}fo.prototype.info=function(){};function Pp(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var R=E[d];if(!(2>R.length)){var q=R[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var de=1;de<q.length;de++)q[de]=""}}}}return Xl(E)}catch{return v}}var ya={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ld={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fr;function po(){}I(po,uo),po.prototype.g=function(){return new XMLHttpRequest},po.prototype.i=function(){return{}},fr=new po;function hr(d,v,E,R){this.j=d,this.i=v,this.l=E,this.R=R||1,this.U=new lo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ud}function ud(){this.i=null,this.g="",this.h=!1}var su={},_a={};function wa(d,v,E){d.L=1,d.v=ss(Ln(v)),d.m=E,d.P=!0,ou(d,null)}function ou(d,v){d.F=Date.now(),mt(d),d.A=Ln(d.v);var E=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),as(E.i,"t",R),d.C=0,E=d.j.J,d.h=new ud,d.g=Cd(d.j,E?v:null,!d.m),0<d.O&&(d.M=new ao(w(d.Y,d,d.g),d.O)),v=d.U,E=d.g,R=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(Ql[0]=q.toString()),q=Ql);for(var Q=0;Q<q.length;Q++){var de=ar(E,q[Q],R||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),vi(),ho(d.i,d.u,d.A,d.l,d.R,d.m)}hr.prototype.ca=function(d){d=d.target;const v=this.M;v&&Tn(d)==3?v.j():this.Y(d)},hr.prototype.Y=function(d){try{if(d==this.g)e:{const Ot=Tn(this.g);var v=this.g.Ba();const Jn=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||fu(this.g)))){this.J||Ot!=4||v==7||(v==8||0>=Jn?vi(3):vi(2)),mo(this);var E=this.g.Z();this.X=E;t:if(cd(this)){var R=fu(this.g);d="";var q=R.length,Q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),ts(this);var de="";break t}this.h.i=new c.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,d+=this.h.i.decode(R[v],{stream:!(Q&&v==q-1)});R.length=0,this.h.g+=d,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,va(this.i,this.u,this.A,this.l,this.R,Ot,E),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,Ut=this.g;if((dt=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(dt)){var tt=dt;break t}}tt=null}if(E=tt)dr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,au(this,E);else{this.o=!1,this.s=3,Rt(12),Zn(this),ts(this);break e}}if(this.P){E=!0;let jn;for(;!this.J&&this.C<de.length;)if(jn=Np(this,de),jn==_a){Ot==4&&(this.s=4,Rt(14),E=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==su){this.s=4,Rt(15),dr(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else dr(this.i,this.l,jn,null),au(this,jn);if(cd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||de.length!=0||this.h.h||(this.s=1,Rt(16),E=!1),this.o=this.o&&E,!E)dr(this.i,this.l,de,"[Invalid Chunked Response]"),Zn(this),ts(this);else if(0<de.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),pu(Gt),Gt.M=!0,Rt(11))}}else dr(this.i,this.l,de,null),au(this,de);Ot==4&&Zn(this),this.o&&!this.J&&(Ot==4?Pa(this.j,this):(this.o=!1,mt(this)))}else Ia(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Zn(this),ts(this)}}}catch{}finally{}};function cd(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Np(d,v){var E=d.C,R=v.indexOf(`
`,E);return R==-1?_a:(E=Number(v.substring(E,R)),isNaN(E)?su:(R+=1,R+E>v.length?_a:(v=v.slice(R,R+E),d.C=R+E,v)))}hr.prototype.cancel=function(){this.J=!0,Zn(this)};function mt(d){d.S=Date.now()+d.I,dd(d,d.I)}function dd(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=cr(w(d.ba,d),v)}function mo(d){d.B&&(c.clearTimeout(d.B),d.B=null)}hr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(iu(this.i,this.A),this.L!=2&&(vi(),Rt(17)),Zn(this),this.s=2,ts(this)):dd(this,this.S-d)};function ts(d){d.j.G==0||d.J||Pa(d.j,d)}function Zn(d){mo(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Zl(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function au(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||gn(E.h,d))){if(!d.K&&gn(E.h,d)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Ra(E),yr(E);else break e;Aa(E),Rt(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=cr(w(E.Za,E),6e3));if(1>=hd(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else xi(E,11)}else if((d.K||E.g==d)&&Ra(E),!M(v))for(q=E.Da.g.parse(v),v=0;v<q.length;v++){let tt=q[v];if(E.T=tt[0],tt=tt[1],E.G==2)if(tt[0]=="c"){E.K=tt[1],E.ia=tt[2];const Gt=tt[3];Gt!=null&&(E.la=Gt,E.j.info("VER="+E.la));const Ot=tt[4];Ot!=null&&(E.Aa=Ot,E.j.info("SVER="+E.Aa));const Jn=tt[5];Jn!=null&&typeof Jn=="number"&&0<Jn&&(R=1.5*Jn,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const jn=d.g;if(jn){const xo=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xo){var Q=R.h;Q.g||xo.indexOf("spdy")==-1&&xo.indexOf("quic")==-1&&xo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(lu(Q,Q.h),Q.h=null))}if(R.D){const Da=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(R.ya=Da,pt(R.I,R.D,Da))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var de=d;if(R.qa=Id(R,R.J?R.ia:null,R.W),de.K){pd(R.h,de);var dt=de,Ut=R.L;Ut&&(dt.I=Ut),dt.B&&(mo(dt),mt(dt)),R.g=de}else Eo(R);0<E.i.length&&Wr(E)}else tt[0]!="stop"&&tt[0]!="close"||xi(E,7);else E.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?xi(E,7):Jt(E):tt[0]!="noop"&&E.l&&E.l.ta(tt),E.v=0)}}vi(4)}catch{}}var fd=class{constructor(d,v){this.g=d,this.map=v}};function go(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function hd(d){return d.h?1:d.g?d.g.size:0}function gn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function lu(d,v){d.g?d.g.add(v):d.h=v}function pd(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}go.prototype.cancel=function(){if(this.i=md(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function md(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return b(d.i)}function Ea(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],E=d.length,R=0;R<E;R++)v.push(d[R]);return v}v=[],E=0;for(R in d)v[E++]=d[R];return v}function xa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const R in d)v[E++]=R;return v}}}function ns(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=xa(d),R=Ea(d),q=R.length,Q=0;Q<q;Q++)v.call(void 0,R[Q],E&&E[Q],d)}var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dp(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var R=d[E].indexOf("="),q=null;if(0<=R){var Q=d[E].substring(0,R);q=d[E].substring(R+1)}else Q=d[E];v(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof yi){this.h=d.h,yo(this,d.j),this.o=d.o,this.g=d.g,rs(this,d.s),this.l=d.l;var v=d.i,E=new zr;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),is(this,E),this.m=d.m}else d&&(v=String(d).match(vo))?(this.h=!1,yo(this,v[1]||"",!0),this.o=et(v[2]||""),this.g=et(v[3]||"",!0),rs(this,v[4]),this.l=et(v[5]||"",!0),is(this,v[6]||"",!0),this.m=et(v[7]||"")):(this.h=!1,this.i=new zr(null,this.h))}yi.prototype.toString=function(){var d=[],v=this.j;v&&d.push(os(v,Ta,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(os(v,Ta,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(os(E,E.charAt(0)=="/"?yd:vd,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",os(E,uu)),d.join("")};function Ln(d){return new yi(d)}function yo(d,v,E){d.j=E?et(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function rs(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function is(d,v,E){v instanceof zr?(d.i=v,$r(d.i,d.h)):(E||(v=os(v,_d)),d.i=new zr(v,d.h))}function pt(d,v,E){d.i.set(v,E)}function ss(d){return pt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function et(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function os(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,gd),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function gd(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ta=/[#\/\?@]/g,vd=/[#\?:]/g,yd=/[#\?]/g,_d=/[#\?@]/g,uu=/#/g;function zr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Xt(d){d.g||(d.g=new Map,d.h=0,d.i&&Dp(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=zr.prototype,n.add=function(d,v){Xt(this),this.i=null,d=Xn(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function pr(d,v){Xt(d),v=Xn(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function mr(d,v){return Xt(d),v=Xn(d,v),d.g.has(v)}n.forEach=function(d,v){Xt(this),this.g.forEach(function(E,R){E.forEach(function(q){d.call(v,q,R,this)},this)},this)},n.na=function(){Xt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const q=d[R];for(let Q=0;Q<q.length;Q++)E.push(v[R])}return E},n.V=function(d){Xt(this);let v=[];if(typeof d=="string")mr(this,d)&&(v=v.concat(this.g.get(Xn(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},n.set=function(d,v){return Xt(this),this.i=null,d=Xn(this,d),mr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function as(d,v,E){pr(d,v),0<E.length&&(d.i=null,d.g.set(Xn(d,v),b(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const Q=encodeURIComponent(String(R)),de=this.V(R);for(R=0;R<de.length;R++){var q=Q;de[R]!==""&&(q+="="+encodeURIComponent(String(de[R]))),d.push(q)}}return this.i=d.join("&")};function Xn(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function $r(d,v){v&&!d.j&&(Xt(d),d.i=null,d.g.forEach(function(E,R){var q=R.toLowerCase();R!=q&&(pr(this,R),as(this,q,E))},d)),d.j=v}function Op(d,v){const E=new fo;if(c.Image){const R=new Image;R.onload=S(xn,E,"TestLoadImage: loaded",!0,v,R),R.onerror=S(xn,E,"TestLoadImage: error",!1,v,R),R.onabort=S(xn,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=S(xn,E,"TestLoadImage: timeout",!1,v,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function wd(d,v){const E=new fo,R=new AbortController,q=setTimeout(()=>{R.abort(),xn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(Q=>{clearTimeout(q),Q.ok?xn(E,"TestPingServer: ok",!0,v):xn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),xn(E,"TestPingServer: error",!1,v)})}function xn(d,v,E,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(E)}catch{}}function Mp(){this.g=new eu}function Ed(d,v,E){const R=E||"";try{ns(d,function(q,Q){let de=q;p(q)&&(de=Xl(q)),v.push(R+Q+"="+encodeURIComponent(de))})}catch(q){throw v.push(R+"type="+encodeURIComponent("_badmap")),q}}function _i(d){this.l=d.Ub||null,this.j=d.eb||!1}I(_i,uo),_i.prototype.g=function(){return new _o(this.l,this.j)},_i.prototype.i=function(d){return function(){return d}}({});function _o(d,v){jt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(_o,jt),n=_o.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,vr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xd(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function xd(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?gr(this):vr(this),this.readyState==3&&xd(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,gr(this))},n.Qa=function(d){this.g&&(this.response=d,gr(this))},n.ga=function(){this.g&&gr(this)};function gr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,vr(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function vr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(_o.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function wi(d){let v="";return J(d,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function ls(d,v,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=wi(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):pt(d,v,E))}function Et(d){jt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Et,jt);var Lp=/^https?$/i,cu=["POST","PUT"];n=Et.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fr.g(),this.v=this.o?ha(this.o):ha(fr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Q){wo(this,Q);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)E.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())E.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(cu,v,void 0))||R||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,de]of E)this.g.setRequestHeader(Q,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ba(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){wo(this,Q)}};function wo(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Sa(d),Vn(d)}function Sa(d){d.A||(d.A=!0,Ft(d,"complete"),Ft(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ft(this,"complete"),Ft(this,"abort"),Vn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vn(this,!0)),Et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?du(this):this.bb())},n.bb=function(){du(this)};function du(d){if(d.h&&typeof l<"u"&&(!d.v[1]||Tn(d)!=4||d.Z()!=2)){if(d.u&&Tn(d)==4)Yl(d.Ea,0,d);else if(Ft(d,"readystatechange"),Tn(d)==4){d.h=!1;try{const de=d.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var R;if(R=de===0){var q=String(d.D).match(vo)[1]||null;!q&&c.self&&c.self.location&&(q=c.self.location.protocol.slice(0,-1)),R=!Lp.test(q?q.toLowerCase():"")}E=R}if(E)Ft(d,"complete"),Ft(d,"success");else{d.m=6;try{var Q=2<Tn(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",Sa(d)}}finally{Vn(d)}}}}function Vn(d,v){if(d.g){ba(d);const E=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ft(d,"ready");try{E.onreadystatechange=R}catch{}}}function ba(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Tn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Jl(v)}};function fu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ia(d){const v={};d=(d.g&&2<=Tn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(M(d[R]))continue;var E=U(d[R]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[q]||[];v[q]=Q,Q.push(E)}D(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function hu(d){this.Aa=0,this.i=[],this.j=new fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,d),this.cb=Br("retryDelaySeedMs",1e4,d),this.Wa=Br("forwardChannelMaxRetries",2,d),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new go(d&&d.concurrentRequestLimit),this.Da=new Mp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=hu.prototype,n.la=8,n.G=1,n.connect=function(d,v,E,R){Rt(0),this.W=d,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Id(this,null,this.W),Wr(this)};function Jt(d){if(Ca(d),d.G==3){var v=d.U++,E=Ln(d.I);if(pt(E,"SID",d.K),pt(E,"RID",v),pt(E,"TYPE","terminate"),Ei(d,E),v=new hr(d,d.j,v),v.L=2,v.v=ss(Ln(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.v,E=!0),E||(v.g=Cd(v.j,null),v.g.ea(v.v)),v.F=Date.now(),mt(v)}bd(d)}function yr(d){d.g&&(pu(d),d.g.cancel(),d.g=null)}function Ca(d){yr(d),d.u&&(c.clearTimeout(d.u),d.u=null),Ra(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Wr(d){if(!Mn(d.h)&&!d.s){d.s=!0;var v=d.Ga;ee||se(),F||(ee(),F=!0),ce.add(v,d),d.B=0}}function Vp(d,v){return hd(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=cr(w(d.Ga,d,v),Sd(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new hr(this,this.j,d);let Q=this.o;if(this.S&&(Q?(Q=A(Q),j(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=us(this,q,v),E=Ln(this.I),pt(E,"RID",d),pt(E,"CVER",22),this.D&&pt(E,"X-HTTP-Session-Id",this.D),Ei(this,E),Q&&(this.O?v="headers="+encodeURIComponent(String(wi(Q)))+"&"+v:this.m&&ls(E,this.m,Q)),lu(this.h,q),this.Ua&&pt(E,"TYPE","init"),this.P?(pt(E,"$req",v),pt(E,"SID","null"),q.T=!0,wa(q,E,null)):wa(q,E,v),this.G=2}}else this.G==3&&(d?ka(this,d):this.i.length==0||Mn(this.h)||ka(this))};function ka(d,v){var E;v?E=v.l:E=d.U++;const R=Ln(d.I);pt(R,"SID",d.K),pt(R,"RID",E),pt(R,"AID",d.T),Ei(d,R),d.m&&d.o&&ls(R,d.m,d.o),E=new hr(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=us(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),lu(d.h,E),wa(E,R,v)}function Ei(d,v){d.H&&J(d.H,function(E,R){pt(v,R,E)}),d.l&&ns({},function(E,R){pt(v,R,E)})}function us(d,v,E){E=Math.min(d.i.length,E);var R=d.l?w(d.l.Na,d.l,d):null;e:{var q=d.i;let Q=-1;for(;;){const de=["count="+E];Q==-1?0<E?(Q=q[0].g,de.push("ofs="+Q)):Q=0:de.push("ofs="+Q);let dt=!0;for(let Ut=0;Ut<E;Ut++){let tt=q[Ut].g;const Gt=q[Ut].map;if(tt-=Q,0>tt)Q=Math.max(0,q[Ut].g-100),dt=!1;else try{Ed(Gt,de,"req"+tt+"_")}catch{R&&R(Gt)}}if(dt){R=de.join("&");break e}}}return d=d.i.splice(0,E),v.D=d,R}function Eo(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;ee||se(),F||(ee(),F=!0),ce.add(v,d),d.v=0}}function Aa(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=cr(w(d.Fa,d),Sd(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Td(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=cr(w(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),yr(this),Td(this))};function pu(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function Td(d){d.g=new hr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Ln(d.qa);pt(v,"RID","rpc"),pt(v,"SID",d.K),pt(v,"AID",d.T),pt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&pt(v,"TO",d.ja),pt(v,"TYPE","xmlhttp"),Ei(d,v),d.m&&d.o&&ls(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=ss(Ln(v)),E.m=null,E.P=!0,ou(E,d)}n.Za=function(){this.C!=null&&(this.C=null,yr(this),Aa(this),Rt(19))};function Ra(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Pa(d,v){var E=null;if(d.g==v){Ra(d),pu(d),d.g=null;var R=2}else if(gn(d.h,v))E=v.D,pd(d.h,v),R=1;else return;if(d.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var q=d.B;R=co(),Ft(R,new ga(R,E)),Wr(d)}else Eo(d);else if(q=v.s,q==3||q==0&&0<v.X||!(R==1&&Vp(d,v)||R==2&&Aa(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),q){case 1:xi(d,5);break;case 4:xi(d,10);break;case 3:xi(d,6);break;default:xi(d,2)}}}function Sd(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function xi(d,v){if(d.j.info("Error code "+v),v==2){var E=w(d.fb,d),R=d.Xa;const q=!R;R=new yi(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||yo(R,"https"),ss(R),q?Op(R.toString(),E):wd(R.toString(),E)}else Rt(2);d.G=0,d.l&&d.l.sa(v),bd(d),Ca(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function bd(d){if(d.G=0,d.ka=[],d.l){const v=md(d.h);(v.length!=0||d.i.length!=0)&&(k(d.ka,v),k(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function Id(d,v,E){var R=E instanceof yi?Ln(E):new yi(E);if(R.g!="")v&&(R.g=v+"."+R.g),rs(R,R.s);else{var q=c.location;R=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var Q=new yi(null);R&&yo(Q,R),v&&(Q.g=v),q&&rs(Q,q),E&&(Q.l=E),R=Q}return E=d.D,v=d.ya,E&&v&&pt(R,E,v),pt(R,"VER",d.la),Ei(d,R),R}function Cd(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Et(new _i({eb:E})):new Et(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}n=mu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Na(){}Na.prototype.g=function(d,v){return new vn(d,v)};function vn(d,v){jt.call(this),this.g=new hu(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!M(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Hr(this)}I(vn,jt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Jt(this.g)},vn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Xl(d),d=E);v.i.push(new fd(v.Ya++,d)),v.G==3&&Wr(v)},vn.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,vn.aa.N.call(this)};function kd(d){Fr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}I(kd,Fr);function Ad(){ma.call(this),this.status=1}I(Ad,ma);function Hr(d){this.g=d}I(Hr,mu),Hr.prototype.ua=function(){Ft(this.g,"a")},Hr.prototype.ta=function(d){Ft(this.g,new kd(d))},Hr.prototype.sa=function(d){Ft(this.g,new Ad)},Hr.prototype.ra=function(){Ft(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,r1=function(){return new Na},n1=function(){return co()},t1=Ur,yv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ya.NO_ERROR=0,ya.TIMEOUT=8,ya.HTTP_ERROR=6,Qf=ya,ld.COMPLETE="complete",e1=ld,pa.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",jt.prototype.listen=jt.prototype.K,Gu=pa,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,Jb=Et}).apply(typeof Of<"u"?Of:typeof self<"u"?self:typeof window<"u"?window:{});const JE="@firebase/firestore",ex="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new uy("@firebase/firestore");function sl(){return Qo.logLevel}function ge(n,...e){if(Qo.logLevel<=Xe.DEBUG){const t=e.map(Cy);Qo.debug(`Firestore (${Fl}): ${n}`,...t)}}function qi(n,...e){if(Qo.logLevel<=Xe.ERROR){const t=e.map(Cy);Qo.error(`Firestore (${Fl}): ${n}`,...t)}}function wl(n,...e){if(Qo.logLevel<=Xe.WARN){const t=e.map(Cy);Qo.warn(`Firestore (${Fl}): ${n}`,...t)}}function Cy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,i1(n,r,t)}function i1(n,e,t){let r=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw qi(r),new Error(r)}function ct(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||i1(e,i,r)}function We(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class h4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class p4{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ct(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ls,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ls)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new s1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class m4{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class g4{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new m4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ct(this.o===void 0,3512);const r=o=>{o.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new tx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=y4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Qe(n,e){return n<e?-1:n>e?1:0}function _v(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Qe(r,i);{const o=o1(),l=_4(o.encode(nx(n,t)),o.encode(nx(e,t)));return l!==0?l:Qe(r,i)}}t+=r>65535?2:1}return Qe(n.length,e.length)}function nx(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function _4(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Qe(n[t],e[t]);return Qe(n.length,e.length)}function El(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=-62135596800,ix=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ix);return new Wt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<rx)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ix}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-rx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Wt(0,0))}static max(){return new Be(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="__name__";class Qr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Le(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Le(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Qr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Qe(e.length,t.length)}static compareSegments(e,t){const r=Qr.isNumericId(e),i=Qr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Qr.extractNumericId(e).compare(Qr.extractNumericId(t)):_v(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class wt extends Qr{construct(e,t,r){return new wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new wt(t)}static emptyPath(){return new wt([])}}const w4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Qr{construct(e,t,r){return new rn(e,t,r)}static isValidIdentifier(e){return w4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sx}static keyField(){return new rn([sx])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(wt.fromString(e))}static fromName(e){return new Re(wt.fromString(e).popFirst(5))}static empty(){return new Re(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=-1;function E4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(r===1e9?new Wt(t+1,0):new Wt(t,r));return new Fs(i,Re.empty(),e)}function x4(n){return new Fs(n.readTime,n.key,dc)}class Fs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fs(Be.min(),Re.empty(),dc)}static max(){return new Fs(Be.max(),Re.empty(),dc)}}function T4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==S4)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},f=>r(f))}),l=!0,o===i&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(i=>i?te.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new te((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let f=0;f<o;f++){const p=f;t(e[p]).next(m=>{l[p]=m,++c,c===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new te((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function I4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ep.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=-1;function tp(n){return n==null}function mh(n){return n===0&&1/n==-1/0}function C4(n){return typeof n=="number"&&Number.isInteger(n)&&!mh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="";function k4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ox(e)),e=A4(n.get(t),e);return ox(e)}function A4(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case l1:t+="";break;default:t+=o}}return t}function ox(n){return n+l1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function eo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function u1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new Ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mf(this.root,e,this.comparator,!0)}}class Mf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??nn.RED,this.left=i??nn.EMPTY,this.right=o??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new nn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lx(this.data.getIterator())}getIteratorFrom(e){return new lx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class lx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Wn([])}unionWith(e){let t=new Ht(rn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new c1("Invalid base64 string: "+o):o}}(e);return new sn(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const R4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(n){if(ct(!!n,39018),typeof n=="string"){let e=0;const t=R4.exec(n);if(ct(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zs(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="server_timestamp",f1="__type__",h1="__previous_value__",p1="__local_write_time__";function Ay(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[f1])===null||t===void 0?void 0:t.stringValue)===d1}function np(n){const e=n.mapValue.fields[h1];return Ay(e)?np(e):e}function fc(n){const e=Us(n.mapValue.fields[p1].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,t,r,i,o,l,c,f,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=m}}const gh="(default)";class hc{constructor(e,t){this.projectId=e,this.database=t||gh}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="__type__",N4="__max__",Lf={mapValue:{}},g1="__vector__",vh="value";function $s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ay(n)?4:O4(n)?9007199254740991:D4(n)?10:11:Le(28295,{value:n})}function ii(n,e){if(n===e)return!0;const t=$s(n);if(t!==$s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fc(n).isEqual(fc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Us(i.timestampValue),c=Us(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return zs(i.bytesValue).isEqual(zs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Nt(i.geoPointValue.latitude)===Nt(o.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Nt(i.integerValue)===Nt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Nt(i.doubleValue),c=Nt(o.doubleValue);return l===c?mh(l)===mh(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return El(n.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(ax(l)!==ax(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!ii(l[f],c[f])))return!1;return!0}(n,e);default:return Le(52216,{left:n})}}function pc(n,e){return(n.values||[]).find(t=>ii(t,e))!==void 0}function xl(n,e){if(n===e)return 0;const t=$s(n),r=$s(e);if(t!==r)return Qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Nt(o.integerValue||o.doubleValue),f=Nt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return ux(n.timestampValue,e.timestampValue);case 4:return ux(fc(n),fc(e));case 5:return _v(n.stringValue,e.stringValue);case 6:return function(o,l){const c=zs(o),f=zs(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const m=Qe(c[p],f[p]);if(m!==0)return m}return Qe(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Qe(Nt(o.latitude),Nt(l.latitude));return c!==0?c:Qe(Nt(o.longitude),Nt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return cx(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,f,p,m;const _=o.fields||{},w=l.fields||{},S=(c=_[vh])===null||c===void 0?void 0:c.arrayValue,I=(f=w[vh])===null||f===void 0?void 0:f.arrayValue,b=Qe(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return b!==0?b:cx(S,I)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Lf.mapValue&&l===Lf.mapValue)return 0;if(o===Lf.mapValue)return 1;if(l===Lf.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),p=l.fields||{},m=Object.keys(p);f.sort(),m.sort();for(let _=0;_<f.length&&_<m.length;++_){const w=_v(f[_],m[_]);if(w!==0)return w;const S=xl(c[f[_]],p[m[_]]);if(S!==0)return S}return Qe(f.length,m.length)}(n.mapValue,e.mapValue);default:throw Le(23264,{Pe:t})}}function ux(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const t=Us(n),r=Us(e),i=Qe(t.seconds,r.seconds);return i!==0?i:Qe(t.nanos,r.nanos)}function cx(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=xl(t[i],r[i]);if(o)return o}return Qe(t.length,r.length)}function Tl(n){return wv(n)}function wv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Us(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return zs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=wv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${wv(t.fields[l])}`;return i+"}"}(n.mapValue):Le(61005,{value:n})}function Zf(n){switch($s(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=np(n);return e?16+Zf(e):16;case 5:return 2*n.stringValue.length;case 6:return zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Zf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return eo(r.fields,(o,l)=>{i+=o.length+Zf(l)}),i}(n.mapValue);default:throw Le(13486,{value:n})}}function dx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ev(n){return!!n&&"integerValue"in n}function Ry(n){return!!n&&"arrayValue"in n}function fx(n){return!!n&&"nullValue"in n}function hx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xf(n){return!!n&&"mapValue"in n}function D4(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[m1])===null||t===void 0?void 0:t.stringValue)===g1}function tc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return eo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=tc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function O4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===N4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Xf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(t)}setAll(e){let t=rn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=tc(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Xf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Xf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){eo(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Pn(tc(this.value))}}function v1(n){const e=[];return eo(n.fields,(t,r)=>{const i=new rn([t]);if(Xf(r)){const o=v1(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,r,i,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new fn(e,0,Be.min(),Be.min(),Be.min(),Pn.empty(),0)}static newFoundDocument(e,t,r,i){return new fn(e,1,t,Be.min(),r,i,0)}static newNoDocument(e,t){return new fn(e,2,t,Be.min(),Be.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Be.min(),Be.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t){this.position=e,this.inclusive=t}}function px(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=Re.comparator(Re.fromName(l.referenceValue),t.key):r=xl(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function mx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ii(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t="asc"){this.field=e,this.dir=t}}function M4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{}class Vt extends y1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new V4(e,t,r):t==="array-contains"?new U4(e,r):t==="in"?new z4(e,r):t==="not-in"?new $4(e,r):t==="array-contains-any"?new B4(e,r):new Vt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new j4(e,r):new F4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xl(t,this.value)):t!==null&&$s(this.value)===$s(t)&&this.matchesComparison(xl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends y1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Nr(e,t)}matches(e){return _1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function _1(n){return n.op==="and"}function w1(n){return L4(n)&&_1(n)}function L4(n){for(const e of n.filters)if(e instanceof Nr)return!1;return!0}function xv(n){if(n instanceof Vt)return n.field.canonicalString()+n.op.toString()+Tl(n.value);if(w1(n))return n.filters.map(e=>xv(e)).join(",");{const e=n.filters.map(t=>xv(t)).join(",");return`${n.op}(${e})`}}function E1(n,e){return n instanceof Vt?function(r,i){return i instanceof Vt&&r.op===i.op&&r.field.isEqual(i.field)&&ii(r.value,i.value)}(n,e):n instanceof Nr?function(r,i){return i instanceof Nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&E1(l,i.filters[c]),!0):!1}(n,e):void Le(19439)}function x1(n){return n instanceof Vt?function(t){return`${t.field.canonicalString()} ${t.op} ${Tl(t.value)}`}(n):n instanceof Nr?function(t){return t.op.toString()+" {"+t.getFilters().map(x1).join(" ,")+"}"}(n):"Filter"}class V4 extends Vt{constructor(e,t,r){super(e,t,r),this.key=Re.fromName(r.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class j4 extends Vt{constructor(e,t){super(e,"in",t),this.keys=T1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class F4 extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=T1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function T1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Re.fromName(r.referenceValue))}class U4 extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ry(t)&&pc(t.arrayValue,this.value)}}class z4 extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pc(this.value.arrayValue,t)}}class $4 extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pc(this.value.arrayValue,t)}}class B4 extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ry(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>pc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,t=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Ie=null}}function gx(n,e=null,t=[],r=[],i=null,o=null,l=null){return new W4(n,e,t,r,i,o,l)}function Py(n){const e=We(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>xv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),tp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Tl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Tl(r)).join(",")),e.Ie=t}return e.Ie}function Ny(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!M4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!E1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mx(n.startAt,e.startAt)&&mx(n.endAt,e.endAt)}function Tv(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t=null,r=[],i=[],o=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function H4(n,e,t,r,i,o,l,c){return new $l(n,e,t,r,i,o,l,c)}function S1(n){return new $l(n)}function vx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function b1(n){return n.collectionGroup!==null}function nc(n){const e=We(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ht(rn.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new mc(o,r))}),t.has(rn.keyField().canonicalString())||e.Ee.push(new mc(rn.keyField(),r))}return e.Ee}function ei(n){const e=We(n);return e.de||(e.de=q4(e,nc(n))),e.de}function q4(n,e){if(n.limitType==="F")return gx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new mc(i.field,o)});const t=n.endAt?new yh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new yh(n.startAt.position,n.startAt.inclusive):null;return gx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Sv(n,e){const t=n.filters.concat([e]);return new $l(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function bv(n,e,t){return new $l(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rp(n,e){return Ny(ei(n),ei(e))&&n.limitType===e.limitType}function I1(n){return`${Py(ei(n))}|lt:${n.limitType}`}function ol(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>x1(i)).join(", ")}]`),tp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Tl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Tl(i)).join(",")),`Target(${r})`}(ei(n))}; limitType=${n.limitType})`}function ip(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of nc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,f){const p=px(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,nc(r),i)||r.endAt&&!function(l,c,f){const p=px(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,nc(r),i))}(n,e)}function G4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function C1(n){return(e,t)=>{let r=!1;for(const i of nc(n)){const o=K4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function K4(n,e,t){const r=n.field.isKeyField()?Re.comparator(e.key,t.key):function(o,l,c){const f=l.data.field(o),p=c.data.field(o);return f!==null&&p!==null?xl(f,p):Le(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return u1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new Ct(Re.comparator);function Gi(){return Y4}const k1=new Ct(Re.comparator);function Ku(...n){let e=k1;for(const t of n)e=e.insert(t.key,t);return e}function A1(n){let e=k1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fo(){return rc()}function R1(){return rc()}function rc(){return new aa(n=>n.toString(),(n,e)=>n.isEqual(e))}const Q4=new Ct(Re.comparator),Z4=new Ht(Re.comparator);function Je(...n){let e=Z4;for(const t of n)e=e.add(t);return e}const X4=new Ht(Qe);function J4(){return X4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function P1(n){return{integerValue:""+n}}function eV(n,e){return C4(e)?P1(e):Dy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this._=void 0}}function tV(n,e,t){return n instanceof gc?function(i,o){const l={fields:{[f1]:{stringValue:d1},[p1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ay(o)&&(o=np(o)),o&&(l.fields[h1]=o),{mapValue:l}}(t,e):n instanceof vc?D1(n,e):n instanceof yc?O1(n,e):function(i,o){const l=N1(i,o),c=yx(l)+yx(i.Re);return Ev(l)&&Ev(i.Re)?P1(c):Dy(i.serializer,c)}(n,e)}function nV(n,e,t){return n instanceof vc?D1(n,e):n instanceof yc?O1(n,e):t}function N1(n,e){return n instanceof _h?function(r){return Ev(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class gc extends sp{}class vc extends sp{constructor(e){super(),this.elements=e}}function D1(n,e){const t=M1(e);for(const r of n.elements)t.some(i=>ii(i,r))||t.push(r);return{arrayValue:{values:t}}}class yc extends sp{constructor(e){super(),this.elements=e}}function O1(n,e){let t=M1(e);for(const r of n.elements)t=t.filter(i=>!ii(i,r));return{arrayValue:{values:t}}}class _h extends sp{constructor(e,t){super(),this.serializer=e,this.Re=t}}function yx(n){return Nt(n.integerValue||n.doubleValue)}function M1(n){return Ry(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,t){this.field=e,this.transform=t}}function iV(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof vc&&i instanceof vc||r instanceof yc&&i instanceof yc?El(r.elements,i.elements,ii):r instanceof _h&&i instanceof _h?ii(r.Re,i.Re):r instanceof gc&&i instanceof gc}(n.transform,e.transform)}class sV{constructor(e,t){this.version=e,this.transformResults=t}}class Ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class op{}function L1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Oy(n.key,Ar.none()):new Yc(n.key,n.data,Ar.none());{const t=n.data,r=Pn.empty();let i=new Ht(rn.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new to(n.key,r,new Wn(i.toArray()),Ar.none())}}function oV(n,e,t){n instanceof Yc?function(i,o,l){const c=i.value.clone(),f=wx(i.fieldTransforms,o,l.transformResults);c.setAll(f),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof to?function(i,o,l){if(!Jf(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=wx(i.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(V1(i)),f.setAll(c),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function ic(n,e,t,r){return n instanceof Yc?function(o,l,c,f){if(!Jf(o.precondition,l))return c;const p=o.value.clone(),m=Ex(o.fieldTransforms,f,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof to?function(o,l,c,f){if(!Jf(o.precondition,l))return c;const p=Ex(o.fieldTransforms,f,l),m=l.data;return m.setAll(V1(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,l,c){return Jf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function aV(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=N1(r.transform,i||null);o!=null&&(t===null&&(t=Pn.empty()),t.set(r.field,o))}return t||null}function _x(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&El(r,i,(o,l)=>iV(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Yc extends op{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class to extends op{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function V1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function wx(n,e,t){const r=new Map;ct(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,nV(l,c,t[i]))}return r}function Ex(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,tV(o,l,e))}return r}class Oy extends op{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lV extends op{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&oV(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ic(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ic(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=R1();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const f=L1(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Je())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(t,r)=>_x(t,r))&&El(this.baseMutations,e.baseMutations,(t,r)=>_x(t,r))}}class My{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ct(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Q4}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new My(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,nt;function fV(n){switch(n){case ne.OK:return Le(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Le(15467,{code:n})}}function j1(n){if(n===void 0)return qi("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Lt.OK:return ne.OK;case Lt.CANCELLED:return ne.CANCELLED;case Lt.UNKNOWN:return ne.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ne.INTERNAL;case Lt.UNAVAILABLE:return ne.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ne.NOT_FOUND;case Lt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Lt.ABORTED:return ne.ABORTED;case Lt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Lt.DATA_LOSS:return ne.DATA_LOSS;default:return Le(39323,{code:n})}}(nt=Lt||(Lt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new Ms([4294967295,4294967295],0);function xx(n){const e=o1().encode(n),t=new Xb;return t.update(e),new Uint8Array(t.digest())}function Tx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ms([t,r],0),new Ms([i,o],0)]}class Ly{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Yu(`Invalid padding: ${t}`);if(r<0)throw new Yu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ms.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Ms.fromNumber(r)));return i.compare(hV)===1&&(i=new Ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=xx(e),[r,i]=Tx(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Ly(o,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=xx(e),[r,i]=Tx(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Qc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ap(Be.min(),i,new Ct(Qe),Gi(),Je())}}class Qc{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Qc(r,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class F1{constructor(e,t){this.targetId=e,this.Ce=t}}class U1{constructor(e,t,r=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Sx{constructor(){this.Fe=0,this.Me=bx(),this.xe=sn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Je(),t=Je(),r=Je();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Le(38017,{changeType:o})}}),new Qc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=bx()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ct(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class pV{constructor(e){this.ze=e,this.je=new Map,this.He=Gi(),this.Je=Vf(),this.Ye=Vf(),this.Ze=new Ct(Qe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Le(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const o=i.target;if(Tv(o))if(r===0){const l=new Re(o.path);this.tt(t,l,fn.newNoDocument(l,Be.min()))}else ct(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const c=this.ct(e),f=c?this.lt(c,e,l):1;if(f!==0){this.st(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=zs(r).toUint8Array()}catch(f){if(f instanceof c1)return wl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Ly(l,i,o)}catch(f){return wl(f instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,o,null),i++)}),i}It(e){const t=new Map;this.je.forEach((o,l)=>{const c=this._t(l);if(c){if(o.current&&Tv(c.target)){const f=new Re(c.target.path);this.Et(f).has(l)||this.dt(l,f)||this.tt(l,f,fn.newNoDocument(f,e))}o.Le&&(t.set(l,o.qe()),o.Qe())}});let r=Je();this.Ye.forEach((o,l)=>{let c=!0;l.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const i=new ap(e,t,this.Ze,this.He,r);return this.He=Gi(),this.Je=Vf(),this.Ye=Vf(),this.Ze=new Ct(Qe),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Sx,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ht(Qe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ht(Qe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Sx),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Vf(){return new Ct(Re.comparator)}function bx(){return new Ct(Re.comparator)}const mV={asc:"ASCENDING",desc:"DESCENDING"},gV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vV={and:"AND",or:"OR"};class yV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Iv(n,e){return n.useProto3Json||tp(e)?e:{value:e}}function wh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _V(n,e){return wh(n,e.toTimestamp())}function ti(n){return ct(!!n,49232),Be.fromTimestamp(function(t){const r=Us(t);return new Wt(r.seconds,r.nanos)}(n))}function Vy(n,e){return Cv(n,e).canonicalString()}function Cv(n,e){const t=function(i){return new wt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function $1(n){const e=wt.fromString(n);return ct(G1(e),10190,{key:e.toString()}),e}function kv(n,e){return Vy(n.databaseId,e.path)}function Ig(n,e){const t=$1(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(W1(t))}function B1(n,e){return Vy(n.databaseId,e)}function wV(n){const e=$1(n);return e.length===4?wt.emptyPath():W1(e)}function Av(n){return new wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function W1(n){return ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ix(n,e,t){return{name:kv(n,e),fields:t.value.mapValue.fields}}function EV(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Le(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(ct(m===void 0||typeof m=="string",58123),sn.fromBase64String(m||"")):(ct(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),sn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?ne.UNKNOWN:j1(p.code);return new ye(m,p.message||"")}(l);t=new U1(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ig(n,r.document.name),o=ti(r.document.updateTime),l=r.document.createTime?ti(r.document.createTime):Be.min(),c=new Pn({mapValue:{fields:r.document.fields}}),f=fn.newFoundDocument(i,o,l,c),p=r.targetIds||[],m=r.removedTargetIds||[];t=new eh(p,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ig(n,r.document),o=r.readTime?ti(r.readTime):Be.min(),l=fn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new eh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ig(n,r.document),o=r.removedTargetIds||[];t=new eh([],o,i,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new dV(i,o),c=r.targetId;t=new F1(c,l)}}return t}function xV(n,e){let t;if(e instanceof Yc)t={update:Ix(n,e.key,e.value)};else if(e instanceof Oy)t={delete:kv(n,e.key)};else if(e instanceof to)t={update:Ix(n,e.key,e.data),updateMask:PV(e.fieldMask)};else{if(!(e instanceof lV))return Le(16599,{ft:e.type});t={verify:kv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof gc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof vc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof _h)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Le(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:_V(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le(27497)}(n,e.precondition)),t}function TV(n,e){return n&&n.length>0?(ct(e!==void 0,14353),n.map(t=>function(i,o){let l=i.updateTime?ti(i.updateTime):ti(o);return l.isEqual(Be.min())&&(l=ti(o)),new sV(l,i.transformResults||[])}(t,e))):[]}function SV(n,e){return{documents:[B1(n,e.path)]}}function bV(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=B1(n,i);const o=function(p){if(p.length!==0)return q1(Nr.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(m=>function(w){return{field:al(w.field),direction:kV(w.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Iv(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:i}}function IV(n){let e=wV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ct(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(_){const w=H1(_);return w instanceof Nr&&w1(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(w=>function(I){return new mc(ll(I.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(_){let w;return w=typeof _=="object"?_.value:_,tp(w)?null:w}(t.limit));let f=null;t.startAt&&(f=function(_){const w=!!_.before,S=_.values||[];return new yh(S,w)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const w=!_.before,S=_.values||[];return new yh(S,w)}(t.endAt)),H4(e,i,l,o,c,"F",f,p)}function CV(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function H1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ll(t.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ll(t.unaryFilter.field);return Vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ll(t.unaryFilter.field);return Vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ll(t.unaryFilter.field);return Vt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}}(n):n.fieldFilter!==void 0?function(t){return Vt.create(ll(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Nr.create(t.compositeFilter.filters.map(r=>H1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Le(1026)}}(t.compositeFilter.op))}(n):Le(30097,{filter:n})}function kV(n){return mV[n]}function AV(n){return gV[n]}function RV(n){return vV[n]}function al(n){return{fieldPath:n.canonicalString()}}function ll(n){return rn.fromServerFormat(n.fieldPath)}function q1(n){return n instanceof Vt?function(t){if(t.op==="=="){if(hx(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NAN"}};if(fx(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hx(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NOT_NAN"}};if(fx(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(t.field),op:AV(t.op),value:t.value}}}(n):n instanceof Nr?function(t){const r=t.getFilters().map(i=>q1(i));return r.length===1?r[0]:{compositeFilter:{op:RV(t.op),filters:r}}}(n):Le(54877,{filter:n})}function PV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function G1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,r,i,o=Be.min(),l=Be.min(),c=sn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.wt=e}}function DV(n){const e=IV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?bv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.yn=new MV}addToCollectionParentIndex(e,t){return this.yn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Fs.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class MV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ht(wt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ht(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K1=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(K1,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Sl(0)}static ir(){return new Sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="LruGarbageCollector",LV=1048576;function Ax([n,e],[t,r]){const i=Qe(n,t);return i===0?Qe(e,r):i}class VV{constructor(e){this.cr=e,this.buffer=new Ht(Ax),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ax(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ge(kx,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zl(t)?ge(kx,"Ignoring IndexedDB error during garbage collection: ",t):await Ul(t)}await this.Ir(3e5)})}}class FV{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return te.resolve(ep.le);const r=new VV(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Cx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cx):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,o,l,c,f,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),sl()<=Xe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-m}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function UV(n,e){return new FV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.changes=new aa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ic(r.mutation,i,Wn.empty(),Wt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Je()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Je()){const i=Fo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=Ku();return o.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Fo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Je()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let o=Gi();const l=rc(),c=function(){return rc()}();return t.forEach((f,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof to)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),ic(m.mutation,p,m.mutation.getFieldMask(),Wt.now())):l.set(p.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((p,m)=>l.set(p,m)),t.forEach((p,m)=>{var _;return c.set(p,new $V(m,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const r=rc();let i=new Ct((l,c)=>l-c),o=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let m=r.get(f)||Wn.empty();m=c.applyToLocalView(p,m),r.set(f,m);const _=(i.get(c.batchId)||Je()).add(f);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,m=f.value,_=R1();m.forEach(w=>{if(!o.has(w)){const S=L1(t.get(w),r.get(w));S!==null&&_.set(w,S),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return te.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Re.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):b1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):te.resolve(Fo());let c=dc,f=o;return l.next(p=>te.forEach(p,(m,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),o.get(m)?te.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{f=f.insert(m,w)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,f,p,Je())).next(m=>({batchId:c,changes:A1(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(r=>{let i=Ku();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Ku();return this.indexManager.getCollectionParents(e,o).next(c=>te.forEach(c,f=>{const p=function(_,w){return new $l(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((_,w)=>{l=l.insert(_,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((f,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,fn.newInvalidDocument(m)))});let c=Ku();return l.forEach((f,p)=>{const m=o.get(f);m!==void 0&&ic(m.mutation,p,Wn.empty(),Wt.now()),ip(t,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return te.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ti(i.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:DV(i.bundledQuery),readTime:ti(i.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.overlays=new Ct(Re.comparator),this.Or=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fo();return te.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const i=Fo(),o=t.length+1,l=new Re(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ct((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=o.get(p.largestBatchId);m===null&&(m=Fo(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=Fo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=i)););return te.resolve(c)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new cV(t,r));let o=this.Or.get(t);o===void 0&&(o=Je(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.Nr=new Ht(Zt.Br),this.Lr=new Ht(Zt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Zt(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Zt(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Re(new wt([])),r=new Zt(t,e),i=new Zt(t,e+1),o=[];return this.Lr.forEachInRange([r,i],l=>{this.Qr(l),o.push(l.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Re(new wt([])),r=new Zt(t,e),i=new Zt(t,e+1);let o=Je();return this.Lr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Zt(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Re.comparator(e.key,t.key)||Qe(e.Gr,t.Gr)}static kr(e,t){return Qe(e.Gr,t.Gr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Ht(Zt.Br)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new uV(o,t,r,i);this.mutationQueue.push(l);for(const c of i)this.zr=this.zr.add(new Zt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,t){return te.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Hr(r),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?ky:this.Jn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zt(t,0),i=new Zt(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],l=>{const c=this.jr(l.Gr);o.push(c)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ht(Qe);return t.forEach(i=>{const o=new Zt(i,0),l=new Zt(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,l],c=>{r=r.add(c.Gr)})}),te.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Re.isDocumentKey(o)||(o=o.child(""));const l=new Zt(new Re(o),0);let c=new Ht(Qe);return this.zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(f.Gr)),!0)},l),te.resolve(this.Jr(c))}Jr(e){const t=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ct(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return te.forEach(t.mutations,i=>{const o=new Zt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Zt(t,0),i=this.zr.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.Zr=e,this.docs=function(){return new Ct(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let r=Gi();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():fn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Gi();const l=t.path,c=new Re(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:m}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||T4(x4(m),r)<=0||(i.has(m.key)||ip(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Le(9500)}Xr(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new YV(this)}getSize(e){return te.resolve(this.size)}}class YV extends zV{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.persistence=e,this.ei=new aa(t=>Py(t),Ny),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.ti=0,this.ni=new jy,this.targetCount=0,this.ri=Sl.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),te.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Sl(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.ar(t),te.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.ei.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ei.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),te.waitFor(o).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t){this.ii={},this.overlays={},this.si=new ep(0),this.oi=!1,this.oi=!0,this._i=new qV,this.referenceDelegate=e(this),this.ai=new QV(this),this.indexManager=new OV,this.remoteDocumentCache=function(i){return new KV(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new NV(t),this.ci=new WV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new GV(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){ge("MemoryPersistence","Starting transaction:",e);const i=new ZV(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,t){return te.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class ZV extends b4{constructor(e){super(),this.currentSequenceNumber=e}}class Fy{constructor(e){this.persistence=e,this.Ti=new jy,this.Ii=null}static Ei(e){return new Fy(e)}get di(){if(this.Ii)return this.Ii;throw Le(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,r=>{const i=Re.fromPath(r);return this.Ai(e,i).next(o=>{o||t.removeEntry(i,Be.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return te.or([()=>te.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Eh{constructor(e,t){this.persistence=e,this.Ri=new aa(r=>k4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=UV(this,t)}static Ei(e,t){return new Eh(e,t)}li(){}hi(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return te.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?te.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,l=>this.gr(e,l,t).next(c=>{c||(r++,o.removeEntry(l,Be.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),te.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zf(e.data.value)),t}gr(e,t,r){return te.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.Ri.get(t);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=Je(),i=Je();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Uy(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return vD()?8:I4(pn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Vs(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new XV;return this.fs(e,t,l).next(c=>{if(o.result=c,this.Is)return this.gs(e,t,l,c.size)})}).next(()=>o.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(sl()<=Xe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",ol(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),te.resolve()):(sl()<=Xe.DEBUG&&ge("QueryEngine","Query:",ol(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(sl()<=Xe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",ol(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(t))):te.resolve())}Rs(e,t){if(vx(t))return te.resolve(null);let r=ei(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=bv(t,null,"F"),r=ei(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Je(...o);return this.As.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.ps(t,c);return this.ys(t,p,l,f.readTime)?this.Rs(e,bv(t,null,"F")):this.ws(e,p,t,f)}))})))}Vs(e,t,r,i){return vx(t)||i.isEqual(Be.min())?te.resolve(null):this.As.getDocuments(e,r).next(o=>{const l=this.ps(t,o);return this.ys(t,l,r,i)?te.resolve(null):(sl()<=Xe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ol(t)),this.ws(e,l,t,E4(i,dc)).next(c=>c))})}ps(e,t){let r=new Ht(C1(e));return t.forEach((i,o)=>{ip(e,o)&&(r=r.add(o))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,t,r){return sl()<=Xe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",ol(t)),this.As.getDocumentsMatchingQuery(e,t,Fs.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="LocalStore",e3=3e8;class t3{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new Ct(Qe),this.Ds=new aa(o=>Py(o),Ny),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BV(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function n3(n,e,t,r){return new t3(n,e,t,r)}async function Q1(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let f=Je();for(const p of i){l.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}for(const p of o){c.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ms:p,removedBatchIds:l,addedBatchIds:c}))})})}function r3(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(c,f,p,m){const _=p.batch,w=_.keys();let S=te.resolve();return w.forEach(I=>{S=S.next(()=>m.getEntry(f,I)).next(b=>{const k=p.docVersions.get(I);ct(k!==null,48541),b.version.compareTo(k)<0&&(_.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),m.addEntry(b)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(f,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Je();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Z1(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function i3(n,e){const t=We(n),r=e.snapshotVersion;let i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;const c=[];e.targetChanges.forEach((m,_)=>{const w=i.get(_);if(!w)return;c.push(t.ai.removeMatchingKeys(o,m.removedDocuments,_).next(()=>t.ai.addMatchingKeys(o,m.addedDocuments,_)));let S=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(sn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),i=i.insert(_,S),function(b,k,P){return b.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=e3?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(w,S,m)&&c.push(t.ai.updateTargetData(o,S))});let f=Gi(),p=Je();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(s3(o,l,e.documentUpdates).next(m=>{f=m.xs,p=m.Os})),!r.isEqual(Be.min())){const m=t.ai.getLastRemoteSnapshotVersion(o).next(_=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return te.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,p)).next(()=>f)}).then(o=>(t.Ss=i,o))}function s3(n,e,t){let r=Je(),i=Je();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Gi();return t.forEach((c,f)=>{const p=o.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(Be.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):ge(zy,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{xs:l,Os:i}})}function o3(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ky),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a3(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(o=>o?(i=o,te.resolve(i)):t.ai.allocateTargetId(r).next(l=>(i=new Ps(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function Rv(n,e,t){const r=We(n),i=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!zl(l))throw l;ge(zy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function Rx(n,e,t){const r=We(n);let i=Be.min(),o=Je();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,m){const _=We(f),w=_.Ds.get(m);return w!==void 0?te.resolve(_.Ss.get(w)):_.ai.getTargetData(p,m)}(r,l,ei(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(l,c.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(l,e,t?i:Be.min(),t?o:Je())).next(c=>(l3(r,G4(e),c),{documents:c,Ns:o})))}function l3(n,e,t){let r=n.vs.get(e)||Be.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class Px{constructor(){this.activeTargetIds=J4()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u3{constructor(){this.So=new Px,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Px,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="ConnectivityMonitor";class Dx{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ge(Nx,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ge(Nx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf=null;function Pv(){return jf===null?jf=function(){return 268435456+Math.round(2147483648*Math.random())}():jf++,"0x"+jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="RestConnection",d3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f3{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===gh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,o){const l=Pv(),c=this.$o(e,t.toUriEncodedString());ge(Cg,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(f,i,o);const{host:p}=new URL(c),m=zc(p);return this.Ko(e,c,f,r,m).then(_=>(ge(Cg,`Received RPC '${e}' ${l}: `,_),_),_=>{throw wl(Cg,`RPC '${e}' ${l} failed with error: `,_,"url: ",c,"request:",r),_})}Wo(e,t,r,i,o,l){return this.Qo(e,t,r,i,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,t){const r=d3[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class p3 extends f3{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i,o){const l=Pv();return new Promise((c,f)=>{const p=new Jb;p.setWithCredentials(!0),p.listenOnce(e1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Qf.NO_ERROR:const _=p.getResponseJson();ge(cn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case Qf.TIMEOUT:ge(cn,`RPC '${e}' ${l} timed out`),f(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Qf.HTTP_ERROR:const w=p.getStatus();if(ge(cn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S==null?void 0:S.error;if(I&&I.status&&I.message){const b=function(P){const M=P.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(M)>=0?M:ne.UNKNOWN}(I.status);f(new ye(b,I.message))}else f(new ye(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{s_:e,streamId:l,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{ge(cn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);ge(cn,`RPC '${e}' ${l} sending request:`,i),p.send(t,"POST",m,r,15)})}a_(e,t,r){const i=Pv(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=r1(),c=n1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=o.join("");ge(cn,`Creating RPC '${e}' stream ${i}: ${m}`,f);const _=l.createWebChannel(m,f);let w=!1,S=!1;const I=new h3({Go:k=>{S?ge(cn,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(w||(ge(cn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),w=!0),ge(cn,`RPC '${e}' stream ${i} sending:`,k),_.send(k))},zo:()=>_.close()}),b=(k,P,M)=>{k.listen(P,L=>{try{M(L)}catch(H){setTimeout(()=>{throw H},0)}})};return b(_,Gu.EventType.OPEN,()=>{S||(ge(cn,`RPC '${e}' stream ${i} transport opened.`),I.t_())}),b(_,Gu.EventType.CLOSE,()=>{S||(S=!0,ge(cn,`RPC '${e}' stream ${i} transport closed`),I.r_())}),b(_,Gu.EventType.ERROR,k=>{S||(S=!0,wl(cn,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),I.r_(new ye(ne.UNAVAILABLE,"The operation could not be completed")))}),b(_,Gu.EventType.MESSAGE,k=>{var P;if(!S){const M=k.data[0];ct(!!M,16349);const L=M,H=(L==null?void 0:L.error)||((P=L[0])===null||P===void 0?void 0:P.error);if(H){ge(cn,`RPC '${e}' stream ${i} received error:`,H);const Z=H.status;let J=function(O){const j=Lt[O];if(j!==void 0)return j1(j)}(Z),D=H.message;J===void 0&&(J=ne.INTERNAL,D="Unknown error status: "+Z+" with message "+H.message),S=!0,I.r_(new ye(J,D)),_.close()}else ge(cn,`RPC '${e}' stream ${i} received:`,M),I.i_(M)}}),b(c,t1.STAT_EVENT,k=>{k.stat===yv.PROXY?ge(cn,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===yv.NOPROXY&&ge(cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.n_()},0),I}}function kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(n){return new yV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,t,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="PersistentStream";class J1{constructor(e,t,r,i,o,l,c,f){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new X1(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(qi(t.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{const i=new ye(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ge(Ox,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ge(Ox,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class m3 extends J1{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=EV(this.serializer,e),r=function(o){if(!("targetChange"in o))return Be.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Be.min():l.readTime?ti(l.readTime):Be.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=Av(this.serializer),t.addTarget=function(o,l){let c;const f=l.target;if(c=Tv(f)?{documents:SV(o,f)}:{query:bV(o,f).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=z1(o,l.resumeToken);const p=Iv(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Be.min())>0){c.readTime=wh(o,l.snapshotVersion.toTimestamp());const p=Iv(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=CV(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=Av(this.serializer),t.removeTarget=e,this.F_(t)}}class g3 extends J1{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=TV(e.writeResults,e.commitTime),r=ti(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=Av(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>xV(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{}class y3 extends v3{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Qo(e,Cv(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(ne.UNKNOWN,o.toString())})}Wo(e,t,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,Cv(t,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(ne.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class _3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(qi(t),this.ea=!1):ge("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="RemoteStore";class w3{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(l=>{r.enqueueAndForget(async()=>{la(this)&&(ge(Zo,"Restarting streams for network reachability change."),await async function(f){const p=We(f);p.aa.add(4),await Zc(p),p.la.set("Unknown"),p.aa.delete(4),await up(p)}(this))})}),this.la=new _3(r,i)}}async function up(n){if(la(n))for(const e of n.ua)await e(!0)}async function Zc(n){for(const e of n.ua)await e(!1)}function eI(n,e){const t=We(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Hy(t)?Wy(t):Bl(t).b_()&&By(t,e))}function $y(n,e){const t=We(n),r=Bl(t);t._a.delete(e),r.b_()&&tI(t,e),t._a.size===0&&(r.b_()?r.v_():la(t)&&t.la.set("Unknown"))}function By(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bl(n).U_(e)}function tI(n,e){n.ha.Ke(e),Bl(n).K_(e)}function Wy(n){n.ha=new pV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Bl(n).start(),n.la.ta()}function Hy(n){return la(n)&&!Bl(n).w_()&&n._a.size>0}function la(n){return We(n).aa.size===0}function nI(n){n.ha=void 0}async function E3(n){n.la.set("Online")}async function x3(n){n._a.forEach((e,t)=>{By(n,e)})}async function T3(n,e){nI(n),Hy(n)?(n.la.ia(e),Wy(n)):n.la.set("Unknown")}async function S3(n,e,t){if(n.la.set("Online"),e instanceof U1&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i._a.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i._a.delete(c),i.ha.removeTarget(c))}(n,e)}catch(r){ge(Zo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xh(n,r)}else if(e instanceof eh?n.ha.Xe(e):e instanceof F1?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Be.min()))try{const r=await Z1(n.localStore);t.compareTo(r)>=0&&await function(o,l){const c=o.ha.It(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const m=o._a.get(p);m&&o._a.set(p,m.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const m=o._a.get(f);if(!m)return;o._a.set(f,m.withResumeToken(sn.EMPTY_BYTE_STRING,m.snapshotVersion)),tI(o,f);const _=new Ps(m.target,f,p,m.sequenceNumber);By(o,_)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){ge(Zo,"Failed to raise snapshot:",r),await xh(n,r)}}async function xh(n,e,t){if(!zl(e))throw e;n.aa.add(1),await Zc(n),n.la.set("Offline"),t||(t=()=>Z1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge(Zo,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await up(n)})}function rI(n,e){return e().catch(t=>xh(n,t,e))}async function cp(n){const e=We(n),t=Bs(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:ky;for(;b3(e);)try{const i=await o3(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,I3(e,i)}catch(i){await xh(e,i)}iI(e)&&sI(e)}function b3(n){return la(n)&&n.oa.length<10}function I3(n,e){n.oa.push(e);const t=Bs(n);t.b_()&&t.W_&&t.G_(e.mutations)}function iI(n){return la(n)&&!Bs(n).w_()&&n.oa.length>0}function sI(n){Bs(n).start()}async function C3(n){Bs(n).H_()}async function k3(n){const e=Bs(n);for(const t of n.oa)e.G_(t.mutations)}async function A3(n,e,t){const r=n.oa.shift(),i=My.from(r,e,t);await rI(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await cp(n)}async function R3(n,e){e&&Bs(n).W_&&await async function(r,i){if(function(l){return fV(l)&&l!==ne.ABORTED}(i.code)){const o=r.oa.shift();Bs(r).D_(),await rI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await cp(r)}}(n,e),iI(n)&&sI(n)}async function Mx(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),ge(Zo,"RemoteStore received new credentials");const r=la(t);t.aa.add(3),await Zc(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await up(t)}async function P3(n,e){const t=We(n);e?(t.aa.delete(2),await up(t)):e||(t.aa.add(2),await Zc(t),t.la.set("Unknown"))}function Bl(n){return n.Pa||(n.Pa=function(t,r,i){const o=We(t);return o.Y_(),new m3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:E3.bind(null,n),Jo:x3.bind(null,n),Zo:T3.bind(null,n),Q_:S3.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Hy(n)?Wy(n):n.la.set("Unknown")):(await n.Pa.stop(),nI(n))})),n.Pa}function Bs(n){return n.Ta||(n.Ta=function(t,r,i){const o=We(t);return o.Y_(),new g3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:C3.bind(null,n),Zo:R3.bind(null,n),z_:k3.bind(null,n),j_:A3.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await cp(n)):(await n.Ta.stop(),n.oa.length>0&&(ge(Zo,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,c=new qy(e,t,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gy(n,e){if(qi("AsyncQueue",`${e}: ${n}`),zl(n))return new ye(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Re.comparator(t.key,r.key):(t,r)=>Re.comparator(t.key,r.key),this.keyedMap=Ku(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.Ia=new Ct(Re.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Le(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class bl{constructor(e,t,r,i,o,l,c,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new bl(e,t,gl.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class D3{constructor(){this.queries=Vx(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const i=We(t),o=i.queries;i.queries=Vx(),o.forEach((l,c)=>{for(const f of c.Ra)f.onError(r)})})(this,new ye(ne.ABORTED,"Firestore shutting down"))}}function Vx(){return new aa(n=>I1(n),rp)}async function O3(n,e){const t=We(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new N3,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(i,!0);break;case 1:o.Aa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Gy(l,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&Ky(t)}async function M3(n,e){const t=We(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.Ra.indexOf(e);l>=0&&(o.Ra.splice(l,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function L3(n,e){const t=We(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.Ra)c.pa(i)&&(r=!0);l.Aa=i}}r&&Ky(t)}function V3(n,e,t){const r=We(n),i=r.queries.get(e);if(i)for(const o of i.Ra)o.onError(t);r.queries.delete(e)}function Ky(n){n.fa.forEach(e=>{e.next()})}var Nv,jx;(jx=Nv||(Nv={})).ya="default",jx.Cache="cache";class j3{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Nv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.key=e}}class aI{constructor(e){this.key=e}}class F3{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Je(),this.mutatedKeys=Je(),this.Ua=C1(e),this.Ka=new gl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new Lx,i=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,_)=>{const w=i.get(m),S=ip(this.query,_)?_:null,I=!!w&&this.mutatedKeys.has(w.key),b=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;w&&S?w.data.isEqual(S.data)?I!==b&&(r.track({type:3,doc:S}),k=!0):this.ja(w,S)||(r.track({type:2,doc:S}),k=!0,(f&&this.Ua(S,f)>0||p&&this.Ua(S,p)<0)&&(c=!0)):!w&&S?(r.track({type:0,doc:S}),k=!0):w&&!S&&(r.track({type:1,doc:w}),k=!0,(f||p)&&(c=!0)),k&&(S?(l=l.add(S),o=b?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Ka:l,za:r,ys:c,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((m,_)=>function(S,I){const b=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:k})}};return b(S)-b(I)}(m.type,_.type)||this.Ua(m.doc,_.doc)),this.Ha(r),i=i!=null&&i;const c=t&&!i?this.Ja():[],f=this.$a.size===0&&this.current&&!i?1:0,p=f!==this.Qa;return this.Qa=f,l.length!==0||p?{snapshot:new bl(this.query,e.Ka,o,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Lx,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Je(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new aI(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new oI(r))}),t}Xa(e){this.qa=e.Ns,this.$a=Je();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return bl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Yy="SyncEngine";class U3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class z3{constructor(e){this.key=e,this.tu=!1}}class $3{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new aa(c=>I1(c),rp),this.iu=new Map,this.su=new Set,this.ou=new Ct(Re.comparator),this._u=new Map,this.au=new jy,this.uu={},this.cu=new Map,this.lu=Sl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function B3(n,e,t=!0){const r=hI(n);let i;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=await lI(r,e,t,!0),i}async function W3(n,e){const t=hI(n);await lI(t,e,!0,!1)}async function lI(n,e,t,r){const i=await a3(n.localStore,ei(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await H3(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&eI(n.remoteStore,i),c}async function H3(n,e,t,r,i){n.Pu=(_,w,S)=>async function(b,k,P,M){let L=k.view.Ga(P);L.ys&&(L=await Rx(b.localStore,k.query,!1).then(({documents:D})=>k.view.Ga(D,L)));const H=M&&M.targetChanges.get(k.targetId),Z=M&&M.targetMismatches.get(k.targetId)!=null,J=k.view.applyChanges(L,b.isPrimaryClient,H,Z);return Ux(b,k.targetId,J.Ya),J.snapshot}(n,_,w,S);const o=await Rx(n.localStore,e,!0),l=new F3(e,o.Ns),c=l.Ga(o.documents),f=Qc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,f);Ux(n,t,p.Ya);const m=new U3(e,t,l);return n.ru.set(e,m),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function q3(n,e,t){const r=We(n),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(l=>!rp(l,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Rv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&$y(r.remoteStore,i.targetId),Dv(r,i.targetId)}).catch(Ul)):(Dv(r,i.targetId),await Rv(r.localStore,i.targetId,!0))}async function G3(n,e){const t=We(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),$y(t.remoteStore,r.targetId))}async function K3(n,e,t){const r=tj(n);try{const i=await function(l,c){const f=We(l),p=Wt.now(),m=c.reduce((S,I)=>S.add(I.key),Je());let _,w;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let I=Gi(),b=Je();return f.Cs.getEntries(S,m).next(k=>{I=k,I.forEach((P,M)=>{M.isValidDocument()||(b=b.add(P))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,I)).next(k=>{_=k;const P=[];for(const M of c){const L=aV(M,_.get(M.key).overlayedDocument);L!=null&&P.push(new to(M.key,L,v1(L.value.mapValue),Ar.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,P,c)}).next(k=>{w=k;const P=k.applyToLocalDocumentSet(_,b);return f.documentOverlayCache.saveOverlays(S,k.batchId,P)})}).then(()=>({batchId:w.batchId,changes:A1(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let p=l.uu[l.currentUser.toKey()];p||(p=new Ct(Qe)),p=p.insert(c,f),l.uu[l.currentUser.toKey()]=p}(r,i.batchId,t),await Xc(r,i.changes),await cp(r.remoteStore)}catch(i){const o=Gy(i,"Failed to persist write");t.reject(o)}}async function uI(n,e){const t=We(n);try{const r=await i3(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t._u.get(o);l&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.tu=!0:i.modifiedDocuments.size>0?ct(l.tu,14607):i.removedDocuments.size>0&&(ct(l.tu,42227),l.tu=!1))}),await Xc(t,r,e)}catch(r){await Ul(r)}}function Fx(n,e,t){const r=We(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ru.forEach((o,l)=>{const c=l.view.ga(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const f=We(l);f.onlineState=c;let p=!1;f.queries.forEach((m,_)=>{for(const w of _.Ra)w.ga(c)&&(p=!0)}),p&&Ky(f)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Y3(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r._u.get(e),o=i&&i.key;if(o){let l=new Ct(Re.comparator);l=l.insert(o,fn.newNoDocument(o,Be.min()));const c=Je().add(o),f=new ap(Be.min(),new Map,new Ct(Qe),l,c);await uI(r,f),r.ou=r.ou.remove(o),r._u.delete(e),Qy(r)}else await Rv(r.localStore,e,!1).then(()=>Dv(r,e,t)).catch(Ul)}async function Q3(n,e){const t=We(n),r=e.batch.batchId;try{const i=await r3(t.localStore,e);dI(t,r,null),cI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Xc(t,i)}catch(i){await Ul(i)}}async function Z3(n,e,t){const r=We(n);try{const i=await function(l,c){const f=We(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return f.mutationQueue.lookupMutationBatch(p,c).next(_=>(ct(_!==null,37113),m=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>f.localDocuments.getDocuments(p,m))})}(r.localStore,e);dI(r,e,t),cI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Xc(r,i)}catch(i){await Ul(i)}}function cI(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function dI(n,e,t){const r=We(n);let i=r.uu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function Dv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||fI(n,r)})}function fI(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&($y(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Qy(n))}function Ux(n,e,t){for(const r of t)r instanceof oI?(n.au.addReference(r.key,e),X3(n,r)):r instanceof aI?(ge(Yy,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||fI(n,r.key)):Le(19791,{Iu:r})}function X3(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(ge(Yy,"New document in limbo: "+t),n.su.add(r),Qy(n))}function Qy(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Re(wt.fromString(e)),r=n.lu.next();n._u.set(r,new z3(t)),n.ou=n.ou.insert(t,r),eI(n.remoteStore,new Ps(ei(S1(t.path)),r,"TargetPurposeLimboResolution",ep.le))}}async function Xc(n,e,t){const r=We(n),i=[],o=[],l=[];r.ru.isEmpty()||(r.ru.forEach((c,f)=>{l.push(r.Pu(f,e,t).then(p=>{var m;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){i.push(p);const _=Uy.Ps(f.targetId,p);o.push(_)}}))}),await Promise.all(l),r.nu.Q_(i),await async function(f,p){const m=We(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>te.forEach(p,w=>te.forEach(w.ls,S=>m.persistence.referenceDelegate.addReference(_,w.targetId,S)).next(()=>te.forEach(w.hs,S=>m.persistence.referenceDelegate.removeReference(_,w.targetId,S)))))}catch(_){if(!zl(_))throw _;ge(zy,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const S=m.Ss.get(w),I=S.snapshotVersion,b=S.withLastLimboFreeSnapshotVersion(I);m.Ss=m.Ss.insert(w,b)}}}(r.localStore,o))}async function J3(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){ge(Yy,"User change. New user:",e.toKey());const r=await Q1(t.localStore,e);t.currentUser=e,function(o,l){o.cu.forEach(c=>{c.forEach(f=>{f.reject(new ye(ne.CANCELLED,l))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xc(t,r.Ms)}}function ej(n,e){const t=We(n),r=t._u.get(e);if(r&&r.tu)return Je().add(r.key);{let i=Je();const o=t.iu.get(e);if(!o)return i;for(const l of o){const c=t.ru.get(l);i=i.unionWith(c.view.Wa)}return i}}function hI(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=uI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ej.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y3.bind(null,e),e.nu.Q_=L3.bind(null,e.eventManager),e.nu.Tu=V3.bind(null,e.eventManager),e}function tj(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z3.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lp(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return n3(this.persistence,new JV,e.initialUser,this.serializer)}Ru(e){return new Y1(Fy.Ei,this.serializer)}Au(e){return new u3}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class nj extends Th{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){ct(this.persistence.referenceDelegate instanceof Eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jV(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new Y1(r=>Eh.Ei(r,t),this.serializer)}}class Ov{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Fx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=J3.bind(null,this.syncEngine),await P3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new D3}()}createDatastore(e){const t=lp(e.databaseInfo.databaseId),r=function(o){return new p3(o)}(e.databaseInfo);return function(o,l,c,f){return new y3(o,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,c){return new w3(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>Fx(this.syncEngine,t,0),function(){return Dx.C()?new Dx:new c3}())}createSyncEngine(e,t){return function(i,o,l,c,f,p,m){const _=new $3(i,o,l,c,f,p);return m&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=We(i);ge(Zo,"RemoteStore shutting down."),o.aa.add(5),await Zc(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ov.provider={build:()=>new Ov};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class ij{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=a1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{ge(Ws,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ge(Ws,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Gy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ag(n,e){n.asyncQueue.verifyOperationInProgress(),ge(Ws,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Q1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function zx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await sj(n);ge(Ws,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Mx(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Mx(e.remoteStore,i)),n._onlineComponents=e}async function sj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(Ws,"Using user provided OfflineComponentProvider");try{await Ag(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;wl("Error using user provided cache. Falling back to memory cache: "+t),await Ag(n,new Th)}}else ge(Ws,"Using default OfflineComponentProvider"),await Ag(n,new nj(void 0));return n._offlineComponents}async function pI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(Ws,"Using user provided OnlineComponentProvider"),await zx(n,n._uninitializedComponentsProvider._online)):(ge(Ws,"Using default OnlineComponentProvider"),await zx(n,new Ov))),n._onlineComponents}function oj(n){return pI(n).then(e=>e.syncEngine)}async function aj(n){const e=await pI(n),t=e.eventManager;return t.onListen=B3.bind(null,e.syncEngine),t.onUnlisten=q3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=W3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=G3.bind(null,e.syncEngine),t}function lj(n,e,t={}){const r=new Ls;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,f,p){const m=new rj({next:w=>{m.yu(),l.enqueueAndForget(()=>M3(o,_)),w.fromCache&&f.source==="server"?p.reject(new ye(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new j3(c,m,{includeMetadataChanges:!0,Fa:!0});return O3(o,_)}(await aj(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(n,e,t){if(!t)throw new ye(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uj(n,e,t,r){if(e===!0&&r===!0)throw new ye(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Bx(n){if(!Re.isDocumentKey(n))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Wx(n){if(Re.isDocumentKey(n))throw new ye(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Le(12329,{type:typeof n})}function Hs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dp(n);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="firestore.googleapis.com",Hx=!0;class qx{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vI,this.ssl=Hx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Hx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=K1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LV)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new f4;switch(r.type){case"firstParty":return new g4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Qh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=$x.get(t);r&&(ge("ComponentProvider","Removing Datastore"),$x.delete(t),r.terminate())}(this),Promise.resolve()}}function cj(n,e,t,r={}){var i;n=Hs(n,fp);const o=zc(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;l.host!==vI&&l.host!==f&&wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:f,ssl:o,emulatorOptions:r});if(!qo(p,c)&&(n._setSettings(p),o&&(fb(`https://${f}`),Qh("Firestore",!0)),r.mockUserToken)){let m,_;if(typeof r.mockUserToken=="string")m=r.mockUserToken,_=dn.MOCK_USER;else{m=lD(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new dn(w)}n._authCredentials=new h4(new s1(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class Dn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class Vs extends ua{constructor(e,t,r){super(e,t,S1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new Re(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function yI(n,e,...t){if(n=Dt(n),gI("collection","path",e),n instanceof fp){const r=wt.fromString(e,...t);return Wx(r),new Vs(n,null,r)}{if(!(n instanceof Dn||n instanceof Vs))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wt.fromString(e,...t));return Wx(r),new Vs(n.firestore,null,r)}}function Zy(n,e,...t){if(n=Dt(n),arguments.length===1&&(e=a1.newId()),gI("doc","path",e),n instanceof fp){const r=wt.fromString(e,...t);return Bx(r),new Dn(n,null,new Re(r))}{if(!(n instanceof Dn||n instanceof Vs))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wt.fromString(e,...t));return Bx(r),new Dn(n.firestore,n instanceof Vs?n.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="AsyncQueue";class Kx{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new X1(this,"async_queue_retry"),this.ju=()=>{const r=kg();r&&ge(Gx,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=kg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=kg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Ls;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!zl(e))throw e;ge(Gx,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,qi("INTERNAL UNHANDLED ERROR: ",Yx(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const i=qy.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&Le(47125,{ec:Yx(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function Yx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Jc extends fp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Kx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kx(e),this._firestoreClient=void 0,await e}}}function dj(n,e){const t=typeof n=="object"?n:mb(),r=typeof n=="string"?n:gh,i=dy(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=oD("firestore");o&&cj(i,...o)}return i}function _I(n){if(n._terminated)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fj(n),n._firestoreClient}function fj(n){var e,t,r;const i=n._freezeSettings(),o=function(c,f,p,m){return new P4(c,f,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,mI(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new ij(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Il(sn.fromBase64String(e))}catch(t){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Il(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=/^__.*__$/;class pj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yc(e,this.data,t,this.fieldTransforms)}}class wI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new to(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function EI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{oc:n})}}class e_{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new e_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Sh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(EI(this.oc)&&hj.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class mj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||lp(e)}dc(e,t,r,i=!1){return new e_({oc:e,methodName:t,Ec:r,path:rn.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function t_(n){const e=n._freezeSettings(),t=lp(n._databaseId);return new mj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gj(n,e,t,r,i,o={}){const l=n.dc(o.merge||o.mergeFields?2:0,e,t,i);r_("Data must be an object, but it was:",l,r);const c=xI(r,l);let f,p;if(o.merge)f=new Wn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const _ of o.mergeFields){const w=Mv(e,_,t);if(!l.contains(w))throw new ye(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);SI(m,w)||m.push(w)}f=new Wn(m),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new pj(new Pn(c),f,p)}class mp extends pp{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mp}}class n_ extends pp{_toFieldTransform(e){return new rV(e.path,new gc)}isEqual(e){return e instanceof n_}}function vj(n,e,t,r){const i=n.dc(1,e,t);r_("Data must be an object, but it was:",i,r);const o=[],l=Pn.empty();eo(r,(f,p)=>{const m=i_(e,f,t);p=Dt(p);const _=i.hc(m);if(p instanceof mp)o.push(m);else{const w=ed(p,_);w!=null&&(o.push(m),l.set(m,w))}});const c=new Wn(o);return new wI(l,c,i.fieldTransforms)}function yj(n,e,t,r,i,o){const l=n.dc(1,e,t),c=[Mv(e,r,t)],f=[i];if(o.length%2!=0)throw new ye(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)c.push(Mv(e,o[w])),f.push(o[w+1]);const p=[],m=Pn.empty();for(let w=c.length-1;w>=0;--w)if(!SI(p,c[w])){const S=c[w];let I=f[w];I=Dt(I);const b=l.hc(S);if(I instanceof mp)p.push(S);else{const k=ed(I,b);k!=null&&(p.push(S),m.set(S,k))}}const _=new Wn(p);return new wI(m,_,l.fieldTransforms)}function _j(n,e,t,r=!1){return ed(t,n.dc(r?4:3,e))}function ed(n,e){if(TI(n=Dt(n)))return r_("Unsupported field value:",e,n),xI(n,e);if(n instanceof pp)return function(r,i){if(!EI(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let f=ed(c,i.Pc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Wt.fromDate(r);return{timestampValue:wh(i.serializer,o)}}if(r instanceof Wt){const o=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wh(i.serializer,o)}}if(r instanceof Xy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Il)return{bytesValue:z1(i.serializer,r._byteString)};if(r instanceof Dn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Vy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Jy)return function(l,c){return{mapValue:{fields:{[m1]:{stringValue:g1},[vh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Tc("VectorValues must only contain numeric values.");return Dy(c.serializer,p)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${dp(r)}`)}(n,e)}function xI(n,e){const t={};return u1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(n,(r,i)=>{const o=ed(i,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function TI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Wt||n instanceof Xy||n instanceof Il||n instanceof Dn||n instanceof pp||n instanceof Jy)}function r_(n,e,t){if(!TI(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=dp(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function Mv(n,e,t){if((e=Dt(e))instanceof hp)return e._internalPath;if(typeof e=="string")return i_(n,e);throw Sh("Field path arguments must be of type string or ",n,!1,void 0,t)}const wj=new RegExp("[~\\*/\\[\\]]");function i_(n,e,t){if(e.search(wj)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hp(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sh(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new ye(ne.INVALID_ARGUMENT,c+n+f)}function SI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ej(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Ej extends bI{data(){return super.data()}}function gp(n,e){return typeof e=="string"?i_(n,e):e instanceof hp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s_{}class II extends s_{}function Tj(n,e,...t){let r=[];e instanceof s_&&r.push(e),r=r.concat(t),function(o){const l=o.filter(f=>f instanceof o_).length,c=o.filter(f=>f instanceof vp).length;if(l>1||l>0&&c>0)throw new ye(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class vp extends II{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new vp(e,t,r)}_apply(e){const t=this._parse(e);return CI(e._query,t),new ua(e.firestore,e.converter,Sv(e._query,t))}_parse(e){const t=t_(e.firestore);return function(o,l,c,f,p,m,_){let w;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Zx(_,m);const I=[];for(const b of _)I.push(Qx(f,o,b));w={arrayValue:{values:I}}}else w=Qx(f,o,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Zx(_,m),w=_j(c,l,_,m==="in"||m==="not-in");return Vt.create(p,m,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Sj(n,e,t){const r=e,i=gp("where",n);return vp._create(i,r,t)}class o_ extends s_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new o_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const f of c)CI(l,f),l=Sv(l,f)}(e._query,t),new ua(e.firestore,e.converter,Sv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class a_ extends II{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new a_(e,t)}_apply(e){const t=function(i,o,l){if(i.startAt!==null)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mc(o,l)}(e._query,this._field,this._direction);return new ua(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new $l(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function bj(n,e="asc"){const t=e,r=gp("orderBy",n);return a_._create(r,t)}function Qx(n,e,t){if(typeof(t=Dt(t))=="string"){if(t==="")throw new ye(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b1(e)&&t.indexOf("/")!==-1)throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(wt.fromString(t));if(!Re.isDocumentKey(r))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dx(n,new Re(r))}if(t instanceof Dn)return dx(n,t._key);throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dp(t)}.`)}function Zx(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CI(n,e){const t=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Ij{convertValue(e,t="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return eo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[vh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Nt(l.doubleValue));return new Jy(o)}convertGeoPoint(e){return new Xy(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=np(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const t=Us(e);return new Wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=wt.fromString(e);ct(G1(r),9688,{name:e});const i=new hc(r.get(1),r.get(3)),o=new Re(r.popFirst(5));return i.isEqual(t)||qi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kj extends bI{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class th extends kj{data(e={}){return super.data(e)}}class Aj{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ff(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new th(this._firestore,this._userDataWriter,r.key,r,new Ff(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const f=new th(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ff(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const f=new th(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ff(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:Rj(c.type),doc:f,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Rj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:n})}}class Pj extends Ij{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,t)}}function Nj(n){n=Hs(n,ua);const e=Hs(n.firestore,Jc),t=_I(e),r=new Pj(e);return xj(n._query),lj(t,n._query).then(i=>new Aj(e,r,n,i))}function Dj(n,e,t){n=Hs(n,Dn);const r=Hs(n.firestore,Jc),i=Cj(n.converter,e);return l_(r,[gj(t_(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ar.none())])}function Oj(n,e,t,...r){n=Hs(n,Dn);const i=Hs(n.firestore,Jc),o=t_(i);let l;return l=typeof(e=Dt(e))=="string"||e instanceof hp?yj(o,"updateDoc",n._key,e,t,r):vj(o,"updateDoc",n._key,e),l_(i,[l.toMutation(n._key,Ar.exists(!0))])}function Mj(n){return l_(Hs(n.firestore,Jc),[new Oy(n._key,Ar.none())])}function l_(n,e){return function(r,i){const o=new Ls;return r.asyncQueue.enqueueAndForget(async()=>K3(await oj(r),i,o)),o.promise}(_I(n),e)}function Xx(){return new n_("serverTimestamp")}(function(e,t=!0){(function(i){Fl=i})(Vl),_l(new Go("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Jc(new p4(r.getProvider("auth-internal")),new v4(l,r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(p.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Os(JE,ex,e),Os(JE,ex,"esm2017")})();const Lj={apiKey:"AIzaSyC4FuAlwSVGXKTzFt3CCoe2RvJfhW8bFio",authDomain:"todolist-cd951.firebaseapp.com",projectId:"todolist-cd951",storageBucket:"todolist-cd951.firebasestorage.app",messagingSenderId:"339215811281",appId:"1:339215811281:web:8b564cb4627a9473357bf0",measurementId:"G-5D2H0V89GJ"},Vj=fy(Lj),yp=dj(Vj),jj=async(n,e)=>{var r;const t=(r=Js.currentUser)==null?void 0:r.uid;if(!t)throw new Error("User not logged in");try{const i=Zy(yI(yp,"todo")),o={id:i.id,uid:t,title:n,expireDate:e,isDone:!1,created_at:Xx(),updated_at:Xx()};await Dj(i,o),console.log("新增資料成功")}catch(i){console.error("Error adding document: ",i)}},Fj=async()=>{var e;const n=(e=Js.currentUser)==null?void 0:e.uid;try{const t=Tj(yI(yp,"todo"),Sj("uid","==",n),bj("created_at","asc")),r=await Nj(t),i=[];return r.forEach(o=>{const{id:l,title:c,expireDate:f,isDone:p}=o.data();i.push({id:l,title:c,expireDate:f,isDone:p})}),i}catch(t){console.error("Error getting todos: ",t)}},Rg=async(n,e,t,r)=>{var o;if(!((o=Js.currentUser)==null?void 0:o.uid))throw new Error("User not logged in");try{const l=Zy(yp,"todo",n);await Oj(l,{title:e,expireDate:t,isDone:r}),console.log("更新資料成功")}catch(l){console.error("Error updating todos: ",l)}},Uj=async n=>{var t;if(!((t=Js.currentUser)==null?void 0:t.uid))throw new Error("User not logged in");try{const r=Zy(yp,"todo",n);await Mj(r),console.log("刪除資料成功")}catch(r){console.error("Error updating todos: ",r)}},kI=x.createContext({todos:[],selectedStatus:null,handleSelect:()=>{},AddTodo:()=>{},GetTodos:()=>{},ToggleIsDone:()=>{},EditTodoTitle:()=>{},EditExpireDate:()=>{},DeleteTodo:()=>{}}),zj=({children:n})=>{const[e,t]=x.useState([]),[r,i]=x.useState(null),o=w=>{i(w)},l=async()=>{const w=await Fj();w&&t(w)},c=async(w,S)=>{await jj(w,S),l()},f=async w=>{const S=e==null?void 0:e.find(M=>M.id===w);if(!S)return;S.isDone=!S.isDone;const{id:I,title:b,expireDate:k,isDone:P}=S;await Rg(I,b,k,P),l()},p=async(w,S)=>{const I=e==null?void 0:e.find(L=>L.id===w);if(!I)return;I.title=S;const{id:b,title:k,expireDate:P,isDone:M}=I;await Rg(b,k,P,M),l()},m=async(w,S)=>{const I=e==null?void 0:e.find(L=>L.id===w);if(!I)return;I.expireDate=S;const{id:b,title:k,expireDate:P,isDone:M}=I;await Rg(b,k,P,M),l()},_=async w=>{await Uj(w),l()};return T.jsx(kI.Provider,{value:{todos:e,selectedStatus:r,handleSelect:o,AddTodo:c,GetTodos:l,ToggleIsDone:f,EditTodoTitle:p,EditExpireDate:m,DeleteTodo:_},children:n})},_p=()=>x.useContext(kI);function zi({className:n,type:e,...t}){return T.jsx("input",{type:e,"data-slot":"input",className:ut("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}function Jx(n,[e,t]){return Math.min(t,Math.max(e,n))}function $j(n){const e=n+"CollectionProvider",[t,r]=sa(e),[i,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:k,children:P}=b,M=Cs.useRef(null),L=Cs.useRef(new Map).current;return T.jsx(i,{scope:k,itemMap:L,collectionRef:M,children:P})};l.displayName=e;const c=n+"CollectionSlot",f=Bo(c),p=Cs.forwardRef((b,k)=>{const{scope:P,children:M}=b,L=o(c,P),H=ht(k,L.collectionRef);return T.jsx(f,{ref:H,children:M})});p.displayName=c;const m=n+"CollectionItemSlot",_="data-radix-collection-item",w=Bo(m),S=Cs.forwardRef((b,k)=>{const{scope:P,children:M,...L}=b,H=Cs.useRef(null),Z=ht(k,H),J=o(m,P);return Cs.useEffect(()=>(J.itemMap.set(H,{ref:H,...L}),()=>void J.itemMap.delete(H))),T.jsx(w,{[_]:"",ref:Z,children:M})});S.displayName=m;function I(b){const k=o(n+"CollectionConsumer",b);return Cs.useCallback(()=>{const M=k.collectionRef.current;if(!M)return[];const L=Array.from(M.querySelectorAll(`[${_}]`));return Array.from(k.itemMap.values()).sort((J,D)=>L.indexOf(J.ref.current)-L.indexOf(D.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:l,Slot:p,ItemSlot:S},I,r]}var Bj=x.createContext(void 0);function Wj(n){const e=x.useContext(Bj);return n||e||"ltr"}const Hj=["top","right","bottom","left"],qs=Math.min,$n=Math.max,bh=Math.round,Uf=Math.floor,ni=n=>({x:n,y:n}),qj={left:"right",right:"left",bottom:"top",top:"bottom"},Gj={start:"end",end:"start"};function Lv(n,e,t){return $n(n,qs(e,t))}function Ki(n,e){return typeof n=="function"?n(e):n}function Yi(n){return n.split("-")[0]}function Wl(n){return n.split("-")[1]}function u_(n){return n==="x"?"y":"x"}function c_(n){return n==="y"?"height":"width"}function $i(n){return["top","bottom"].includes(Yi(n))?"y":"x"}function d_(n){return u_($i(n))}function Kj(n,e,t){t===void 0&&(t=!1);const r=Wl(n),i=d_(n),o=c_(i);let l=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Ih(l)),[l,Ih(l)]}function Yj(n){const e=Ih(n);return[Vv(n),e,Vv(e)]}function Vv(n){return n.replace(/start|end/g,e=>Gj[e])}function Qj(n,e,t){const r=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?o:l;default:return[]}}function Zj(n,e,t,r){const i=Wl(n);let o=Qj(Yi(n),t==="start",r);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(Vv)))),o}function Ih(n){return n.replace(/left|right|bottom|top/g,e=>qj[e])}function Xj(n){return{top:0,right:0,bottom:0,left:0,...n}}function AI(n){return typeof n!="number"?Xj(n):{top:n,right:n,bottom:n,left:n}}function Ch(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function eT(n,e,t){let{reference:r,floating:i}=n;const o=$i(e),l=d_(e),c=c_(l),f=Yi(e),p=o==="y",m=r.x+r.width/2-i.width/2,_=r.y+r.height/2-i.height/2,w=r[c]/2-i[c]/2;let S;switch(f){case"top":S={x:m,y:r.y-i.height};break;case"bottom":S={x:m,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:_};break;case"left":S={x:r.x-i.width,y:_};break;default:S={x:r.x,y:r.y}}switch(Wl(e)){case"start":S[l]-=w*(t&&p?-1:1);break;case"end":S[l]+=w*(t&&p?-1:1);break}return S}const Jj=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=t,c=o.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:m,y:_}=eT(p,r,f),w=r,S={},I=0;for(let b=0;b<c.length;b++){const{name:k,fn:P}=c[b],{x:M,y:L,data:H,reset:Z}=await P({x:m,y:_,initialPlacement:r,placement:w,strategy:i,middlewareData:S,rects:p,platform:l,elements:{reference:n,floating:e}});m=M??m,_=L??_,S={...S,[k]:{...S[k],...H}},Z&&I<=50&&(I++,typeof Z=="object"&&(Z.placement&&(w=Z.placement),Z.rects&&(p=Z.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):Z.rects),{x:m,y:_}=eT(p,w,f)),b=-1)}return{x:m,y:_,placement:w,strategy:i,middlewareData:S}};async function _c(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:l,elements:c,strategy:f}=n,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:_="floating",altBoundary:w=!1,padding:S=0}=Ki(e,n),I=AI(S),k=c[w?_==="floating"?"reference":"floating":_],P=Ch(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(k)))==null||t?k:k.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:p,rootBoundary:m,strategy:f})),M=_==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),H=await(o.isElement==null?void 0:o.isElement(L))?await(o.getScale==null?void 0:o.getScale(L))||{x:1,y:1}:{x:1,y:1},Z=Ch(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:M,offsetParent:L,strategy:f}):M);return{top:(P.top-Z.top+I.top)/H.y,bottom:(Z.bottom-P.bottom+I.bottom)/H.y,left:(P.left-Z.left+I.left)/H.x,right:(Z.right-P.right+I.right)/H.x}}const eF=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:o,platform:l,elements:c,middlewareData:f}=e,{element:p,padding:m=0}=Ki(n,e)||{};if(p==null)return{};const _=AI(m),w={x:t,y:r},S=d_(i),I=c_(S),b=await l.getDimensions(p),k=S==="y",P=k?"top":"left",M=k?"bottom":"right",L=k?"clientHeight":"clientWidth",H=o.reference[I]+o.reference[S]-w[S]-o.floating[I],Z=w[S]-o.reference[S],J=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let D=J?J[L]:0;(!D||!await(l.isElement==null?void 0:l.isElement(J)))&&(D=c.floating[L]||o.floating[I]);const A=H/2-Z/2,O=D/2-b[I]/2-1,j=qs(_[P],O),U=qs(_[M],O),$=j,N=D-b[I]-U,Te=D/2-b[I]/2+A,Ae=Lv($,Te,N),_e=!f.arrow&&Wl(i)!=null&&Te!==Ae&&o.reference[I]/2-(Te<$?j:U)-b[I]/2<0,ee=_e?Te<$?Te-$:Te-N:0;return{[S]:w[S]+ee,data:{[S]:Ae,centerOffset:Te-Ae-ee,..._e&&{alignmentOffset:ee}},reset:_e}}}),tF=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:f,elements:p}=e,{mainAxis:m=!0,crossAxis:_=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:b=!0,...k}=Ki(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const P=Yi(i),M=$i(c),L=Yi(c)===c,H=await(f.isRTL==null?void 0:f.isRTL(p.floating)),Z=w||(L||!b?[Ih(c)]:Yj(c)),J=I!=="none";!w&&J&&Z.push(...Zj(c,b,I,H));const D=[c,...Z],A=await _c(e,k),O=[];let j=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&O.push(A[P]),_){const Ae=Kj(i,l,H);O.push(A[Ae[0]],A[Ae[1]])}if(j=[...j,{placement:i,overflows:O}],!O.every(Ae=>Ae<=0)){var U,$;const Ae=(((U=o.flip)==null?void 0:U.index)||0)+1,_e=D[Ae];if(_e){var N;const F=_==="alignment"?M!==$i(_e):!1,ce=((N=j[0])==null?void 0:N.overflows[0])>0;if(!F||ce)return{data:{index:Ae,overflows:j},reset:{placement:_e}}}let ee=($=j.filter(F=>F.overflows[0]<=0).sort((F,ce)=>F.overflows[1]-ce.overflows[1])[0])==null?void 0:$.placement;if(!ee)switch(S){case"bestFit":{var Te;const F=(Te=j.filter(ce=>{if(J){const se=$i(ce.placement);return se===M||se==="y"}return!0}).map(ce=>[ce.placement,ce.overflows.filter(se=>se>0).reduce((se,W)=>se+W,0)]).sort((ce,se)=>ce[1]-se[1])[0])==null?void 0:Te[0];F&&(ee=F);break}case"initialPlacement":ee=c;break}if(i!==ee)return{reset:{placement:ee}}}return{}}}};function tT(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function nT(n){return Hj.some(e=>n[e]>=0)}const nF=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Ki(n,e);switch(r){case"referenceHidden":{const o=await _c(e,{...i,elementContext:"reference"}),l=tT(o,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:nT(l)}}}case"escaped":{const o=await _c(e,{...i,altBoundary:!0}),l=tT(o,t.floating);return{data:{escapedOffsets:l,escaped:nT(l)}}}default:return{}}}}};async function rF(n,e){const{placement:t,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Yi(t),c=Wl(t),f=$i(t)==="y",p=["left","top"].includes(l)?-1:1,m=o&&f?-1:1,_=Ki(e,n);let{mainAxis:w,crossAxis:S,alignmentAxis:I}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return c&&typeof I=="number"&&(S=c==="end"?I*-1:I),f?{x:S*m,y:w*p}:{x:w*p,y:S*m}}const iF=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:o,placement:l,middlewareData:c}=e,f=await rF(e,n);return l===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:o+f.y,data:{...f,placement:l}}}}},sF=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:k=>{let{x:P,y:M}=k;return{x:P,y:M}}},...f}=Ki(n,e),p={x:t,y:r},m=await _c(e,f),_=$i(Yi(i)),w=u_(_);let S=p[w],I=p[_];if(o){const k=w==="y"?"top":"left",P=w==="y"?"bottom":"right",M=S+m[k],L=S-m[P];S=Lv(M,S,L)}if(l){const k=_==="y"?"top":"left",P=_==="y"?"bottom":"right",M=I+m[k],L=I-m[P];I=Lv(M,I,L)}const b=c.fn({...e,[w]:S,[_]:I});return{...b,data:{x:b.x-t,y:b.y-r,enabled:{[w]:o,[_]:l}}}}}},oF=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:f=!0,crossAxis:p=!0}=Ki(n,e),m={x:t,y:r},_=$i(i),w=u_(_);let S=m[w],I=m[_];const b=Ki(c,e),k=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(f){const L=w==="y"?"height":"width",H=o.reference[w]-o.floating[L]+k.mainAxis,Z=o.reference[w]+o.reference[L]-k.mainAxis;S<H?S=H:S>Z&&(S=Z)}if(p){var P,M;const L=w==="y"?"width":"height",H=["top","left"].includes(Yi(i)),Z=o.reference[_]-o.floating[L]+(H&&((P=l.offset)==null?void 0:P[_])||0)+(H?0:k.crossAxis),J=o.reference[_]+o.reference[L]+(H?0:((M=l.offset)==null?void 0:M[_])||0)-(H?k.crossAxis:0);I<Z?I=Z:I>J&&(I=J)}return{[w]:S,[_]:I}}}},aF=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:o,platform:l,elements:c}=e,{apply:f=()=>{},...p}=Ki(n,e),m=await _c(e,p),_=Yi(i),w=Wl(i),S=$i(i)==="y",{width:I,height:b}=o.floating;let k,P;_==="top"||_==="bottom"?(k=_,P=w===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(P=_,k=w==="end"?"top":"bottom");const M=b-m.top-m.bottom,L=I-m.left-m.right,H=qs(b-m[k],M),Z=qs(I-m[P],L),J=!e.middlewareData.shift;let D=H,A=Z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=L),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=M),J&&!w){const j=$n(m.left,0),U=$n(m.right,0),$=$n(m.top,0),N=$n(m.bottom,0);S?A=I-2*(j!==0||U!==0?j+U:$n(m.left,m.right)):D=b-2*($!==0||N!==0?$+N:$n(m.top,m.bottom))}await f({...e,availableWidth:A,availableHeight:D});const O=await l.getDimensions(c.floating);return I!==O.width||b!==O.height?{reset:{rects:!0}}:{}}}};function wp(){return typeof window<"u"}function Hl(n){return RI(n)?(n.nodeName||"").toLowerCase():"#document"}function Hn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function hi(n){var e;return(e=(RI(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function RI(n){return wp()?n instanceof Node||n instanceof Hn(n).Node:!1}function Dr(n){return wp()?n instanceof Element||n instanceof Hn(n).Element:!1}function si(n){return wp()?n instanceof HTMLElement||n instanceof Hn(n).HTMLElement:!1}function rT(n){return!wp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Hn(n).ShadowRoot}function td(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Or(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function lF(n){return["table","td","th"].includes(Hl(n))}function Ep(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function f_(n){const e=h_(),t=Dr(n)?Or(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function uF(n){let e=Gs(n);for(;si(e)&&!Cl(e);){if(f_(e))return e;if(Ep(e))return null;e=Gs(e)}return null}function h_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cl(n){return["html","body","#document"].includes(Hl(n))}function Or(n){return Hn(n).getComputedStyle(n)}function xp(n){return Dr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Gs(n){if(Hl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||rT(n)&&n.host||hi(n);return rT(e)?e.host:e}function PI(n){const e=Gs(n);return Cl(e)?n.ownerDocument?n.ownerDocument.body:n.body:si(e)&&td(e)?e:PI(e)}function wc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=PI(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),l=Hn(i);if(o){const c=jv(l);return e.concat(l,l.visualViewport||[],td(i)?i:[],c&&t?wc(c):[])}return e.concat(i,wc(i,[],t))}function jv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function NI(n){const e=Or(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=si(n),o=i?n.offsetWidth:t,l=i?n.offsetHeight:r,c=bh(t)!==o||bh(r)!==l;return c&&(t=o,r=l),{width:t,height:r,$:c}}function p_(n){return Dr(n)?n:n.contextElement}function vl(n){const e=p_(n);if(!si(e))return ni(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:o}=NI(e);let l=(o?bh(t.width):t.width)/r,c=(o?bh(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const cF=ni(0);function DI(n){const e=Hn(n);return!h_()||!e.visualViewport?cF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dF(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Hn(n)?!1:e}function Xo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=p_(n);let l=ni(1);e&&(r?Dr(r)&&(l=vl(r)):l=vl(n));const c=dF(o,t,r)?DI(o):ni(0);let f=(i.left+c.x)/l.x,p=(i.top+c.y)/l.y,m=i.width/l.x,_=i.height/l.y;if(o){const w=Hn(o),S=r&&Dr(r)?Hn(r):r;let I=w,b=jv(I);for(;b&&r&&S!==I;){const k=vl(b),P=b.getBoundingClientRect(),M=Or(b),L=P.left+(b.clientLeft+parseFloat(M.paddingLeft))*k.x,H=P.top+(b.clientTop+parseFloat(M.paddingTop))*k.y;f*=k.x,p*=k.y,m*=k.x,_*=k.y,f+=L,p+=H,I=Hn(b),b=jv(I)}}return Ch({width:m,height:_,x:f,y:p})}function m_(n,e){const t=xp(n).scrollLeft;return e?e.left+t:Xo(hi(n)).left+t}function OI(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:m_(n,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function fF(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const o=i==="fixed",l=hi(r),c=e?Ep(e.floating):!1;if(r===l||c&&o)return t;let f={scrollLeft:0,scrollTop:0},p=ni(1);const m=ni(0),_=si(r);if((_||!_&&!o)&&((Hl(r)!=="body"||td(l))&&(f=xp(r)),si(r))){const S=Xo(r);p=vl(r),m.x=S.x+r.clientLeft,m.y=S.y+r.clientTop}const w=l&&!_&&!o?OI(l,f,!0):ni(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-f.scrollLeft*p.x+m.x+w.x,y:t.y*p.y-f.scrollTop*p.y+m.y+w.y}}function hF(n){return Array.from(n.getClientRects())}function pF(n){const e=hi(n),t=xp(n),r=n.ownerDocument.body,i=$n(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=$n(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+m_(n);const c=-t.scrollTop;return Or(r).direction==="rtl"&&(l+=$n(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:c}}function mF(n,e){const t=Hn(n),r=hi(n),i=t.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,f=0;if(i){o=i.width,l=i.height;const p=h_();(!p||p&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:o,height:l,x:c,y:f}}function gF(n,e){const t=Xo(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,o=si(n)?vl(n):ni(1),l=n.clientWidth*o.x,c=n.clientHeight*o.y,f=i*o.x,p=r*o.y;return{width:l,height:c,x:f,y:p}}function iT(n,e,t){let r;if(e==="viewport")r=mF(n,t);else if(e==="document")r=pF(hi(n));else if(Dr(e))r=gF(e,t);else{const i=DI(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ch(r)}function MI(n,e){const t=Gs(n);return t===e||!Dr(t)||Cl(t)?!1:Or(t).position==="fixed"||MI(t,e)}function vF(n,e){const t=e.get(n);if(t)return t;let r=wc(n,[],!1).filter(c=>Dr(c)&&Hl(c)!=="body"),i=null;const o=Or(n).position==="fixed";let l=o?Gs(n):n;for(;Dr(l)&&!Cl(l);){const c=Or(l),f=f_(l);!f&&c.position==="fixed"&&(i=null),(o?!f&&!i:!f&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||td(l)&&!f&&MI(n,l))?r=r.filter(m=>m!==l):i=c,l=Gs(l)}return e.set(n,r),r}function yF(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const l=[...t==="clippingAncestors"?Ep(e)?[]:vF(e,this._c):[].concat(t),r],c=l[0],f=l.reduce((p,m)=>{const _=iT(e,m,i);return p.top=$n(_.top,p.top),p.right=qs(_.right,p.right),p.bottom=qs(_.bottom,p.bottom),p.left=$n(_.left,p.left),p},iT(e,c,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function _F(n){const{width:e,height:t}=NI(n);return{width:e,height:t}}function wF(n,e,t){const r=si(e),i=hi(e),o=t==="fixed",l=Xo(n,!0,o,e);let c={scrollLeft:0,scrollTop:0};const f=ni(0);function p(){f.x=m_(i)}if(r||!r&&!o)if((Hl(e)!=="body"||td(i))&&(c=xp(e)),r){const S=Xo(e,!0,o,e);f.x=S.x+e.clientLeft,f.y=S.y+e.clientTop}else i&&p();o&&!r&&i&&p();const m=i&&!r&&!o?OI(i,c):ni(0),_=l.left+c.scrollLeft-f.x-m.x,w=l.top+c.scrollTop-f.y-m.y;return{x:_,y:w,width:l.width,height:l.height}}function Pg(n){return Or(n).position==="static"}function sT(n,e){if(!si(n)||Or(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return hi(n)===t&&(t=t.ownerDocument.body),t}function LI(n,e){const t=Hn(n);if(Ep(n))return t;if(!si(n)){let i=Gs(n);for(;i&&!Cl(i);){if(Dr(i)&&!Pg(i))return i;i=Gs(i)}return t}let r=sT(n,e);for(;r&&lF(r)&&Pg(r);)r=sT(r,e);return r&&Cl(r)&&Pg(r)&&!f_(r)?t:r||uF(n)||t}const EF=async function(n){const e=this.getOffsetParent||LI,t=this.getDimensions,r=await t(n.floating);return{reference:wF(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xF(n){return Or(n).direction==="rtl"}const TF={convertOffsetParentRelativeRectToViewportRelativeRect:fF,getDocumentElement:hi,getClippingRect:yF,getOffsetParent:LI,getElementRects:EF,getClientRects:hF,getDimensions:_F,getScale:vl,isElement:Dr,isRTL:xF};function VI(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function SF(n,e){let t=null,r;const i=hi(n);function o(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),o();const p=n.getBoundingClientRect(),{left:m,top:_,width:w,height:S}=p;if(c||e(),!w||!S)return;const I=Uf(_),b=Uf(i.clientWidth-(m+w)),k=Uf(i.clientHeight-(_+S)),P=Uf(m),L={rootMargin:-I+"px "+-b+"px "+-k+"px "+-P+"px",threshold:$n(0,qs(1,f))||1};let H=!0;function Z(J){const D=J[0].intersectionRatio;if(D!==f){if(!H)return l();D?l(!1,D):r=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!VI(p,n.getBoundingClientRect())&&l(),H=!1}try{t=new IntersectionObserver(Z,{...L,root:i.ownerDocument})}catch{t=new IntersectionObserver(Z,L)}t.observe(n)}return l(!0),o}function bF(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=p_(n),m=i||o?[...p?wc(p):[],...wc(e)]:[];m.forEach(P=>{i&&P.addEventListener("scroll",t,{passive:!0}),o&&P.addEventListener("resize",t)});const _=p&&c?SF(p,t):null;let w=-1,S=null;l&&(S=new ResizeObserver(P=>{let[M]=P;M&&M.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var L;(L=S)==null||L.observe(e)})),t()}),p&&!f&&S.observe(p),S.observe(e));let I,b=f?Xo(n):null;f&&k();function k(){const P=Xo(n);b&&!VI(b,P)&&t(),b=P,I=requestAnimationFrame(k)}return t(),()=>{var P;m.forEach(M=>{i&&M.removeEventListener("scroll",t),o&&M.removeEventListener("resize",t)}),_==null||_(),(P=S)==null||P.disconnect(),S=null,f&&cancelAnimationFrame(I)}}const IF=iF,CF=sF,kF=tF,AF=aF,RF=nF,oT=eF,PF=oF,NF=(n,e,t)=>{const r=new Map,i={platform:TF,...t},o={...i.platform,_c:r};return Jj(n,e,{...i,platform:o})};var nh=typeof document<"u"?x.useLayoutEffect:x.useEffect;function kh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!kh(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const o=i[r];if(!(o==="_owner"&&n.$$typeof)&&!kh(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function jI(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function aT(n,e){const t=jI(n);return Math.round(e*t)/t}function Ng(n){const e=x.useRef(n);return nh(()=>{e.current=n}),e}function DF(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:f,open:p}=n,[m,_]=x.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,S]=x.useState(r);kh(w,r)||S(r);const[I,b]=x.useState(null),[k,P]=x.useState(null),M=x.useCallback(F=>{F!==J.current&&(J.current=F,b(F))},[]),L=x.useCallback(F=>{F!==D.current&&(D.current=F,P(F))},[]),H=o||I,Z=l||k,J=x.useRef(null),D=x.useRef(null),A=x.useRef(m),O=f!=null,j=Ng(f),U=Ng(i),$=Ng(p),N=x.useCallback(()=>{if(!J.current||!D.current)return;const F={placement:e,strategy:t,middleware:w};U.current&&(F.platform=U.current),NF(J.current,D.current,F).then(ce=>{const se={...ce,isPositioned:$.current!==!1};Te.current&&!kh(A.current,se)&&(A.current=se,Fc.flushSync(()=>{_(se)}))})},[w,e,t,U,$]);nh(()=>{p===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,_(F=>({...F,isPositioned:!1})))},[p]);const Te=x.useRef(!1);nh(()=>(Te.current=!0,()=>{Te.current=!1}),[]),nh(()=>{if(H&&(J.current=H),Z&&(D.current=Z),H&&Z){if(j.current)return j.current(H,Z,N);N()}},[H,Z,N,j,O]);const Ae=x.useMemo(()=>({reference:J,floating:D,setReference:M,setFloating:L}),[M,L]),_e=x.useMemo(()=>({reference:H,floating:Z}),[H,Z]),ee=x.useMemo(()=>{const F={position:t,left:0,top:0};if(!_e.floating)return F;const ce=aT(_e.floating,m.x),se=aT(_e.floating,m.y);return c?{...F,transform:"translate("+ce+"px, "+se+"px)",...jI(_e.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ce,top:se}},[t,c,_e.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:N,refs:Ae,elements:_e,floatingStyles:ee}),[m,N,Ae,_e,ee])}const OF=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?oT({element:r.current,padding:i}).fn(t):{}:r?oT({element:r,padding:i}).fn(t):{}}}},MF=(n,e)=>({...IF(n),options:[n,e]}),LF=(n,e)=>({...CF(n),options:[n,e]}),VF=(n,e)=>({...PF(n),options:[n,e]}),jF=(n,e)=>({...kF(n),options:[n,e]}),FF=(n,e)=>({...AF(n),options:[n,e]}),UF=(n,e)=>({...RF(n),options:[n,e]}),zF=(n,e)=>({...OF(n),options:[n,e]});var $F="Arrow",FI=x.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...o}=n;return T.jsx(lt.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:T.jsx("polygon",{points:"0,0 30,0 15,10"})})});FI.displayName=$F;var BF=FI;function UI(n){const[e,t]=x.useState(void 0);return hn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,c;if("borderBoxSize"in o){const f=o.borderBoxSize,p=Array.isArray(f)?f[0]:f;l=p.inlineSize,c=p.blockSize}else l=n.offsetWidth,c=n.offsetHeight;t({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var g_="Popper",[zI,Tp]=sa(g_),[WF,$I]=zI(g_),BI=n=>{const{__scopePopper:e,children:t}=n,[r,i]=x.useState(null);return T.jsx(WF,{scope:e,anchor:r,onAnchorChange:i,children:t})};BI.displayName=g_;var WI="PopperAnchor",HI=x.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,o=$I(WI,t),l=x.useRef(null),c=ht(e,l);return x.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:T.jsx(lt.div,{...i,ref:c})});HI.displayName=WI;var v_="PopperContent",[HF,qF]=zI(v_),qI=x.forwardRef((n,e)=>{var ae,Ie,je,Me,He,Ge;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:_="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:I,...b}=n,k=$I(v_,t),[P,M]=x.useState(null),L=ht(e,kt=>M(kt)),[H,Z]=x.useState(null),J=UI(H),D=(J==null?void 0:J.width)??0,A=(J==null?void 0:J.height)??0,O=r+(o!=="center"?"-"+o:""),j=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},U=Array.isArray(p)?p:[p],$=U.length>0,N={padding:j,boundary:U.filter(KF),altBoundary:$},{refs:Te,floatingStyles:Ae,placement:_e,isPositioned:ee,middlewareData:F}=DF({strategy:"fixed",placement:O,whileElementsMounted:(...kt)=>bF(...kt,{animationFrame:S==="always"}),elements:{reference:k.anchor},middleware:[MF({mainAxis:i+A,alignmentAxis:l}),f&&LF({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?VF():void 0,...N}),f&&jF({...N}),FF({...N,apply:({elements:kt,rects:qt,availableWidth:Yn,availableHeight:ar})=>{const{width:lr,height:ca}=qt.reference,ur=kt.floating.style;ur.setProperty("--radix-popper-available-width",`${Yn}px`),ur.setProperty("--radix-popper-available-height",`${ar}px`),ur.setProperty("--radix-popper-anchor-width",`${lr}px`),ur.setProperty("--radix-popper-anchor-height",`${ca}px`)}}),H&&zF({element:H,padding:c}),YF({arrowWidth:D,arrowHeight:A}),w&&UF({strategy:"referenceHidden",...N})]}),[ce,se]=YI(_e),W=Wo(I);hn(()=>{ee&&(W==null||W())},[ee,W]);const X=(ae=F.arrow)==null?void 0:ae.x,fe=(Ie=F.arrow)==null?void 0:Ie.y,Se=((je=F.arrow)==null?void 0:je.centerOffset)!==0,[Oe,$e]=x.useState();return hn(()=>{P&&$e(window.getComputedStyle(P).zIndex)},[P]),T.jsx("div",{ref:Te.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ae,transform:ee?Ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(Me=F.transformOrigin)==null?void 0:Me.x,(He=F.transformOrigin)==null?void 0:He.y].join(" "),...((Ge=F.hide)==null?void 0:Ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:T.jsx(HF,{scope:t,placedSide:ce,onArrowChange:Z,arrowX:X,arrowY:fe,shouldHideArrow:Se,children:T.jsx(lt.div,{"data-side":ce,"data-align":se,...b,ref:L,style:{...b.style,animation:ee?void 0:"none"}})})})});qI.displayName=v_;var GI="PopperArrow",GF={top:"bottom",right:"left",bottom:"top",left:"right"},KI=x.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,o=qF(GI,r),l=GF[o.placedSide];return T.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:T.jsx(BF,{...i,ref:t,style:{...i.style,display:"block"}})})});KI.displayName=GI;function KF(n){return n!==null}var YF=n=>({name:"transformOrigin",options:n,fn(e){var k,P,M;const{placement:t,rects:r,middlewareData:i}=e,l=((k=i.arrow)==null?void 0:k.centerOffset)!==0,c=l?0:n.arrowWidth,f=l?0:n.arrowHeight,[p,m]=YI(t),_={start:"0%",center:"50%",end:"100%"}[m],w=(((P=i.arrow)==null?void 0:P.x)??0)+c/2,S=(((M=i.arrow)==null?void 0:M.y)??0)+f/2;let I="",b="";return p==="bottom"?(I=l?_:`${w}px`,b=`${-f}px`):p==="top"?(I=l?_:`${w}px`,b=`${r.floating.height+f}px`):p==="right"?(I=`${-f}px`,b=l?_:`${S}px`):p==="left"&&(I=`${r.floating.width+f}px`,b=l?_:`${S}px`),{data:{x:I,y:b}}}});function YI(n){const[e,t="center"]=n.split("-");return[e,t]}var QI=BI,y_=HI,ZI=qI,XI=KI;function JI(n){const e=x.useRef({value:n,previous:n});return x.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var eC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QF="VisuallyHidden",ZF=x.forwardRef((n,e)=>T.jsx(lt.span,{...n,ref:e,style:{...eC,...n.style}}));ZF.displayName=QF;var XF=[" ","Enter","ArrowUp","ArrowDown"],JF=[" ","Enter"],Jo="Select",[Sp,bp,e5]=$j(Jo),[ql,l$]=sa(Jo,[e5,Tp]),Ip=Tp(),[t5,no]=ql(Jo),[n5,r5]=ql(Jo),tC=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:o,value:l,defaultValue:c,onValueChange:f,dir:p,name:m,autoComplete:_,disabled:w,required:S,form:I}=n,b=Ip(e),[k,P]=x.useState(null),[M,L]=x.useState(null),[H,Z]=x.useState(!1),J=Wj(p),[D,A]=oc({prop:r,defaultProp:i??!1,onChange:o,caller:Jo}),[O,j]=oc({prop:l,defaultProp:c,onChange:f,caller:Jo}),U=x.useRef(null),$=k?I||!!k.closest("form"):!0,[N,Te]=x.useState(new Set),Ae=Array.from(N).map(_e=>_e.props.value).join(";");return T.jsx(QI,{...b,children:T.jsxs(t5,{required:S,scope:e,trigger:k,onTriggerChange:P,valueNode:M,onValueNodeChange:L,valueNodeHasChildren:H,onValueNodeHasChildrenChange:Z,contentId:Uo(),value:O,onValueChange:j,open:D,onOpenChange:A,dir:J,triggerPointerDownPosRef:U,disabled:w,children:[T.jsx(Sp.Provider,{scope:e,children:T.jsx(n5,{scope:n.__scopeSelect,onNativeOptionAdd:x.useCallback(_e=>{Te(ee=>new Set(ee).add(_e))},[]),onNativeOptionRemove:x.useCallback(_e=>{Te(ee=>{const F=new Set(ee);return F.delete(_e),F})},[]),children:t})}),$?T.jsxs(TC,{"aria-hidden":!0,required:S,tabIndex:-1,name:m,autoComplete:_,value:O,onChange:_e=>j(_e.target.value),disabled:w,form:I,children:[O===void 0?T.jsx("option",{value:""}):null,Array.from(N)]},Ae):null]})})};tC.displayName=Jo;var nC="SelectTrigger",rC=x.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,o=Ip(t),l=no(nC,t),c=l.disabled||r,f=ht(e,l.onTriggerChange),p=bp(t),m=x.useRef("touch"),[_,w,S]=bC(b=>{const k=p().filter(L=>!L.disabled),P=k.find(L=>L.value===l.value),M=IC(k,b,P);M!==void 0&&l.onValueChange(M.value)}),I=b=>{c||(l.onOpenChange(!0),S()),b&&(l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return T.jsx(y_,{asChild:!0,...o,children:T.jsx(lt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":SC(l.value)?"":void 0,...i,ref:f,onClick:st(i.onClick,b=>{b.currentTarget.focus(),m.current!=="mouse"&&I(b)}),onPointerDown:st(i.onPointerDown,b=>{m.current=b.pointerType;const k=b.target;k.hasPointerCapture(b.pointerId)&&k.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(I(b),b.preventDefault())}),onKeyDown:st(i.onKeyDown,b=>{const k=_.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&w(b.key),!(k&&b.key===" ")&&XF.includes(b.key)&&(I(),b.preventDefault())})})})});rC.displayName=nC;var iC="SelectValue",sC=x.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:o,placeholder:l="",...c}=n,f=no(iC,t),{onValueNodeHasChildrenChange:p}=f,m=o!==void 0,_=ht(e,f.onValueNodeChange);return hn(()=>{p(m)},[p,m]),T.jsx(lt.span,{...c,ref:_,style:{pointerEvents:"none"},children:SC(f.value)?T.jsx(T.Fragment,{children:l}):o})});sC.displayName=iC;var i5="SelectIcon",oC=x.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return T.jsx(lt.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});oC.displayName=i5;var s5="SelectPortal",aC=n=>T.jsx(Wh,{asChild:!0,...n});aC.displayName=s5;var ea="SelectContent",lC=x.forwardRef((n,e)=>{const t=no(ea,n.__scopeSelect),[r,i]=x.useState();if(hn(()=>{i(new DocumentFragment)},[]),!t.open){const o=r;return o?Fc.createPortal(T.jsx(uC,{scope:n.__scopeSelect,children:T.jsx(Sp.Slot,{scope:n.__scopeSelect,children:T.jsx("div",{children:n.children})})}),o):null}return T.jsx(cC,{...n,ref:e})});lC.displayName=ea;var br=10,[uC,ro]=ql(ea),o5="SelectContentImpl",a5=Bo("SelectContent.RemoveScroll"),cC=x.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:f,align:p,alignOffset:m,arrowPadding:_,collisionBoundary:w,collisionPadding:S,sticky:I,hideWhenDetached:b,avoidCollisions:k,...P}=n,M=no(ea,t),[L,H]=x.useState(null),[Z,J]=x.useState(null),D=ht(e,ae=>H(ae)),[A,O]=x.useState(null),[j,U]=x.useState(null),$=bp(t),[N,Te]=x.useState(!1),Ae=x.useRef(!1);x.useEffect(()=>{if(L)return iy(L)},[L]),ry();const _e=x.useCallback(ae=>{const[Ie,...je]=$().map(Ge=>Ge.ref.current),[Me]=je.slice(-1),He=document.activeElement;for(const Ge of ae)if(Ge===He||(Ge==null||Ge.scrollIntoView({block:"nearest"}),Ge===Ie&&Z&&(Z.scrollTop=0),Ge===Me&&Z&&(Z.scrollTop=Z.scrollHeight),Ge==null||Ge.focus(),document.activeElement!==He))return},[$,Z]),ee=x.useCallback(()=>_e([A,L]),[_e,A,L]);x.useEffect(()=>{N&&ee()},[N,ee]);const{onOpenChange:F,triggerPointerDownPosRef:ce}=M;x.useEffect(()=>{if(L){let ae={x:0,y:0};const Ie=Me=>{var He,Ge;ae={x:Math.abs(Math.round(Me.pageX)-(((He=ce.current)==null?void 0:He.x)??0)),y:Math.abs(Math.round(Me.pageY)-(((Ge=ce.current)==null?void 0:Ge.y)??0))}},je=Me=>{ae.x<=10&&ae.y<=10?Me.preventDefault():L.contains(Me.target)||F(!1),document.removeEventListener("pointermove",Ie),ce.current=null};return ce.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",je,{capture:!0})}}},[L,F,ce]),x.useEffect(()=>{const ae=()=>F(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[F]);const[se,W]=bC(ae=>{const Ie=$().filter(He=>!He.disabled),je=Ie.find(He=>He.ref.current===document.activeElement),Me=IC(Ie,ae,je);Me&&setTimeout(()=>Me.ref.current.focus())}),X=x.useCallback((ae,Ie,je)=>{const Me=!Ae.current&&!je;(M.value!==void 0&&M.value===Ie||Me)&&(O(ae),Me&&(Ae.current=!0))},[M.value]),fe=x.useCallback(()=>L==null?void 0:L.focus(),[L]),Se=x.useCallback((ae,Ie,je)=>{const Me=!Ae.current&&!je;(M.value!==void 0&&M.value===Ie||Me)&&U(ae)},[M.value]),Oe=r==="popper"?Fv:dC,$e=Oe===Fv?{side:c,sideOffset:f,align:p,alignOffset:m,arrowPadding:_,collisionBoundary:w,collisionPadding:S,sticky:I,hideWhenDetached:b,avoidCollisions:k}:{};return T.jsx(uC,{scope:t,content:L,viewport:Z,onViewportChange:J,itemRefCallback:X,selectedItem:A,onItemLeave:fe,itemTextRefCallback:Se,focusSelectedItem:ee,selectedItemText:j,position:r,isPositioned:N,searchRef:se,children:T.jsx(qh,{as:a5,allowPinchZoom:!0,children:T.jsx(Bh,{asChild:!0,trapped:M.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:st(i,ae=>{var Ie;(Ie=M.trigger)==null||Ie.focus({preventScroll:!0}),ae.preventDefault()}),children:T.jsx($h,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:T.jsx(Oe,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:ae=>ae.preventDefault(),...P,...$e,onPlaced:()=>Te(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:st(P.onKeyDown,ae=>{const Ie=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!Ie&&ae.key.length===1&&W(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Me=$().filter(He=>!He.disabled).map(He=>He.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const He=ae.target,Ge=Me.indexOf(He);Me=Me.slice(Ge+1)}setTimeout(()=>_e(Me)),ae.preventDefault()}})})})})})})});cC.displayName=o5;var l5="SelectItemAlignedPosition",dC=x.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,o=no(ea,t),l=ro(ea,t),[c,f]=x.useState(null),[p,m]=x.useState(null),_=ht(e,D=>m(D)),w=bp(t),S=x.useRef(!1),I=x.useRef(!0),{viewport:b,selectedItem:k,selectedItemText:P,focusSelectedItem:M}=l,L=x.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&p&&b&&k&&P){const D=o.trigger.getBoundingClientRect(),A=p.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),j=P.getBoundingClientRect();if(o.dir!=="rtl"){const He=j.left-A.left,Ge=O.left-He,kt=D.left-Ge,qt=D.width+kt,Yn=Math.max(qt,A.width),ar=window.innerWidth-br,lr=Jx(Ge,[br,Math.max(br,ar-Yn)]);c.style.minWidth=qt+"px",c.style.left=lr+"px"}else{const He=A.right-j.right,Ge=window.innerWidth-O.right-He,kt=window.innerWidth-D.right-Ge,qt=D.width+kt,Yn=Math.max(qt,A.width),ar=window.innerWidth-br,lr=Jx(Ge,[br,Math.max(br,ar-Yn)]);c.style.minWidth=qt+"px",c.style.right=lr+"px"}const U=w(),$=window.innerHeight-br*2,N=b.scrollHeight,Te=window.getComputedStyle(p),Ae=parseInt(Te.borderTopWidth,10),_e=parseInt(Te.paddingTop,10),ee=parseInt(Te.borderBottomWidth,10),F=parseInt(Te.paddingBottom,10),ce=Ae+_e+N+F+ee,se=Math.min(k.offsetHeight*5,ce),W=window.getComputedStyle(b),X=parseInt(W.paddingTop,10),fe=parseInt(W.paddingBottom,10),Se=D.top+D.height/2-br,Oe=$-Se,$e=k.offsetHeight/2,ae=k.offsetTop+$e,Ie=Ae+_e+ae,je=ce-Ie;if(Ie<=Se){const He=U.length>0&&k===U[U.length-1].ref.current;c.style.bottom="0px";const Ge=p.clientHeight-b.offsetTop-b.offsetHeight,kt=Math.max(Oe,$e+(He?fe:0)+Ge+ee),qt=Ie+kt;c.style.height=qt+"px"}else{const He=U.length>0&&k===U[0].ref.current;c.style.top="0px";const kt=Math.max(Se,Ae+b.offsetTop+(He?X:0)+$e)+je;c.style.height=kt+"px",b.scrollTop=Ie-Se+b.offsetTop}c.style.margin=`${br}px 0`,c.style.minHeight=se+"px",c.style.maxHeight=$+"px",r==null||r(),requestAnimationFrame(()=>S.current=!0)}},[w,o.trigger,o.valueNode,c,p,b,k,P,o.dir,r]);hn(()=>L(),[L]);const[H,Z]=x.useState();hn(()=>{p&&Z(window.getComputedStyle(p).zIndex)},[p]);const J=x.useCallback(D=>{D&&I.current===!0&&(L(),M==null||M(),I.current=!1)},[L,M]);return T.jsx(c5,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:S,onScrollButtonChange:J,children:T.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:H},children:T.jsx(lt.div,{...i,ref:_,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});dC.displayName=l5;var u5="SelectPopperPosition",Fv=x.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=br,...o}=n,l=Ip(t);return T.jsx(ZI,{...l,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fv.displayName=u5;var[c5,__]=ql(ea,{}),Uv="SelectViewport",fC=x.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,o=ro(Uv,t),l=__(Uv,t),c=ht(e,o.onViewportChange),f=x.useRef(0);return T.jsxs(T.Fragment,{children:[T.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),T.jsx(Sp.Slot,{scope:t,children:T.jsx(lt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:st(i.onScroll,p=>{const m=p.currentTarget,{contentWrapper:_,shouldExpandOnScrollRef:w}=l;if(w!=null&&w.current&&_){const S=Math.abs(f.current-m.scrollTop);if(S>0){const I=window.innerHeight-br*2,b=parseFloat(_.style.minHeight),k=parseFloat(_.style.height),P=Math.max(b,k);if(P<I){const M=P+S,L=Math.min(I,M),H=M-L;_.style.height=L+"px",_.style.bottom==="0px"&&(m.scrollTop=H>0?H:0,_.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});fC.displayName=Uv;var hC="SelectGroup",[d5,f5]=ql(hC),h5=x.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Uo();return T.jsx(d5,{scope:t,id:i,children:T.jsx(lt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});h5.displayName=hC;var pC="SelectLabel",p5=x.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=f5(pC,t);return T.jsx(lt.div,{id:i.id,...r,ref:e})});p5.displayName=pC;var Ah="SelectItem",[m5,mC]=ql(Ah),gC=x.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:o,...l}=n,c=no(Ah,t),f=ro(Ah,t),p=c.value===r,[m,_]=x.useState(o??""),[w,S]=x.useState(!1),I=ht(e,M=>{var L;return(L=f.itemRefCallback)==null?void 0:L.call(f,M,r,i)}),b=Uo(),k=x.useRef("touch"),P=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return T.jsx(m5,{scope:t,value:r,disabled:i,textId:b,isSelected:p,onItemTextChange:x.useCallback(M=>{_(L=>L||((M==null?void 0:M.textContent)??"").trim())},[]),children:T.jsx(Sp.ItemSlot,{scope:t,value:r,disabled:i,textValue:m,children:T.jsx(lt.div,{role:"option","aria-labelledby":b,"data-highlighted":w?"":void 0,"aria-selected":p&&w,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:I,onFocus:st(l.onFocus,()=>S(!0)),onBlur:st(l.onBlur,()=>S(!1)),onClick:st(l.onClick,()=>{k.current!=="mouse"&&P()}),onPointerUp:st(l.onPointerUp,()=>{k.current==="mouse"&&P()}),onPointerDown:st(l.onPointerDown,M=>{k.current=M.pointerType}),onPointerMove:st(l.onPointerMove,M=>{var L;k.current=M.pointerType,i?(L=f.onItemLeave)==null||L.call(f):k.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(l.onPointerLeave,M=>{var L;M.currentTarget===document.activeElement&&((L=f.onItemLeave)==null||L.call(f))}),onKeyDown:st(l.onKeyDown,M=>{var H;((H=f.searchRef)==null?void 0:H.current)!==""&&M.key===" "||(JF.includes(M.key)&&P(),M.key===" "&&M.preventDefault())})})})})});gC.displayName=Ah;var Qu="SelectItemText",vC=x.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...o}=n,l=no(Qu,t),c=ro(Qu,t),f=mC(Qu,t),p=r5(Qu,t),[m,_]=x.useState(null),w=ht(e,P=>_(P),f.onItemTextChange,P=>{var M;return(M=c.itemTextRefCallback)==null?void 0:M.call(c,P,f.value,f.disabled)}),S=m==null?void 0:m.textContent,I=x.useMemo(()=>T.jsx("option",{value:f.value,disabled:f.disabled,children:S},f.value),[f.disabled,f.value,S]),{onNativeOptionAdd:b,onNativeOptionRemove:k}=p;return hn(()=>(b(I),()=>k(I)),[b,k,I]),T.jsxs(T.Fragment,{children:[T.jsx(lt.span,{id:f.textId,...o,ref:w}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Fc.createPortal(o.children,l.valueNode):null]})});vC.displayName=Qu;var yC="SelectItemIndicator",_C=x.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return mC(yC,t).isSelected?T.jsx(lt.span,{"aria-hidden":!0,...r,ref:e}):null});_C.displayName=yC;var zv="SelectScrollUpButton",wC=x.forwardRef((n,e)=>{const t=ro(zv,n.__scopeSelect),r=__(zv,n.__scopeSelect),[i,o]=x.useState(!1),l=ht(e,r.onScrollButtonChange);return hn(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=f.scrollTop>0;o(p)};const f=t.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?T.jsx(xC,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=t;c&&f&&(c.scrollTop=c.scrollTop-f.offsetHeight)}}):null});wC.displayName=zv;var $v="SelectScrollDownButton",EC=x.forwardRef((n,e)=>{const t=ro($v,n.__scopeSelect),r=__($v,n.__scopeSelect),[i,o]=x.useState(!1),l=ht(e,r.onScrollButtonChange);return hn(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<p;o(m)};const f=t.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?T.jsx(xC,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=t;c&&f&&(c.scrollTop=c.scrollTop+f.offsetHeight)}}):null});EC.displayName=$v;var xC=x.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,o=ro("SelectScrollButton",t),l=x.useRef(null),c=bp(t),f=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>f(),[f]),hn(()=>{var m;const p=c().find(_=>_.ref.current===document.activeElement);(m=p==null?void 0:p.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),T.jsx(lt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:st(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:st(i.onPointerMove,()=>{var p;(p=o.onItemLeave)==null||p.call(o),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:st(i.onPointerLeave,()=>{f()})})}),g5="SelectSeparator",v5=x.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return T.jsx(lt.div,{"aria-hidden":!0,...r,ref:e})});v5.displayName=g5;var Bv="SelectArrow",y5=x.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Ip(t),o=no(Bv,t),l=ro(Bv,t);return o.open&&l.position==="popper"?T.jsx(XI,{...i,...r,ref:e}):null});y5.displayName=Bv;var _5="SelectBubbleInput",TC=x.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=x.useRef(null),o=ht(r,i),l=JI(e);return x.useEffect(()=>{const c=i.current;if(!c)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&m){const _=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(_)}},[l,e]),T.jsx(lt.select,{...t,style:{...eC,...t.style},ref:o,defaultValue:e})});TC.displayName=_5;function SC(n){return n===""||n===void 0}function bC(n){const e=Wo(n),t=x.useRef(""),r=x.useRef(0),i=x.useCallback(l=>{const c=t.current+l;e(c),function f(p){t.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(c)},[e]),o=x.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,o]}function IC(n,e,t){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let l=w5(n,Math.max(o,0));i.length===1&&(l=l.filter(p=>p!==t));const f=l.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==t?f:void 0}function w5(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var E5=tC,x5=rC,T5=sC,S5=oC,b5=aC,I5=lC,C5=fC,k5=gC,A5=vC,R5=_C,P5=wC,N5=EC;/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),lT=n=>{const e=O5(n);return e.charAt(0).toUpperCase()+e.slice(1)},CC=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),M5=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=x.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},f)=>x.createElement("svg",{ref:f,...L5,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:CC("lucide",i),...!o&&!M5(c)&&{"aria-hidden":"true"},...c},[...l.map(([p,m])=>x.createElement(p,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=(n,e)=>{const t=x.forwardRef(({className:r,...i},o)=>x.createElement(V5,{ref:o,iconNode:e,className:CC(`lucide-${D5(lT(n))}`,`lucide-${n}`,r),...i}));return t.displayName=lT(n),t};/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],F5=io("calendar",j5);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kC=io("check",U5);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],AC=io("chevron-down",z5);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],B5=io("chevron-left",$5);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],H5=io("chevron-right",W5);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],G5=io("chevron-up",q5);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Y5=io("loader-circle",K5);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Z5=io("x",Q5);function X5({...n}){return T.jsx(E5,{"data-slot":"select",...n})}function J5({...n}){return T.jsx(T5,{"data-slot":"select-value",...n})}function e6({className:n,size:e="default",children:t,...r}){return T.jsxs(x5,{"data-slot":"select-trigger","data-size":e,className:ut("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,T.jsx(S5,{asChild:!0,children:T.jsx(AC,{className:"size-4 opacity-50"})})]})}function t6({className:n,children:e,position:t="popper",...r}){return T.jsx(b5,{children:T.jsxs(I5,{"data-slot":"select-content",className:ut("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[T.jsx(n6,{}),T.jsx(C5,{className:ut("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),T.jsx(r6,{})]})})}function Dg({className:n,children:e,...t}){return T.jsxs(k5,{"data-slot":"select-item",className:ut("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[T.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:T.jsx(R5,{children:T.jsx(kC,{className:"size-4"})})}),T.jsx(A5,{children:e})]})}function n6({className:n,...e}){return T.jsx(P5,{"data-slot":"select-scroll-up-button",className:ut("flex cursor-default items-center justify-center py-1",n),...e,children:T.jsx(G5,{className:"size-4"})})}function r6({className:n,...e}){return T.jsx(N5,{"data-slot":"select-scroll-down-button",className:ut("flex cursor-default items-center justify-center py-1",n),...e,children:T.jsx(AC,{className:"size-4"})})}function i6(){const[n,e]=x.useState(""),[t,r]=x.useState(new Date),{AddTodo:i,handleSelect:o}=_p(),l=n.trim()!=="",c=()=>{const _=t.toISOString();i(n,_),e("")},f=_=>{e(_.target.value)},p=_=>{_.key==="Enter"&&l&&c()},m=()=>{c()};return T.jsxs("div",{className:"p-4 sm:px-6 flex flex-col gap-4 items-start justify-center sm:justify-between",children:[T.jsxs("div",{className:"flex gap-2 w-full",children:[T.jsx(zi,{placeholder:"新增待辦事項",type:"text",value:n,onChange:f,onKeyDown:p,className:"max-w-[325px] focus-visible:ring-ring/0"}),T.jsx("div",{className:"flex items-center rounded-md hover:bg-gray-200",children:T.jsx(Ck,{id:null,date:t,setDate:r})})]}),T.jsxs("div",{className:"flex flex-wrap justify-between w-full sm:justify-between",children:[T.jsx(zo,{onClick:m,className:"cursor-pointer bg-cyan-500 hover:bg-cyan-400 text-white font-bold rounded-md",disabled:!l,children:"加入清單"}),T.jsxs(X5,{onValueChange:_=>o(_),children:[T.jsx(e6,{className:"w-[110px] focus-visible:ring-ring/0",children:T.jsx(J5,{placeholder:"選擇分類"})}),T.jsxs(t6,{children:[T.jsx(Dg,{value:"all",children:"全部"}),T.jsx(Dg,{value:"not_done",children:"未完成"}),T.jsx(Dg,{value:"is_done",children:"已完成"})]})]})]})]})}var Cp="Checkbox",[s6,u$]=sa(Cp),[o6,w_]=s6(Cp);function a6(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:i,disabled:o,form:l,name:c,onCheckedChange:f,required:p,value:m="on",internal_do_not_use_render:_}=n,[w,S]=oc({prop:t,defaultProp:i??!1,onChange:f,caller:Cp}),[I,b]=x.useState(null),[k,P]=x.useState(null),M=x.useRef(!1),L=I?!!l||!!I.closest("form"):!0,H={checked:w,disabled:o,setChecked:S,control:I,setControl:b,name:c,form:l,value:m,hasConsumerStoppedPropagationRef:M,required:p,defaultChecked:js(i)?!1:i,isFormControl:L,bubbleInput:k,setBubbleInput:P};return T.jsx(o6,{scope:e,...H,children:l6(_)?_(H):r})}var RC="CheckboxTrigger",PC=x.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},i)=>{const{control:o,value:l,disabled:c,checked:f,required:p,setControl:m,setChecked:_,hasConsumerStoppedPropagationRef:w,isFormControl:S,bubbleInput:I}=w_(RC,n),b=ht(i,m),k=x.useRef(f);return x.useEffect(()=>{const P=o==null?void 0:o.form;if(P){const M=()=>_(k.current);return P.addEventListener("reset",M),()=>P.removeEventListener("reset",M)}},[o,_]),T.jsx(lt.button,{type:"button",role:"checkbox","aria-checked":js(f)?"mixed":f,"aria-required":p,"data-state":VC(f),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:b,onKeyDown:st(e,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:st(t,P=>{_(M=>js(M)?!0:!M),I&&S&&(w.current=P.isPropagationStopped(),w.current||P.stopPropagation())})})});PC.displayName=RC;var NC=x.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:o,required:l,disabled:c,value:f,onCheckedChange:p,form:m,..._}=n;return T.jsx(a6,{__scopeCheckbox:t,checked:i,defaultChecked:o,disabled:c,required:l,onCheckedChange:p,name:r,form:m,value:f,internal_do_not_use_render:({isFormControl:w})=>T.jsxs(T.Fragment,{children:[T.jsx(PC,{..._,ref:e,__scopeCheckbox:t}),w&&T.jsx(LC,{__scopeCheckbox:t})]})})});NC.displayName=Cp;var DC="CheckboxIndicator",OC=x.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=n,o=w_(DC,t);return T.jsx(oa,{present:r||js(o.checked)||o.checked===!0,children:T.jsx(lt.span,{"data-state":VC(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...n.style}})})});OC.displayName=DC;var MC="CheckboxBubbleInput",LC=x.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:l,required:c,disabled:f,name:p,value:m,form:_,bubbleInput:w,setBubbleInput:S}=w_(MC,n),I=ht(t,S),b=JI(o),k=UI(r);x.useEffect(()=>{const M=w;if(!M)return;const L=window.HTMLInputElement.prototype,Z=Object.getOwnPropertyDescriptor(L,"checked").set,J=!i.current;if(b!==o&&Z){const D=new Event("click",{bubbles:J});M.indeterminate=js(o),Z.call(M,js(o)?!1:o),M.dispatchEvent(D)}},[w,b,o,i]);const P=x.useRef(js(o)?!1:o);return T.jsx(lt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??P.current,required:c,disabled:f,name:p,value:m,form:_,...e,tabIndex:-1,ref:I,style:{...e.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});LC.displayName=MC;function l6(n){return typeof n=="function"}function js(n){return n==="indeterminate"}function VC(n){return js(n)?"indeterminate":n?"checked":"unchecked"}function u6({className:n,...e}){return T.jsx(NC,{"data-slot":"checkbox",className:ut("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:T.jsx(OC,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:T.jsx(kC,{className:"size-3.5"})})})}var Og,uT;function jC(){if(uT)return Og;uT=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Og=n,Og}var Mg,cT;function c6(){if(cT)return Mg;cT=1;var n=typeof Tf=="object"&&Tf&&Tf.Object===Object&&Tf;return Mg=n,Mg}var Lg,dT;function FC(){if(dT)return Lg;dT=1;var n=c6(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return Lg=t,Lg}var Vg,fT;function d6(){if(fT)return Vg;fT=1;var n=FC(),e=function(){return n.Date.now()};return Vg=e,Vg}var jg,hT;function f6(){if(hT)return jg;hT=1;var n=/\s/;function e(t){for(var r=t.length;r--&&n.test(t.charAt(r)););return r}return jg=e,jg}var Fg,pT;function h6(){if(pT)return Fg;pT=1;var n=f6(),e=/^\s+/;function t(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return Fg=t,Fg}var Ug,mT;function UC(){if(mT)return Ug;mT=1;var n=FC(),e=n.Symbol;return Ug=e,Ug}var zg,gT;function p6(){if(gT)return zg;gT=1;var n=UC(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,i=n?n.toStringTag:void 0;function o(l){var c=t.call(l,i),f=l[i];try{l[i]=void 0;var p=!0}catch{}var m=r.call(l);return p&&(c?l[i]=f:delete l[i]),m}return zg=o,zg}var $g,vT;function m6(){if(vT)return $g;vT=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return $g=t,$g}var Bg,yT;function g6(){if(yT)return Bg;yT=1;var n=UC(),e=p6(),t=m6(),r="[object Null]",i="[object Undefined]",o=n?n.toStringTag:void 0;function l(c){return c==null?c===void 0?i:r:o&&o in Object(c)?e(c):t(c)}return Bg=l,Bg}var Wg,_T;function v6(){if(_T)return Wg;_T=1;function n(e){return e!=null&&typeof e=="object"}return Wg=n,Wg}var Hg,wT;function y6(){if(wT)return Hg;wT=1;var n=g6(),e=v6(),t="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&n(i)==t}return Hg=r,Hg}var qg,ET;function _6(){if(ET)return qg;ET=1;var n=h6(),e=jC(),t=y6(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function f(p){if(typeof p=="number")return p;if(t(p))return r;if(e(p)){var m=typeof p.valueOf=="function"?p.valueOf():p;p=e(m)?m+"":m}if(typeof p!="string")return p===0?p:+p;p=n(p);var _=o.test(p);return _||l.test(p)?c(p.slice(2),_?2:8):i.test(p)?r:+p}return qg=f,qg}var Gg,xT;function w6(){if(xT)return Gg;xT=1;var n=jC(),e=d6(),t=_6(),r="Expected a function",i=Math.max,o=Math.min;function l(c,f,p){var m,_,w,S,I,b,k=0,P=!1,M=!1,L=!0;if(typeof c!="function")throw new TypeError(r);f=t(f)||0,n(p)&&(P=!!p.leading,M="maxWait"in p,w=M?i(t(p.maxWait)||0,f):w,L="trailing"in p?!!p.trailing:L);function H(N){var Te=m,Ae=_;return m=_=void 0,k=N,S=c.apply(Ae,Te),S}function Z(N){return k=N,I=setTimeout(A,f),P?H(N):S}function J(N){var Te=N-b,Ae=N-k,_e=f-Te;return M?o(_e,w-Ae):_e}function D(N){var Te=N-b,Ae=N-k;return b===void 0||Te>=f||Te<0||M&&Ae>=w}function A(){var N=e();if(D(N))return O(N);I=setTimeout(A,J(N))}function O(N){return I=void 0,L&&m?H(N):(m=_=void 0,S)}function j(){I!==void 0&&clearTimeout(I),k=0,m=b=_=I=void 0}function U(){return I===void 0?S:O(e())}function $(){var N=e(),Te=D(N);if(m=arguments,_=this,b=N,Te){if(I===void 0)return Z(b);if(M)return clearTimeout(I),I=setTimeout(A,f),H(b)}return I===void 0&&(I=setTimeout(A,f)),S}return $.cancel=j,$.flush=U,$}return Gg=l,Gg}var E6=w6();const TT=Qv(E6);function x6({id:n,title:e,expireDate:t,isDone:r}){const{ToggleIsDone:i,EditTodoTitle:o,DeleteTodo:l}=_p(),[c,f]=x.useState(e),[p,m]=x.useState(new Date(t)),[_,w]=x.useState(r),[S,I]=x.useState(!1),b=x.useRef(TT(H=>{i(H)},1e3)).current,k=()=>{w(!_),b(n)},P=H=>{f(H.target.value)},M=()=>{l(n)},L=x.useRef(null);return x.useEffect(()=>{const H=J=>{L.current&&!L.current.contains(J.target)&&I(!1)},Z=J=>{var D;(J.key==="Escape"||J.key==="Enter")&&(I(!1),(D=L.current)==null||D.blur())};return document.addEventListener("mousedown",H),document.addEventListener("keydown",Z),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("keydown",Z)}},[]),x.useEffect(()=>{!S&&c!==e&&TT(()=>{o(n,c)},2e3)()},[S]),T.jsxs("div",{className:`
      flex items-center justify-between gap:4 sm:gap-6 rounded-md px-4 sm:px-3 py-2 group hover:bg-gray-200 
      `,children:[T.jsxs("div",{className:"flex grow items-center gap-3",children:[T.jsx(u6,{onCheckedChange:k,checked:_,className:`rounded-full border-gray-400 focus-visible:ring-ring/0
        data-[state=checked]:bg-amber-500 data-[state=checked]:border-amber-500 data-[state=checked]:text-white`}),T.jsx("input",{type:"text",ref:L,value:c,onChange:P,onClick:()=>I(!0),className:`w-full p-1 border-transparent shadow-none focus:outline-none focus:ring-0 focus:border-stone-400 
            ${S?"border-b":""}
            ${_?"line-through text-gray-400":""}`})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Ck,{id:n,date:p,setDate:m}),T.jsx("i",{onClick:M,className:"fa-solid fa-xmark text-zinc-400 hover:text-black cursor-pointer lg:opacity-0 lg:group-hover:opacity-100 lg:pb-0.5"})]})]})}function T6(){const{GetTodos:n,todos:e,selectedStatus:t}=_p();let r=[];switch(t){case"all":r=e;break;case"not_done":r=e.filter(i=>!i.isDone);break;case"is_done":r=e.filter(i=>i.isDone);break;default:r=e;break}return x.useEffect(()=>{Ub(Js,async i=>{i&&n()})},[e.length]),T.jsx("div",{className:"sm:px-4 max-h-[60vh] overflow-y-auto scrollbar-thin scrollbar-thumb-transparent scrollbar-track-transparent hover:scrollbar-thumb-stone-300",children:r==null?void 0:r.map(i=>{const{id:o,title:l,expireDate:c,isDone:f}=i;return T.jsx(x6,{id:o,title:l,expireDate:c,isDone:f},o)})})}function S6({...n}){return T.jsx(AS,{"data-slot":"dialog",...n})}function b6({...n}){return T.jsx(RS,{"data-slot":"dialog-trigger",...n})}function I6({...n}){return T.jsx(PS,{"data-slot":"dialog-portal",...n})}function C6({...n}){return T.jsx(Kh,{"data-slot":"dialog-close",...n})}function k6({className:n,...e}){return T.jsx(NS,{"data-slot":"dialog-overlay",className:ut("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function A6({className:n,children:e,...t}){return T.jsxs(I6,{"data-slot":"dialog-portal",children:[T.jsx(k6,{}),T.jsxs(DS,{"data-slot":"dialog-content",className:ut("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,T.jsxs(Kh,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[T.jsx(Z5,{}),T.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function R6({className:n,...e}){return T.jsx("div",{"data-slot":"dialog-header",className:ut("flex flex-col gap-2 text-center sm:text-left",n),...e})}function P6({className:n,...e}){return T.jsx("div",{"data-slot":"dialog-footer",className:ut("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function N6({className:n,...e}){return T.jsx(OS,{"data-slot":"dialog-title",className:ut("text-lg leading-none font-semibold",n),...e})}function D6({className:n,...e}){return T.jsx(MS,{"data-slot":"dialog-description",className:ut("text-muted-foreground text-sm",n),...e})}var rt;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const o={};for(const l of i)o[l]=l;return o},n.getValidEnumValues=i=>{const o=n.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),l={};for(const c of o)l[c]=i[c];return n.objectValues(l)},n.objectValues=i=>n.objectKeys(i).map(function(o){return i[o]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&o.push(l);return o},n.find=(i,o)=>{for(const l of i)if(o(l))return l},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}n.joinValues=r,n.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(rt||(rt={}));var Wv;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Wv||(Wv={}));const me=rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Oi=n=>{switch(typeof n){case"undefined":return me.undefined;case"string":return me.string;case"number":return isNaN(n)?me.nan:me.number;case"boolean":return me.boolean;case"function":return me.function;case"bigint":return me.bigint;case"symbol":return me.symbol;case"object":return Array.isArray(n)?me.array:n===null?me.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?me.promise:typeof Map<"u"&&n instanceof Map?me.map:typeof Set<"u"&&n instanceof Set?me.set:typeof Date<"u"&&n instanceof Date?me.date:me.object;default:return me.unknown}},le=rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),O6=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class qn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(t(l));else{let c=r,f=0;for(;f<l.path.length;){const p=l.path[f];f===l.path.length-1?(c[p]=c[p]||{_errors:[]},c[p]._errors.push(t(l))):c[p]=c[p]||{_errors:[]},c=c[p],f++}}};return i(this),r}static assert(e){if(!(e instanceof qn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}qn.create=n=>new qn(n);const kl=(n,e)=>{let t;switch(n.code){case le.invalid_type:n.received===me.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case le.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,rt.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:t=`Unrecognized key(s) in object: ${rt.joinValues(n.keys,", ")}`;break;case le.invalid_union:t="Invalid input";break;case le.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${rt.joinValues(n.options)}`;break;case le.invalid_enum_value:t=`Invalid enum value. Expected ${rt.joinValues(n.options)}, received '${n.received}'`;break;case le.invalid_arguments:t="Invalid function arguments";break;case le.invalid_return_type:t="Invalid function return type";break;case le.invalid_date:t="Invalid date";break;case le.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:rt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case le.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case le.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case le.custom:t="Invalid input";break;case le.invalid_intersection_types:t="Intersection results could not be merged";break;case le.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case le.not_finite:t="Number must be finite";break;default:t=e.defaultError,rt.assertNever(n)}return{message:t}};let zC=kl;function M6(n){zC=n}function Rh(){return zC}const Ph=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,o=[...t,...i.path||[]],l={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let c="";const f=r.filter(p=>!!p).slice().reverse();for(const p of f)c=p(l,{data:e,defaultError:c}).message;return{...i,path:o,message:c}},L6=[];function he(n,e){const t=Rh(),r=Ph({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===kl?void 0:kl].filter(i=>!!i)});n.common.issues.push(r)}class mn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return Ue;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const o=await i.key,l=await i.value;r.push({key:o,value:l})}return mn.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:o,value:l}=i;if(o.status==="aborted"||l.status==="aborted")return Ue;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[o.value]=l.value)}return{status:e.value,value:r}}}const Ue=Object.freeze({status:"aborted"}),cl=n=>({status:"dirty",value:n}),En=n=>({status:"valid",value:n}),Hv=n=>n.status==="aborted",qv=n=>n.status==="dirty",ta=n=>n.status==="valid",Ec=n=>typeof Promise<"u"&&n instanceof Promise;function Nh(n,e,t,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function $C(n,e,t,r,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var ke;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ke||(ke={}));var Zu,Xu;class oi{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ST=(n,e)=>{if(ta(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new qn(n.common.issues);return this._error=t,this._error}}};function qe(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,c)=>{var f,p;const{message:m}=n;return l.code==="invalid_enum_value"?{message:m??c.defaultError}:typeof c.data>"u"?{message:(f=m??r)!==null&&f!==void 0?f:c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:(p=m??t)!==null&&p!==void 0?p:c.defaultError}},description:i}}class Ke{get description(){return this._def.description}_getType(e){return Oi(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Oi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new mn,ctx:{common:e.parent.common,data:e.data,parsedType:Oi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Ec(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Oi(e)},o=this._parseSync({data:e,path:i.path,parent:i});return ST(i,o)}"~validate"(e){var t,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Oi(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:i});return ta(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((r=(t=o==null?void 0:o.message)===null||t===void 0?void 0:t.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(o=>ta(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Oi(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(Ec(i)?i:Promise.resolve(i));return ST(r,o)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,o)=>{const l=e(i),c=()=>o.addIssue({code:le.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(f=>f?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new Mr({schema:this,typeName:Ve.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return ri.create(this,this._def)}nullable(){return Zs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Rr.create(this)}promise(){return Rl.create(this,this._def)}or(e){return bc.create([this,e],this._def)}and(e){return Ic.create(this,e,this._def)}transform(e){return new Mr({...qe(this._def),schema:this,typeName:Ve.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Pc({...qe(this._def),innerType:this,defaultValue:t,typeName:Ve.ZodDefault})}brand(){return new E_({typeName:Ve.ZodBranded,type:this,...qe(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Nc({...qe(this._def),innerType:this,catchValue:t,typeName:Ve.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return nd.create(this,e)}readonly(){return Dc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const V6=/^c[^\s-]{8,}$/i,j6=/^[0-9a-z]+$/,F6=/^[0-9A-HJKMNP-TV-Z]{26}$/i,U6=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,z6=/^[a-z0-9_-]{21}$/i,$6=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,B6=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,W6=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,H6="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Kg;const q6=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,G6=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,K6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Y6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Q6=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Z6=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,BC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",X6=new RegExp(`^${BC}$`);function WC(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function J6(n){return new RegExp(`^${WC(n)}$`)}function HC(n){let e=`${BC}T${WC(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function e9(n,e){return!!((e==="v4"||!e)&&q6.test(n)||(e==="v6"||!e)&&K6.test(n))}function t9(n,e){if(!$6.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function n9(n,e){return!!((e==="v4"||!e)&&G6.test(n)||(e==="v6"||!e)&&Y6.test(n))}class Cr extends Ke{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==me.string){const o=this._getOrReturnCtx(e);return he(o,{code:le.invalid_type,expected:me.string,received:o.parsedType}),Ue}const r=new mn;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,c=e.data.length<o.value;(l||c)&&(i=this._getOrReturnCtx(e,i),l?he(i,{code:le.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&he(i,{code:le.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")W6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"email",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Kg||(Kg=new RegExp(H6,"u")),Kg.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"emoji",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")U6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"uuid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")z6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"nanoid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")V6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"cuid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")j6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"cuid2",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")F6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"ulid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),he(i,{validation:"url",code:le.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"regex",code:le.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?HC(o).test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?X6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?J6(o).test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?B6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"duration",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?e9(e.data,o.version)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"ip",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?t9(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"jwt",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?n9(e.data,o.version)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"cidr",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Q6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"base64",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?Z6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"base64url",code:le.invalid_string,message:o.message}),r.dirty()):rt.assertNever(o);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:le.invalid_string,...ke.errToObj(r)})}_addCheck(e){return new Cr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ke.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ke.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ke.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ke.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ke.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ke.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ke.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ke.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ke.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ke.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ke.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ke.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ke.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ke.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ke.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ke.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ke.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...ke.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ke.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ke.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ke.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ke.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ke.errToObj(t)})}nonempty(e){return this.min(1,ke.errToObj(e))}trim(){return new Cr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Cr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Cr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Cr.create=n=>{var e;return new Cr({checks:[],typeName:Ve.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...qe(n)})};function r9(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,o=parseInt(n.toFixed(i).replace(".","")),l=parseInt(e.toFixed(i).replace(".",""));return o%l/Math.pow(10,i)}class Ks extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==me.number){const o=this._getOrReturnCtx(e);return he(o,{code:le.invalid_type,expected:me.number,received:o.parsedType}),Ue}let r;const i=new mn;for(const o of this._def.checks)o.kind==="int"?rt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:le.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?r9(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:le.not_finite,message:o.message}),i.dirty()):rt.assertNever(o);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ke.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ke.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ke.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ke.toString(t))}setLimit(e,t,r,i){return new Ks({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ke.toString(i)}]})}_addCheck(e){return new Ks({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ke.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ke.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ke.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ke.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ke.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&rt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ks.create=n=>new Ks({checks:[],typeName:Ve.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...qe(n)});class Ys extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==me.bigint)return this._getInvalidInput(e);let r;const i=new mn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):rt.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return he(t,{code:le.invalid_type,expected:me.bigint,received:t.parsedType}),Ue}gte(e,t){return this.setLimit("min",e,!0,ke.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ke.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ke.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ke.toString(t))}setLimit(e,t,r,i){return new Ys({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ke.toString(i)}]})}_addCheck(e){return new Ys({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ys.create=n=>{var e;return new Ys({checks:[],typeName:Ve.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...qe(n)})};class xc extends Ke{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==me.boolean){const r=this._getOrReturnCtx(e);return he(r,{code:le.invalid_type,expected:me.boolean,received:r.parsedType}),Ue}return En(e.data)}}xc.create=n=>new xc({typeName:Ve.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...qe(n)});class na extends Ke{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==me.date){const o=this._getOrReturnCtx(e);return he(o,{code:le.invalid_type,expected:me.date,received:o.parsedType}),Ue}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return he(o,{code:le.invalid_date}),Ue}const r=new mn;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):rt.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new na({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ke.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ke.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}na.create=n=>new na({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Ve.ZodDate,...qe(n)});class Dh extends Ke{_parse(e){if(this._getType(e)!==me.symbol){const r=this._getOrReturnCtx(e);return he(r,{code:le.invalid_type,expected:me.symbol,received:r.parsedType}),Ue}return En(e.data)}}Dh.create=n=>new Dh({typeName:Ve.ZodSymbol,...qe(n)});class Tc extends Ke{_parse(e){if(this._getType(e)!==me.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:le.invalid_type,expected:me.undefined,received:r.parsedType}),Ue}return En(e.data)}}Tc.create=n=>new Tc({typeName:Ve.ZodUndefined,...qe(n)});class Sc extends Ke{_parse(e){if(this._getType(e)!==me.null){const r=this._getOrReturnCtx(e);return he(r,{code:le.invalid_type,expected:me.null,received:r.parsedType}),Ue}return En(e.data)}}Sc.create=n=>new Sc({typeName:Ve.ZodNull,...qe(n)});class Al extends Ke{constructor(){super(...arguments),this._any=!0}_parse(e){return En(e.data)}}Al.create=n=>new Al({typeName:Ve.ZodAny,...qe(n)});class $o extends Ke{constructor(){super(...arguments),this._unknown=!0}_parse(e){return En(e.data)}}$o.create=n=>new $o({typeName:Ve.ZodUnknown,...qe(n)});class Qi extends Ke{_parse(e){const t=this._getOrReturnCtx(e);return he(t,{code:le.invalid_type,expected:me.never,received:t.parsedType}),Ue}}Qi.create=n=>new Qi({typeName:Ve.ZodNever,...qe(n)});class Oh extends Ke{_parse(e){if(this._getType(e)!==me.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:le.invalid_type,expected:me.void,received:r.parsedType}),Ue}return En(e.data)}}Oh.create=n=>new Oh({typeName:Ve.ZodVoid,...qe(n)});class Rr extends Ke{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==me.array)return he(t,{code:le.invalid_type,expected:me.array,received:t.parsedType}),Ue;if(i.exactLength!==null){const l=t.data.length>i.exactLength.value,c=t.data.length<i.exactLength.value;(l||c)&&(he(t,{code:l?le.too_big:le.too_small,minimum:c?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(he(t,{code:le.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(he(t,{code:le.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((l,c)=>i.type._parseAsync(new oi(t,l,t.path,c)))).then(l=>mn.mergeArray(r,l));const o=[...t.data].map((l,c)=>i.type._parseSync(new oi(t,l,t.path,c)));return mn.mergeArray(r,o)}get element(){return this._def.type}min(e,t){return new Rr({...this._def,minLength:{value:e,message:ke.toString(t)}})}max(e,t){return new Rr({...this._def,maxLength:{value:e,message:ke.toString(t)}})}length(e,t){return new Rr({...this._def,exactLength:{value:e,message:ke.toString(t)}})}nonempty(e){return this.min(1,e)}}Rr.create=(n,e)=>new Rr({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Ve.ZodArray,...qe(e)});function ul(n){if(n instanceof bt){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=ri.create(ul(r))}return new bt({...n._def,shape:()=>e})}else return n instanceof Rr?new Rr({...n._def,type:ul(n.element)}):n instanceof ri?ri.create(ul(n.unwrap())):n instanceof Zs?Zs.create(ul(n.unwrap())):n instanceof ai?ai.create(n.items.map(e=>ul(e))):n}class bt extends Ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=rt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==me.object){const p=this._getOrReturnCtx(e);return he(p,{code:le.invalid_type,expected:me.object,received:p.parsedType}),Ue}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof Qi&&this._def.unknownKeys==="strip"))for(const p in i.data)l.includes(p)||c.push(p);const f=[];for(const p of l){const m=o[p],_=i.data[p];f.push({key:{status:"valid",value:p},value:m._parse(new oi(i,_,i.path,p)),alwaysSet:p in i.data})}if(this._def.catchall instanceof Qi){const p=this._def.unknownKeys;if(p==="passthrough")for(const m of c)f.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(p==="strict")c.length>0&&(he(i,{code:le.unrecognized_keys,keys:c}),r.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const m of c){const _=i.data[m];f.push({key:{status:"valid",value:m},value:p._parse(new oi(i,_,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const p=[];for(const m of f){const _=await m.key,w=await m.value;p.push({key:_,value:w,alwaysSet:m.alwaysSet})}return p}).then(p=>mn.mergeObjectSync(r,p)):mn.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return ke.errToObj,new bt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,o,l,c;const f=(l=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,t,r).message)!==null&&l!==void 0?l:r.defaultError;return t.code==="unrecognized_keys"?{message:(c=ke.errToObj(e).message)!==null&&c!==void 0?c:f}:{message:f}}}:{}})}strip(){return new bt({...this._def,unknownKeys:"strip"})}passthrough(){return new bt({...this._def,unknownKeys:"passthrough"})}extend(e){return new bt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new bt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ve.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new bt({...this._def,catchall:e})}pick(e){const t={};return rt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new bt({...this._def,shape:()=>t})}omit(e){const t={};return rt.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new bt({...this._def,shape:()=>t})}deepPartial(){return ul(this)}partial(e){const t={};return rt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new bt({...this._def,shape:()=>t})}required(e){const t={};return rt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof ri;)o=o._def.innerType;t[r]=o}}),new bt({...this._def,shape:()=>t})}keyof(){return qC(rt.objectKeys(this.shape))}}bt.create=(n,e)=>new bt({shape:()=>n,unknownKeys:"strip",catchall:Qi.create(),typeName:Ve.ZodObject,...qe(e)});bt.strictCreate=(n,e)=>new bt({shape:()=>n,unknownKeys:"strict",catchall:Qi.create(),typeName:Ve.ZodObject,...qe(e)});bt.lazycreate=(n,e)=>new bt({shape:n,unknownKeys:"strip",catchall:Qi.create(),typeName:Ve.ZodObject,...qe(e)});class bc extends Ke{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;const l=o.map(c=>new qn(c.ctx.common.issues));return he(t,{code:le.invalid_union,unionErrors:l}),Ue}if(t.common.async)return Promise.all(r.map(async o=>{const l={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:l}),ctx:l}})).then(i);{let o;const l=[];for(const f of r){const p={...t,common:{...t.common,issues:[]},parent:null},m=f._parseSync({data:t.data,path:t.path,parent:p});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:p}),p.common.issues.length&&l.push(p.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const c=l.map(f=>new qn(f));return he(t,{code:le.invalid_union,unionErrors:c}),Ue}}get options(){return this._def.options}}bc.create=(n,e)=>new bc({options:n,typeName:Ve.ZodUnion,...qe(e)});const Di=n=>n instanceof kc?Di(n.schema):n instanceof Mr?Di(n.innerType()):n instanceof Ac?[n.value]:n instanceof Qs?n.options:n instanceof Rc?rt.objectValues(n.enum):n instanceof Pc?Di(n._def.innerType):n instanceof Tc?[void 0]:n instanceof Sc?[null]:n instanceof ri?[void 0,...Di(n.unwrap())]:n instanceof Zs?[null,...Di(n.unwrap())]:n instanceof E_||n instanceof Dc?Di(n.unwrap()):n instanceof Nc?Di(n._def.innerType):[];class kp extends Ke{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==me.object)return he(t,{code:le.invalid_type,expected:me.object,received:t.parsedType}),Ue;const r=this.discriminator,i=t.data[r],o=this.optionsMap.get(i);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(he(t,{code:le.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const o of t){const l=Di(o.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of l){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,o)}}return new kp({typeName:Ve.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...qe(r)})}}function Gv(n,e){const t=Oi(n),r=Oi(e);if(n===e)return{valid:!0,data:n};if(t===me.object&&r===me.object){const i=rt.objectKeys(e),o=rt.objectKeys(n).filter(c=>i.indexOf(c)!==-1),l={...n,...e};for(const c of o){const f=Gv(n[c],e[c]);if(!f.valid)return{valid:!1};l[c]=f.data}return{valid:!0,data:l}}else if(t===me.array&&r===me.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<n.length;o++){const l=n[o],c=e[o],f=Gv(l,c);if(!f.valid)return{valid:!1};i.push(f.data)}return{valid:!0,data:i}}else return t===me.date&&r===me.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Ic extends Ke{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(o,l)=>{if(Hv(o)||Hv(l))return Ue;const c=Gv(o.value,l.value);return c.valid?((qv(o)||qv(l))&&t.dirty(),{status:t.value,value:c.data}):(he(r,{code:le.invalid_intersection_types}),Ue)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,l])=>i(o,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ic.create=(n,e,t)=>new Ic({left:n,right:e,typeName:Ve.ZodIntersection,...qe(t)});class ai extends Ke{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.array)return he(r,{code:le.invalid_type,expected:me.array,received:r.parsedType}),Ue;if(r.data.length<this._def.items.length)return he(r,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&r.data.length>this._def.items.length&&(he(r,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...r.data].map((l,c)=>{const f=this._def.items[c]||this._def.rest;return f?f._parse(new oi(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(o).then(l=>mn.mergeArray(t,l)):mn.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new ai({...this._def,rest:e})}}ai.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ai({items:n,typeName:Ve.ZodTuple,rest:null,...qe(e)})};class Cc extends Ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.object)return he(r,{code:le.invalid_type,expected:me.object,received:r.parsedType}),Ue;const i=[],o=this._def.keyType,l=this._def.valueType;for(const c in r.data)i.push({key:o._parse(new oi(r,c,r.path,c)),value:l._parse(new oi(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?mn.mergeObjectAsync(t,i):mn.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof Ke?new Cc({keyType:e,valueType:t,typeName:Ve.ZodRecord,...qe(r)}):new Cc({keyType:Cr.create(),valueType:e,typeName:Ve.ZodRecord,...qe(t)})}}class Mh extends Ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.map)return he(r,{code:le.invalid_type,expected:me.map,received:r.parsedType}),Ue;const i=this._def.keyType,o=this._def.valueType,l=[...r.data.entries()].map(([c,f],p)=>({key:i._parse(new oi(r,c,r.path,[p,"key"])),value:o._parse(new oi(r,f,r.path,[p,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const f of l){const p=await f.key,m=await f.value;if(p.status==="aborted"||m.status==="aborted")return Ue;(p.status==="dirty"||m.status==="dirty")&&t.dirty(),c.set(p.value,m.value)}return{status:t.value,value:c}})}else{const c=new Map;for(const f of l){const p=f.key,m=f.value;if(p.status==="aborted"||m.status==="aborted")return Ue;(p.status==="dirty"||m.status==="dirty")&&t.dirty(),c.set(p.value,m.value)}return{status:t.value,value:c}}}}Mh.create=(n,e,t)=>new Mh({valueType:e,keyType:n,typeName:Ve.ZodMap,...qe(t)});class ra extends Ke{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.set)return he(r,{code:le.invalid_type,expected:me.set,received:r.parsedType}),Ue;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(he(r,{code:le.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(he(r,{code:le.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const o=this._def.valueType;function l(f){const p=new Set;for(const m of f){if(m.status==="aborted")return Ue;m.status==="dirty"&&t.dirty(),p.add(m.value)}return{status:t.value,value:p}}const c=[...r.data.values()].map((f,p)=>o._parse(new oi(r,f,r.path,p)));return r.common.async?Promise.all(c).then(f=>l(f)):l(c)}min(e,t){return new ra({...this._def,minSize:{value:e,message:ke.toString(t)}})}max(e,t){return new ra({...this._def,maxSize:{value:e,message:ke.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ra.create=(n,e)=>new ra({valueType:n,minSize:null,maxSize:null,typeName:Ve.ZodSet,...qe(e)});class yl extends Ke{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==me.function)return he(t,{code:le.invalid_type,expected:me.function,received:t.parsedType}),Ue;function r(c,f){return Ph({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Rh(),kl].filter(p=>!!p),issueData:{code:le.invalid_arguments,argumentsError:f}})}function i(c,f){return Ph({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Rh(),kl].filter(p=>!!p),issueData:{code:le.invalid_return_type,returnTypeError:f}})}const o={errorMap:t.common.contextualErrorMap},l=t.data;if(this._def.returns instanceof Rl){const c=this;return En(async function(...f){const p=new qn([]),m=await c._def.args.parseAsync(f,o).catch(S=>{throw p.addIssue(r(f,S)),p}),_=await Reflect.apply(l,this,m);return await c._def.returns._def.type.parseAsync(_,o).catch(S=>{throw p.addIssue(i(_,S)),p})})}else{const c=this;return En(function(...f){const p=c._def.args.safeParse(f,o);if(!p.success)throw new qn([r(f,p.error)]);const m=Reflect.apply(l,this,p.data),_=c._def.returns.safeParse(m,o);if(!_.success)throw new qn([i(m,_.error)]);return _.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new yl({...this._def,args:ai.create(e).rest($o.create())})}returns(e){return new yl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new yl({args:e||ai.create([]).rest($o.create()),returns:t||$o.create(),typeName:Ve.ZodFunction,...qe(r)})}}class kc extends Ke{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}kc.create=(n,e)=>new kc({getter:n,typeName:Ve.ZodLazy,...qe(e)});class Ac extends Ke{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return he(t,{received:t.data,code:le.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ac.create=(n,e)=>new Ac({value:n,typeName:Ve.ZodLiteral,...qe(e)});function qC(n,e){return new Qs({values:n,typeName:Ve.ZodEnum,...qe(e)})}class Qs extends Ke{constructor(){super(...arguments),Zu.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return he(t,{expected:rt.joinValues(r),received:t.parsedType,code:le.invalid_type}),Ue}if(Nh(this,Zu)||$C(this,Zu,new Set(this._def.values)),!Nh(this,Zu).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return he(t,{received:t.data,code:le.invalid_enum_value,options:r}),Ue}return En(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Qs.create(e,{...this._def,...t})}exclude(e,t=this._def){return Qs.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Zu=new WeakMap;Qs.create=qC;class Rc extends Ke{constructor(){super(...arguments),Xu.set(this,void 0)}_parse(e){const t=rt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==me.string&&r.parsedType!==me.number){const i=rt.objectValues(t);return he(r,{expected:rt.joinValues(i),received:r.parsedType,code:le.invalid_type}),Ue}if(Nh(this,Xu)||$C(this,Xu,new Set(rt.getValidEnumValues(this._def.values))),!Nh(this,Xu).has(e.data)){const i=rt.objectValues(t);return he(r,{received:r.data,code:le.invalid_enum_value,options:i}),Ue}return En(e.data)}get enum(){return this._def.values}}Xu=new WeakMap;Rc.create=(n,e)=>new Rc({values:n,typeName:Ve.ZodNativeEnum,...qe(e)});class Rl extends Ke{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==me.promise&&t.common.async===!1)return he(t,{code:le.invalid_type,expected:me.promise,received:t.parsedType}),Ue;const r=t.parsedType===me.promise?t.data:Promise.resolve(t.data);return En(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Rl.create=(n,e)=>new Rl({type:n,typeName:Ve.ZodPromise,...qe(e)});class Mr extends Ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:l=>{he(r,l),l.fatal?t.abort():t.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const l=i.transform(r.data,o);if(r.common.async)return Promise.resolve(l).then(async c=>{if(t.value==="aborted")return Ue;const f=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return f.status==="aborted"?Ue:f.status==="dirty"||t.value==="dirty"?cl(f.value):f});{if(t.value==="aborted")return Ue;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ue:c.status==="dirty"||t.value==="dirty"?cl(c.value):c}}if(i.type==="refinement"){const l=c=>{const f=i.refinement(c,o);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Ue:(c.status==="dirty"&&t.dirty(),l(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Ue:(c.status==="dirty"&&t.dirty(),l(c.value).then(()=>({status:t.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ta(l))return l;const c=i.transform(l.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>ta(l)?Promise.resolve(i.transform(l.value,o)).then(c=>({status:t.value,value:c})):l);rt.assertNever(i)}}Mr.create=(n,e,t)=>new Mr({schema:n,typeName:Ve.ZodEffects,effect:e,...qe(t)});Mr.createWithPreprocess=(n,e,t)=>new Mr({schema:e,effect:{type:"preprocess",transform:n},typeName:Ve.ZodEffects,...qe(t)});class ri extends Ke{_parse(e){return this._getType(e)===me.undefined?En(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ri.create=(n,e)=>new ri({innerType:n,typeName:Ve.ZodOptional,...qe(e)});class Zs extends Ke{_parse(e){return this._getType(e)===me.null?En(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zs.create=(n,e)=>new Zs({innerType:n,typeName:Ve.ZodNullable,...qe(e)});class Pc extends Ke{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===me.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Pc.create=(n,e)=>new Pc({innerType:n,typeName:Ve.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...qe(e)});class Nc extends Ke{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ec(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new qn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Nc.create=(n,e)=>new Nc({innerType:n,typeName:Ve.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...qe(e)});class Lh extends Ke{_parse(e){if(this._getType(e)!==me.nan){const r=this._getOrReturnCtx(e);return he(r,{code:le.invalid_type,expected:me.nan,received:r.parsedType}),Ue}return{status:"valid",value:e.data}}}Lh.create=n=>new Lh({typeName:Ve.ZodNaN,...qe(n)});const i9=Symbol("zod_brand");class E_ extends Ke{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class nd extends Ke{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Ue:o.status==="dirty"?(t.dirty(),cl(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ue:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new nd({in:e,out:t,typeName:Ve.ZodPipeline})}}class Dc extends Ke{_parse(e){const t=this._def.innerType._parse(e),r=i=>(ta(i)&&(i.value=Object.freeze(i.value)),i);return Ec(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}Dc.create=(n,e)=>new Dc({innerType:n,typeName:Ve.ZodReadonly,...qe(e)});function bT(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function GC(n,e={},t){return n?Al.create().superRefine((r,i)=>{var o,l;const c=n(r);if(c instanceof Promise)return c.then(f=>{var p,m;if(!f){const _=bT(e,r),w=(m=(p=_.fatal)!==null&&p!==void 0?p:t)!==null&&m!==void 0?m:!0;i.addIssue({code:"custom",..._,fatal:w})}});if(!c){const f=bT(e,r),p=(l=(o=f.fatal)!==null&&o!==void 0?o:t)!==null&&l!==void 0?l:!0;i.addIssue({code:"custom",...f,fatal:p})}}):Al.create()}const s9={object:bt.lazycreate};var Ve;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Ve||(Ve={}));const o9=(n,e={message:`Input not instance of ${n.name}`})=>GC(t=>t instanceof n,e),KC=Cr.create,YC=Ks.create,a9=Lh.create,l9=Ys.create,QC=xc.create,u9=na.create,c9=Dh.create,d9=Tc.create,f9=Sc.create,h9=Al.create,p9=$o.create,m9=Qi.create,g9=Oh.create,v9=Rr.create,y9=bt.create,_9=bt.strictCreate,w9=bc.create,E9=kp.create,x9=Ic.create,T9=ai.create,S9=Cc.create,b9=Mh.create,I9=ra.create,C9=yl.create,k9=kc.create,A9=Ac.create,R9=Qs.create,P9=Rc.create,N9=Rl.create,IT=Mr.create,D9=ri.create,O9=Zs.create,M9=Mr.createWithPreprocess,L9=nd.create,V9=()=>KC().optional(),j9=()=>YC().optional(),F9=()=>QC().optional(),U9={string:n=>Cr.create({...n,coerce:!0}),number:n=>Ks.create({...n,coerce:!0}),boolean:n=>xc.create({...n,coerce:!0}),bigint:n=>Ys.create({...n,coerce:!0}),date:n=>na.create({...n,coerce:!0})},z9=Ue;var or=Object.freeze({__proto__:null,defaultErrorMap:kl,setErrorMap:M6,getErrorMap:Rh,makeIssue:Ph,EMPTY_PATH:L6,addIssueToContext:he,ParseStatus:mn,INVALID:Ue,DIRTY:cl,OK:En,isAborted:Hv,isDirty:qv,isValid:ta,isAsync:Ec,get util(){return rt},get objectUtil(){return Wv},ZodParsedType:me,getParsedType:Oi,ZodType:Ke,datetimeRegex:HC,ZodString:Cr,ZodNumber:Ks,ZodBigInt:Ys,ZodBoolean:xc,ZodDate:na,ZodSymbol:Dh,ZodUndefined:Tc,ZodNull:Sc,ZodAny:Al,ZodUnknown:$o,ZodNever:Qi,ZodVoid:Oh,ZodArray:Rr,ZodObject:bt,ZodUnion:bc,ZodDiscriminatedUnion:kp,ZodIntersection:Ic,ZodTuple:ai,ZodRecord:Cc,ZodMap:Mh,ZodSet:ra,ZodFunction:yl,ZodLazy:kc,ZodLiteral:Ac,ZodEnum:Qs,ZodNativeEnum:Rc,ZodPromise:Rl,ZodEffects:Mr,ZodTransformer:Mr,ZodOptional:ri,ZodNullable:Zs,ZodDefault:Pc,ZodCatch:Nc,ZodNaN:Lh,BRAND:i9,ZodBranded:E_,ZodPipeline:nd,ZodReadonly:Dc,custom:GC,Schema:Ke,ZodSchema:Ke,late:s9,get ZodFirstPartyTypeKind(){return Ve},coerce:U9,any:h9,array:v9,bigint:l9,boolean:QC,date:u9,discriminatedUnion:E9,effect:IT,enum:R9,function:C9,instanceof:o9,intersection:x9,lazy:k9,literal:A9,map:b9,nan:a9,nativeEnum:P9,never:m9,null:f9,nullable:O9,number:YC,object:y9,oboolean:F9,onumber:j9,optional:D9,ostring:V9,pipeline:L9,preprocess:M9,promise:N9,record:S9,set:I9,strictObject:_9,string:KC,symbol:c9,transformer:IT,tuple:T9,undefined:d9,union:w9,unknown:p9,void:g9,NEVER:z9,ZodIssueCode:le,quotelessJson:O6,ZodError:qn});const $9=or.object({email:or.string().email({message:"※請輸入有效的 Email"})}),ZC=x.forwardRef((n,e)=>T.jsx(C6,{asChild:!0,children:T.jsx("button",{ref:e,...n})}));ZC.displayName="CloseButton";function B9(){const[n,e]=x.useState(""),[t,r]=x.useState(),[i,o]=x.useState(null),l=x.useRef(null),c=async()=>{var p;const f=$9.safeParse({email:n});if(f.error){o(!1);const m=((p=f.error.issues.find(_=>_.path.includes("email")))==null?void 0:p.message)||null;r({error_email:m});return}else r({error_email:""}),await l4(n),o(!0),setTimeout(()=>{var m;(m=l.current)==null||m.click(),o(!1),e("")},2e3)};return T.jsxs(S6,{children:[T.jsx(b6,{className:"mx-auto text-green-700 cursor-pointer hover:underline",children:"忘記密碼?"}),T.jsxs(A6,{className:"top-[40%] gap-2",children:[T.jsxs(R6,{children:[T.jsx(N6,{className:"text-xl mb-2 pl-1",children:"重新設定密碼"}),T.jsxs(D6,{children:[T.jsx("div",{className:"text-base text-gray-900 bg-gray-100 rounded-md p-4",children:"忘記您的密碼？請輸入電子郵件。您將會在電子郵件信箱中收到重設密碼的連結。"}),T.jsx("div",{className:"my-3 pl-1 text-left text-gray-900 text-lg after:relative after:left-0.5 after:bottom-1.5 after:text-sm  after:text-red-500 after:content-['*']",children:"電子郵件"}),T.jsx(zi,{type:"email",value:n,onChange:f=>e(f.target.value),className:"w-[90%] focus-visible:ring-ring/0"}),i&&T.jsx("div",{className:"bg-gray-200 rounded-lg text-base text-gray-900 font-bold mt-3 p-6",children:"✅ 已送出重設密碼的電子郵件"}),T.jsx("div",{className:"text-base text-red-500 font-bold mt-3 pl-1",children:t==null?void 0:t.error_email})]})]}),T.jsxs(P6,{className:"sm:justify-start",children:[T.jsx(zo,{onClick:c,className:"rounded-sm py-4 h-10 flex items-center justify-center gap-3 cursor-pointer bg-gray-200 hover:bg-gray-300 overflow-hidden font-bold text-base text-stone-800",children:"重設密碼"}),T.jsx(ZC,{ref:l,className:"hidden"})]})]})]})}const W9="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100px'%20height='100px'%3e%3cpath%20fill='%2378a0cf'%20d='M13%2027A2%202%200%201%200%2013%2031A2%202%200%201%200%2013%2027Z'/%3e%3cpath%20fill='%23f1bc19'%20d='M77%2012A1%201%200%201%200%2077%2014A1%201%200%201%200%2077%2012Z'/%3e%3cpath%20fill='%23cee1f4'%20d='M50%2013A37%2037%200%201%200%2050%2087A37%2037%200%201%200%2050%2013Z'/%3e%3cpath%20fill='%23f1bc19'%20d='M83%2011A4%204%200%201%200%2083%2019A4%204%200%201%200%2083%2011Z'/%3e%3cpath%20fill='%2378a0cf'%20d='M87%2022A2%202%200%201%200%2087%2026A2%202%200%201%200%2087%2022Z'/%3e%3cpath%20fill='%23fbcd59'%20d='M81%2074A2%202%200%201%200%2081%2078%202%202%200%201%200%2081%2074zM15%2059A4%204%200%201%200%2015%2067%204%204%200%201%200%2015%2059z'/%3e%3cpath%20fill='%2378a0cf'%20d='M25%2085A2%202%200%201%200%2025%2089A2%202%200%201%200%2025%2085Z'/%3e%3cpath%20fill='%23fff'%20d='M18.5%2051A2.5%202.5%200%201%200%2018.5%2056A2.5%202.5%200%201%200%2018.5%2051Z'/%3e%3cpath%20fill='%23f1bc19'%20d='M21%2066A1%201%200%201%200%2021%2068A1%201%200%201%200%2021%2066Z'/%3e%3cpath%20fill='%23fff'%20d='M80%2033A1%201%200%201%200%2080%2035A1%201%200%201%200%2080%2033Z'/%3e%3cg%3e%3cpath%20fill='%23ea5167'%20d='M35.233,47.447C36.447,40.381,42.588,35,50,35c3.367,0,6.464,1.123,8.968,2.996l6.393-6.885%20C61.178,27.684,55.83,25.625,50,25.625c-11.942,0-21.861,8.635-23.871,20.001L35.233,47.447z'/%3e%3cpath%20fill='%2300a698'%20d='M58.905,62.068C56.414,63.909,53.335,65,50,65c-7.842,0-14.268-6.02-14.934-13.689l-8.909,2.97%20C28.23,65.569,38.113,74.125,50,74.125c6.261,0,11.968-2.374,16.27-6.27L58.905,62.068z'/%3e%3cpath%20fill='%2348bed8'%20d='M68.5,45.5h-4.189H50.5v9h13.811c-1.073,3.414-3.333,6.301-6.296,8.179l7.245,6.038%20c5.483-4.446,8.99-11.233,8.99-18.842c0-1.495-0.142-2.955-0.401-4.375H68.5z'/%3e%3cpath%20fill='%23fde751'%20d='M35,50c0-2.183,0.477-4.252,1.316-6.123l-7.818-5.212c-1.752,3.353-2.748,7.164-2.748,11.21%20c0,3.784,0.868,7.365,2.413,10.556L36,55C35.634,53.702,35,51.415,35,50z'/%3e%3c/g%3e%3cg%3e%3cpath%20fill='%23472b29'%20d='M50,74.825c-13.757,0-24.95-11.192-24.95-24.95S36.243,24.925,50,24.925%20c5.75,0,11.362,2.005,15.804,5.646l0.576,0.472l-7.327,7.892l-0.504-0.377C56.051,36.688,53.095,35.7,50,35.7%20c-7.885,0-14.3,6.415-14.3,14.3S42.115,64.3,50,64.3c5.956,0,11.195-3.618,13.324-9.1L50,55.208l-0.008-10.184l24.433-0.008%20l0.104,0.574c0.274,1.503,0.421,2.801,0.421,4.285C74.95,63.633,63.758,74.825,50,74.825z%20M50,26.325%20c-12.985,0-23.55,10.564-23.55,23.55S37.015,73.425,50,73.425s23.55-10.564,23.55-23.55c0-1.211-0.105-2.228-0.3-3.458H51.192%20L51.2,53.8h14.065l-0.286,0.91C62.914,61.283,56.894,65.7,50,65.7c-8.657,0-15.7-7.043-15.7-15.7S41.343,34.3,50,34.3%20c3.19,0,6.245,0.955,8.875,2.768l5.458-5.878C60.238,28.048,55.178,26.325,50,26.325z'/%3e%3c/g%3e%3c/svg%3e",H9=or.object({email:or.string().email({message:"※請輸入有效的 Email"}),password:or.string().min(8,{message:"※密碼至少 8 個字元"}).refine(n=>/[a-z]/.test(n)&&/[A-Z]/.test(n)&&/[0-9]/.test(n),{message:"※密碼需包含大小寫字母與數字"})});function q9(){const n=Vc(),[e,t]=x.useState(""),[r,i]=x.useState(""),[o,l]=x.useState(),[c,f]=x.useState("");x.useEffect(()=>{Ub(Js,async _=>{_?n("/"):console.log("尚未登入")})},[n]);const p=async()=>{var w,S;const _=H9.safeParse({email:e,password:r});if(_.error){const I=((w=_.error.issues.find(k=>k.path.includes("email")))==null?void 0:w.message)||null,b=((S=_.error.issues.find(k=>k.path.includes("password")))==null?void 0:S.message)||null;l({error_email:I,error_password:b});return}else await a4(e,r)||(l({error_email:"",error_password:""}),f("※登入失敗，請檢查帳號密碼是否正確"))},m=async _=>{await s4(_)};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"relative my-2 flex flex-col pl-4",children:[T.jsx("div",{className:"font-[Comic_Relief] font-bold text-2xl text-slate-800 text-left",children:"登入"}),T.jsx("div",{className:"pt-2 text-base font-bold text-red-500",children:c})]}),T.jsxs("div",{className:"flex flex-col w-[90%] items-start max-w-[350px] mx-auto",children:[T.jsx("span",{className:"text-left text-lg my-2 after:relative after:left-0.5 after:bottom-1.5 after:text-sm  after:text-red-500 after:content-['*']",children:"電子郵件"}),T.jsx(zi,{type:"email",onChange:_=>t(_.target.value),value:e,className:"px-3 py-3 w-full focus-visible:ring-ring/0 bg-gray-50 border-zinc-300"}),T.jsx("span",{className:"text-base text-red-500 font-bold mt-1",children:o==null?void 0:o.error_email}),T.jsx("span",{className:"text-left text-lg my-2 after:relative after:left-0.5 after:bottom-1.5 after:text-sm  after:text-red-500 after:content-['*']",children:"密碼"}),T.jsx(zi,{type:"password",onChange:_=>i(_.target.value),value:r,className:"px-3 py-3 mb-2 w-full focus-visible:ring-ring/0 bg-gray-50 border-zinc-300"}),T.jsx("span",{className:"text-base text-red-500 font-bold mt-1",children:o==null?void 0:o.error_password}),T.jsx(zo,{onClick:p,className:"rounded-sm w-full py-6 my-2 h-10 flex items-center justify-center gap-3 cursor-pointer bg-green-700 hover:bg-green-600 overflow-hidden",children:T.jsx("div",{className:"font-bold text-base text-white",children:"登入"})}),T.jsx(B9,{}),T.jsxs(zo,{onClick:()=>m("google"),className:"rounded-sm w-full py-6 pr-8 my-2 h-10 flex items-center justify-center gap-3 cursor-pointer bg-white hover:bg-slate-100 border border-zinc-300 overflow-hidden",children:[T.jsx("img",{src:W9,alt:"google",className:"max-w-[30px]"}),T.jsx("div",{className:"font-bold text-base text-zinc-600",children:"Login with Google"})]}),T.jsxs(zo,{onClick:()=>m("github"),className:"rounded-sm w-full py-6 pr-6.5 my-1 h-10 flex items-center justify-center gap-4.5 cursor-pointer bg-neutral-800 overflow-hidden",children:[T.jsx("i",{className:"fa-brands fa-github text-xl"}),T.jsx("div",{className:"font-bold text-base",children:"Login with GitHub"})]})]})]})}const G9=or.object({email:or.string().email({message:"※請輸入有效的 Email"}),password:or.string().min(8,{message:"※密碼至少 8 個字元"}).refine(n=>/[a-z]/.test(n)&&/[A-Z]/.test(n)&&/[0-9]/.test(n),{message:"※密碼需包含大小寫字母與數字"}),confirmPassword:or.string()}).refine(n=>n.password===n.confirmPassword,{message:"※輸入的密碼不一致",path:["confirmPassword"]});function K9(){const[n,e]=x.useState(""),[t,r]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState(),f=async()=>{var m,_,w;const p=G9.safeParse({email:n,password:t,confirmPassword:i});if(p.error){const S=((m=p.error.issues.find(k=>k.path.includes("email")))==null?void 0:m.message)||null,I=((_=p.error.issues.find(k=>k.path.includes("password")))==null?void 0:_.message)||null,b=((w=p.error.issues.find(k=>k.path.includes("confirmPassword")))==null?void 0:w.message)||null;c({error_email:S,error_password:I,error_confirmPassword:b});return}else await o4(n,t)||c({error_email:"※此Email已經註冊過",error_password:"",error_confirmPassword:""})};return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"relative my-3 flex items-center justify-between",children:T.jsx("div",{className:"font-[Comic_Relief] font-bold text-2xl text-slate-800 text-left pl-4",children:"註冊"})}),T.jsxs("div",{className:"flex flex-col w-[90%] items-start max-w-[350px] mx-auto",children:[T.jsx("span",{className:"text-left text-lg my-2 after:relative after:left-0.5 after:bottom-1.5 after:text-sm  after:text-red-500 after:content-['*']",children:"電子郵件"}),T.jsx(zi,{type:"email",value:n,onChange:p=>e(p.target.value),className:"px-3 py-3 w-full focus-visible:ring-ring/0 bg-gray-50 border-zinc-300"}),T.jsx("span",{className:"text-base text-red-500 font-bold mt-1",children:l==null?void 0:l.error_email}),T.jsx("span",{className:"text-left text-lg mt-2 after:relative after:left-0.5 after:bottom-1.5 after:text-sm  after:text-red-500 after:content-['*']",children:"密碼"}),T.jsx(zi,{type:"password",value:t,onChange:p=>r(p.target.value),className:"px-3 py-3 w-full focus-visible:ring-ring/0 bg-gray-50 border-zinc-300"}),T.jsx("span",{className:"text-base text-red-500 font-bold mt-1",children:l==null?void 0:l.error_password}),T.jsx("span",{className:"text-left text-lg mt-2 after:relative after:left-0.5 after:bottom-1.5 after:text-sm  after:text-red-500 after:content-['*']",children:"再次確認密碼"}),T.jsx(zi,{type:"password",value:i,onChange:p=>o(p.target.value),className:"px-3 py-3 w-full focus-visible:ring-ring/0 bg-gray-50 border-zinc-300"}),T.jsx("span",{className:"text-base text-red-500 font-bold mt-1",children:l==null?void 0:l.error_confirmPassword}),T.jsx("div",{className:"my-2 p-4 bg-gray-100 rounded-md",children:"我們會使用你的個人資料來支援你在本網站中的使用體驗、管理你的帳號存取權，以及用於隱私權政策中說明的其他用途。"}),T.jsx(zo,{onClick:f,className:"rounded-sm w-full py-6 my-2 h-10 flex items-center justify-center gap-3 cursor-pointer bg-green-700 hover:bg-green-600 overflow-hidden",children:T.jsx("div",{className:"font-bold text-base text-white",children:"註冊"})})]})]})}function x_({children:n}){return T.jsx("div",{className:"h-full min-h-[100vh] bg-slate-100 px-4 py-6 sm:px-8 sm:py-8 flex flex-col-reverse justify-end items-center sm:flex-row sm:justify-center sm:items-start gap-4",children:n})}function ot(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Kn(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function wn(n,e){const t=ot(n);return isNaN(e)?Kn(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function Lr(n,e){const t=ot(n);if(isNaN(e))return Kn(n,NaN);if(!e)return t;const r=t.getDate(),i=Kn(n,t.getTime());i.setMonth(t.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}const T_=6048e5,Y9=864e5;let Q9={};function rd(){return Q9}function li(n,e){var c,f,p,m;const t=rd(),r=(e==null?void 0:e.weekStartsOn)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=ot(n),o=i.getDay(),l=(o<r?7:0)+o-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function ia(n){return li(n,{weekStartsOn:1})}function XC(n){const e=ot(n),t=e.getFullYear(),r=Kn(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=ia(r),o=Kn(n,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const l=ia(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}function Pl(n){const e=ot(n);return e.setHours(0,0,0,0),e}function Vh(n){const e=ot(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Xr(n,e){const t=Pl(n),r=Pl(e),i=+t-Vh(t),o=+r-Vh(r);return Math.round((i-o)/Y9)}function Z9(n){const e=XC(n),t=Kn(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),ia(t)}function Kv(n,e){const t=e*7;return wn(n,t)}function X9(n,e){return Lr(n,e*12)}function J9(n){let e;return n.forEach(function(t){const r=ot(t);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function eU(n){let e;return n.forEach(t=>{const r=ot(t);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Nn(n,e){const t=Pl(n),r=Pl(e);return+t==+r}function S_(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function tU(n){if(!S_(n)&&typeof n!="number")return!1;const e=ot(n);return!isNaN(Number(e))}function Oc(n,e){const t=ot(n),r=ot(e),i=t.getFullYear()-r.getFullYear(),o=t.getMonth()-r.getMonth();return i*12+o}function nU(n,e,t){const r=li(n,t),i=li(e,t),o=+r-Vh(r),l=+i-Vh(i);return Math.round((o-l)/T_)}function b_(n){const e=ot(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function On(n){const e=ot(n);return e.setDate(1),e.setHours(0,0,0,0),e}function JC(n){const e=ot(n),t=Kn(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function I_(n,e){var c,f,p,m;const t=rd(),r=(e==null?void 0:e.weekStartsOn)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=ot(n),o=i.getDay(),l=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}function ek(n){return I_(n,{weekStartsOn:1})}const rU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iU=(n,e,t)=>{let r;const i=rU[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Yg(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const sU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lU={date:Yg({formats:sU,defaultWidth:"full"}),time:Yg({formats:oU,defaultWidth:"full"}),dateTime:Yg({formats:aU,defaultWidth:"full"})},uU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cU=(n,e,t,r)=>uU[n];function Bu(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,c=t!=null&&t.width?String(t.width):l;i=n.formattingValues[c]||n.formattingValues[l]}else{const l=n.defaultWidth,c=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[c]||n.values[l]}const o=n.argumentCallback?n.argumentCallback(e):e;return i[o]}}const dU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vU=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},yU={ordinalNumber:vU,era:Bu({values:dU,defaultWidth:"wide"}),quarter:Bu({values:fU,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Bu({values:hU,defaultWidth:"wide"}),day:Bu({values:pU,defaultWidth:"wide"}),dayPeriod:Bu({values:mU,defaultWidth:"wide",formattingValues:gU,defaultFormattingWidth:"wide"})};function Wu(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],c=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(c)?wU(c,_=>_.test(l)):_U(c,_=>_.test(l));let p;p=n.valueCallback?n.valueCallback(f):f,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(l.length);return{value:p,rest:m}}}function _U(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function wU(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function EU(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],o=e.match(n.parsePattern);if(!o)return null;let l=n.valueCallback?n.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const xU=/^(\d+)(th|st|nd|rd)?/i,TU=/\d+/i,SU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bU={any:[/^b/i,/^(a|c)/i]},IU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CU={any:[/1/i,/2/i,/3/i,/4/i]},kU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},AU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},PU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},DU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},OU={ordinalNumber:EU({matchPattern:xU,parsePattern:TU,valueCallback:n=>parseInt(n,10)}),era:Wu({matchPatterns:SU,defaultMatchWidth:"wide",parsePatterns:bU,defaultParseWidth:"any"}),quarter:Wu({matchPatterns:IU,defaultMatchWidth:"wide",parsePatterns:CU,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Wu({matchPatterns:kU,defaultMatchWidth:"wide",parsePatterns:AU,defaultParseWidth:"any"}),day:Wu({matchPatterns:RU,defaultMatchWidth:"wide",parsePatterns:PU,defaultParseWidth:"any"}),dayPeriod:Wu({matchPatterns:NU,defaultMatchWidth:"any",parsePatterns:DU,defaultParseWidth:"any"})},tk={code:"en-US",formatDistance:iU,formatLong:lU,formatRelative:cU,localize:yU,match:OU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MU(n){const e=ot(n);return Xr(e,JC(e))+1}function nk(n){const e=ot(n),t=+ia(e)-+Z9(e);return Math.round(t/T_)+1}function rk(n,e){var m,_,w,S;const t=ot(n),r=t.getFullYear(),i=rd(),o=(e==null?void 0:e.firstWeekContainsDate)??((_=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:_.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(w=i.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??1,l=Kn(n,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const c=li(l,e),f=Kn(n,0);f.setFullYear(r,0,o),f.setHours(0,0,0,0);const p=li(f,e);return t.getTime()>=c.getTime()?r+1:t.getTime()>=p.getTime()?r:r-1}function LU(n,e){var c,f,p,m;const t=rd(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=rk(n,e),o=Kn(n,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),li(o,e)}function ik(n,e){const t=ot(n),r=+li(t,e)-+LU(t,e);return Math.round(r/T_)+1}function ft(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Is={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return ft(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):ft(t+1,2)},d(n,e){return ft(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return ft(n.getHours()%12||12,e.length)},H(n,e){return ft(n.getHours(),e.length)},m(n,e){return ft(n.getMinutes(),e.length)},s(n,e){return ft(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return ft(i,e.length)}},il={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CT={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Is.y(n,e)},Y:function(n,e,t,r){const i=rk(n,r),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return ft(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):ft(o,e.length)},R:function(n,e){const t=XC(n);return ft(t,e.length)},u:function(n,e){const t=n.getFullYear();return ft(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ft(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ft(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Is.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return ft(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=ik(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):ft(i,e.length)},I:function(n,e,t){const r=nk(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):ft(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Is.d(n,e)},D:function(n,e,t){const r=MU(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):ft(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ft(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ft(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ft(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=il.noon:r===0?i=il.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=il.evening:r>=12?i=il.afternoon:r>=4?i=il.morning:i=il.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Is.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Is.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):ft(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):ft(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Is.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Is.s(n,e)},S:function(n,e){return Is.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return AT(r);case"XXXX":case"XX":return Vo(r);case"XXXXX":case"XXX":default:return Vo(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return AT(r);case"xxxx":case"xx":return Vo(r);case"xxxxx":case"xxx":default:return Vo(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+kT(r,":");case"OOOO":default:return"GMT"+Vo(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+kT(r,":");case"zzzz":default:return"GMT"+Vo(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return ft(r,e.length)},T:function(n,e,t){const r=n.getTime();return ft(r,e.length)}};function kT(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),o=r%60;return o===0?t+String(i):t+String(i)+e+ft(o,2)}function AT(n,e){return n%60===0?(n>0?"-":"+")+ft(Math.abs(n)/60,2):Vo(n,e)}function Vo(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=ft(Math.trunc(r/60),2),o=ft(r%60,2);return t+i+e+o}const RT=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},sk=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},VU=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return RT(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",RT(r,e)).replace("{{time}}",sk(i,e))},jU={p:sk,P:VU},FU=/^D+$/,UU=/^Y+$/,zU=["D","DD","YY","YYYY"];function $U(n){return FU.test(n)}function BU(n){return UU.test(n)}function WU(n,e,t){const r=HU(n,e,t);if(console.warn(r),zU.includes(n))throw new RangeError(r)}function HU(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KU=/^'([^]*?)'?$/,YU=/''/g,QU=/[a-zA-Z]/;function so(n,e,t){var m,_,w,S,I,b,k,P;const r=rd(),i=(t==null?void 0:t.locale)??r.locale??tk,o=(t==null?void 0:t.firstWeekContainsDate)??((_=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:_.firstWeekContainsDate)??r.firstWeekContainsDate??((S=(w=r.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((b=(I=t==null?void 0:t.locale)==null?void 0:I.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((P=(k=r.locale)==null?void 0:k.options)==null?void 0:P.weekStartsOn)??0,c=ot(n);if(!tU(c))throw new RangeError("Invalid time value");let f=e.match(GU).map(M=>{const L=M[0];if(L==="p"||L==="P"){const H=jU[L];return H(M,i.formatLong)}return M}).join("").match(qU).map(M=>{if(M==="''")return{isToken:!1,value:"'"};const L=M[0];if(L==="'")return{isToken:!1,value:ZU(M)};if(CT[L])return{isToken:!0,value:M};if(L.match(QU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return{isToken:!1,value:M}});i.localize.preprocessor&&(f=i.localize.preprocessor(c,f));const p={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return f.map(M=>{if(!M.isToken)return M.value;const L=M.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&BU(L)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&$U(L))&&WU(L,e,String(n));const H=CT[L[0]];return H(c,L,i.localize,p)}).join("")}function ZU(n){const e=n.match(KU);return e?e[1].replace(YU,"'"):n}function XU(n){const e=ot(n),t=e.getFullYear(),r=e.getMonth(),i=Kn(n,0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function JU(n){return Math.trunc(+ot(n)/1e3)}function e8(n){const e=ot(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(0,0,0,0),e}function t8(n,e){return nU(e8(n),On(n),e)+1}function Yv(n,e){const t=ot(n),r=ot(e);return t.getTime()>r.getTime()}function ok(n,e){const t=ot(n),r=ot(e);return+t<+r}function C_(n,e){const t=ot(n),r=ot(e);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function n8(n,e){const t=ot(n),r=ot(e);return t.getFullYear()===r.getFullYear()}function Qg(n,e){return wn(n,-e)}function Zg(n,e){const t=ot(n),r=t.getFullYear(),i=t.getDate(),o=Kn(n,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const l=XU(o);return t.setMonth(e,Math.min(i,l)),t}function PT(n,e){const t=ot(n);return isNaN(+t)?Kn(n,NaN):(t.setFullYear(e),t)}var Fe=function(){return Fe=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Fe.apply(this,arguments)};function r8(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function ak(n,e,t){for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function id(n){return n.mode==="multiple"}function sd(n){return n.mode==="range"}function Ap(n){return n.mode==="single"}var i8={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function s8(n,e){return so(n,"LLLL y",e)}function o8(n,e){return so(n,"d",e)}function a8(n,e){return so(n,"LLLL",e)}function l8(n){return"".concat(n)}function u8(n,e){return so(n,"cccccc",e)}function c8(n,e){return so(n,"yyyy",e)}var d8=Object.freeze({__proto__:null,formatCaption:s8,formatDay:o8,formatMonthCaption:a8,formatWeekNumber:l8,formatWeekdayName:u8,formatYearCaption:c8}),f8=function(n,e,t){return so(n,"do MMMM (EEEE)",t)},h8=function(){return"Month: "},p8=function(){return"Go to next month"},m8=function(){return"Go to previous month"},g8=function(n,e){return so(n,"cccc",e)},v8=function(n){return"Week n. ".concat(n)},y8=function(){return"Year: "},_8=Object.freeze({__proto__:null,labelDay:f8,labelMonthDropdown:h8,labelNext:p8,labelPrevious:m8,labelWeekNumber:v8,labelWeekday:g8,labelYearDropdown:y8});function w8(){var n="buttons",e=i8,t=tk,r={},i={},o=1,l={},c=new Date;return{captionLayout:n,classNames:e,formatters:d8,labels:_8,locale:t,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:l,today:c,mode:"default"}}function E8(n){var e=n.fromYear,t=n.toYear,r=n.fromMonth,i=n.toMonth,o=n.fromDate,l=n.toDate;return r?o=On(r):e&&(o=new Date(e,0,1)),i?l=b_(i):t&&(l=new Date(t,11,31)),{fromDate:o?Pl(o):void 0,toDate:l?Pl(l):void 0}}var lk=x.createContext(void 0);function x8(n){var e,t=n.initialProps,r=w8(),i=E8(t),o=i.fromDate,l=i.toDate,c=(e=t.captionLayout)!==null&&e!==void 0?e:r.captionLayout;c!=="buttons"&&(!o||!l)&&(c="buttons");var f;(Ap(t)||id(t)||sd(t))&&(f=t.onSelect);var p=Fe(Fe(Fe({},r),t),{captionLayout:c,classNames:Fe(Fe({},r.classNames),t.classNames),components:Fe({},t.components),formatters:Fe(Fe({},r.formatters),t.formatters),fromDate:o,labels:Fe(Fe({},r.labels),t.labels),mode:t.mode||r.mode,modifiers:Fe(Fe({},r.modifiers),t.modifiers),modifiersClassNames:Fe(Fe({},r.modifiersClassNames),t.modifiersClassNames),onSelect:f,styles:Fe(Fe({},r.styles),t.styles),toDate:l});return T.jsx(lk.Provider,{value:p,children:n.children})}function vt(){var n=x.useContext(lk);if(!n)throw new Error("useDayPicker must be used within a DayPickerProvider.");return n}function uk(n){var e=vt(),t=e.locale,r=e.classNames,i=e.styles,o=e.formatters.formatCaption;return T.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:n.id,children:o(n.displayMonth,{locale:t})})}function T8(n){return T.jsx("svg",Fe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},n,{children:T.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ck(n){var e,t,r=n.onChange,i=n.value,o=n.children,l=n.caption,c=n.className,f=n.style,p=vt(),m=(t=(e=p.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&t!==void 0?t:T8;return T.jsxs("div",{className:c,style:f,children:[T.jsx("span",{className:p.classNames.vhidden,children:n["aria-label"]}),T.jsx("select",{name:n.name,"aria-label":n["aria-label"],className:p.classNames.dropdown,style:p.styles.dropdown,value:i,onChange:r,children:o}),T.jsxs("div",{className:p.classNames.caption_label,style:p.styles.caption_label,"aria-hidden":"true",children:[l,T.jsx(m,{className:p.classNames.dropdown_icon,style:p.styles.dropdown_icon})]})]})}function S8(n){var e,t=vt(),r=t.fromDate,i=t.toDate,o=t.styles,l=t.locale,c=t.formatters.formatMonthCaption,f=t.classNames,p=t.components,m=t.labels.labelMonthDropdown;if(!r)return T.jsx(T.Fragment,{});if(!i)return T.jsx(T.Fragment,{});var _=[];if(n8(r,i))for(var w=On(r),S=r.getMonth();S<=i.getMonth();S++)_.push(Zg(w,S));else for(var w=On(new Date),S=0;S<=11;S++)_.push(Zg(w,S));var I=function(k){var P=Number(k.target.value),M=Zg(On(n.displayMonth),P);n.onChange(M)},b=(e=p==null?void 0:p.Dropdown)!==null&&e!==void 0?e:ck;return T.jsx(b,{name:"months","aria-label":m(),className:f.dropdown_month,style:o.dropdown_month,onChange:I,value:n.displayMonth.getMonth(),caption:c(n.displayMonth,{locale:l}),children:_.map(function(k){return T.jsx("option",{value:k.getMonth(),children:c(k,{locale:l})},k.getMonth())})})}function b8(n){var e,t=n.displayMonth,r=vt(),i=r.fromDate,o=r.toDate,l=r.locale,c=r.styles,f=r.classNames,p=r.components,m=r.formatters.formatYearCaption,_=r.labels.labelYearDropdown,w=[];if(!i)return T.jsx(T.Fragment,{});if(!o)return T.jsx(T.Fragment,{});for(var S=i.getFullYear(),I=o.getFullYear(),b=S;b<=I;b++)w.push(PT(JC(new Date),b));var k=function(M){var L=PT(On(t),Number(M.target.value));n.onChange(L)},P=(e=p==null?void 0:p.Dropdown)!==null&&e!==void 0?e:ck;return T.jsx(P,{name:"years","aria-label":_(),className:f.dropdown_year,style:c.dropdown_year,onChange:k,value:t.getFullYear(),caption:m(t,{locale:l}),children:w.map(function(M){return T.jsx("option",{value:M.getFullYear(),children:m(M,{locale:l})},M.getFullYear())})})}function I8(n,e){var t=x.useState(n),r=t[0],i=t[1],o=e===void 0?r:e;return[o,i]}function C8(n){var e=n.month,t=n.defaultMonth,r=n.today,i=e||t||r||new Date,o=n.toDate,l=n.fromDate,c=n.numberOfMonths,f=c===void 0?1:c;if(o&&Oc(o,i)<0){var p=-1*(f-1);i=Lr(o,p)}return l&&Oc(i,l)<0&&(i=l),On(i)}function k8(){var n=vt(),e=C8(n),t=I8(e,n.month),r=t[0],i=t[1],o=function(l){var c;if(!n.disableNavigation){var f=On(l);i(f),(c=n.onMonthChange)===null||c===void 0||c.call(n,f)}};return[r,o]}function A8(n,e){for(var t=e.reverseMonths,r=e.numberOfMonths,i=On(n),o=On(Lr(i,r)),l=Oc(o,i),c=[],f=0;f<l;f++){var p=Lr(i,f);c.push(p)}return t&&(c=c.reverse()),c}function R8(n,e){if(!e.disableNavigation){var t=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,l=r?o:1,c=On(n);if(!t)return Lr(c,l);var f=Oc(t,n);if(!(f<o))return Lr(c,l)}}function P8(n,e){if(!e.disableNavigation){var t=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,l=r?o:1,c=On(n);if(!t)return Lr(c,-l);var f=Oc(c,t);if(!(f<=0))return Lr(c,-l)}}var dk=x.createContext(void 0);function N8(n){var e=vt(),t=k8(),r=t[0],i=t[1],o=A8(r,e),l=R8(r,e),c=P8(r,e),f=function(_){return o.some(function(w){return C_(_,w)})},p=function(_,w){f(_)||(w&&ok(_,w)?i(Lr(_,1+e.numberOfMonths*-1)):i(_))},m={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:p,previousMonth:c,nextMonth:l,isDateDisplayed:f};return T.jsx(dk.Provider,{value:m,children:n.children})}function od(){var n=x.useContext(dk);if(!n)throw new Error("useNavigation must be used within a NavigationProvider");return n}function NT(n){var e,t=vt(),r=t.classNames,i=t.styles,o=t.components,l=od().goToMonth,c=function(m){l(Lr(m,n.displayIndex?-n.displayIndex:0))},f=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:uk,p=T.jsx(f,{id:n.id,displayMonth:n.displayMonth});return T.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[T.jsx("div",{className:r.vhidden,children:p}),T.jsx(S8,{onChange:c,displayMonth:n.displayMonth}),T.jsx(b8,{onChange:c,displayMonth:n.displayMonth})]})}function D8(n){return T.jsx("svg",Fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},n,{children:T.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function O8(n){return T.jsx("svg",Fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},n,{children:T.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var jh=x.forwardRef(function(n,e){var t=vt(),r=t.classNames,i=t.styles,o=[r.button_reset,r.button];n.className&&o.push(n.className);var l=o.join(" "),c=Fe(Fe({},i.button_reset),i.button);return n.style&&Object.assign(c,n.style),T.jsx("button",Fe({},n,{ref:e,type:"button",className:l,style:c}))});function M8(n){var e,t,r=vt(),i=r.dir,o=r.locale,l=r.classNames,c=r.styles,f=r.labels,p=f.labelPrevious,m=f.labelNext,_=r.components;if(!n.nextMonth&&!n.previousMonth)return T.jsx(T.Fragment,{});var w=p(n.previousMonth,{locale:o}),S=[l.nav_button,l.nav_button_previous].join(" "),I=m(n.nextMonth,{locale:o}),b=[l.nav_button,l.nav_button_next].join(" "),k=(e=_==null?void 0:_.IconRight)!==null&&e!==void 0?e:O8,P=(t=_==null?void 0:_.IconLeft)!==null&&t!==void 0?t:D8;return T.jsxs("div",{className:l.nav,style:c.nav,children:[!n.hidePrevious&&T.jsx(jh,{name:"previous-month","aria-label":w,className:S,style:c.nav_button_previous,disabled:!n.previousMonth,onClick:n.onPreviousClick,children:i==="rtl"?T.jsx(k,{className:l.nav_icon,style:c.nav_icon}):T.jsx(P,{className:l.nav_icon,style:c.nav_icon})}),!n.hideNext&&T.jsx(jh,{name:"next-month","aria-label":I,className:b,style:c.nav_button_next,disabled:!n.nextMonth,onClick:n.onNextClick,children:i==="rtl"?T.jsx(P,{className:l.nav_icon,style:c.nav_icon}):T.jsx(k,{className:l.nav_icon,style:c.nav_icon})})]})}function DT(n){var e=vt().numberOfMonths,t=od(),r=t.previousMonth,i=t.nextMonth,o=t.goToMonth,l=t.displayMonths,c=l.findIndex(function(I){return C_(n.displayMonth,I)}),f=c===0,p=c===l.length-1,m=e>1&&(f||!p),_=e>1&&(p||!f),w=function(){r&&o(r)},S=function(){i&&o(i)};return T.jsx(M8,{displayMonth:n.displayMonth,hideNext:m,hidePrevious:_,nextMonth:i,previousMonth:r,onPreviousClick:w,onNextClick:S})}function L8(n){var e,t=vt(),r=t.classNames,i=t.disableNavigation,o=t.styles,l=t.captionLayout,c=t.components,f=(e=c==null?void 0:c.CaptionLabel)!==null&&e!==void 0?e:uk,p;return i?p=T.jsx(f,{id:n.id,displayMonth:n.displayMonth}):l==="dropdown"?p=T.jsx(NT,{displayMonth:n.displayMonth,id:n.id}):l==="dropdown-buttons"?p=T.jsxs(T.Fragment,{children:[T.jsx(NT,{displayMonth:n.displayMonth,displayIndex:n.displayIndex,id:n.id}),T.jsx(DT,{displayMonth:n.displayMonth,displayIndex:n.displayIndex,id:n.id})]}):p=T.jsxs(T.Fragment,{children:[T.jsx(f,{id:n.id,displayMonth:n.displayMonth,displayIndex:n.displayIndex}),T.jsx(DT,{displayMonth:n.displayMonth,id:n.id})]}),T.jsx("div",{className:r.caption,style:o.caption,children:p})}function V8(n){var e=vt(),t=e.footer,r=e.styles,i=e.classNames.tfoot;return t?T.jsx("tfoot",{className:i,style:r.tfoot,children:T.jsx("tr",{children:T.jsx("td",{colSpan:8,children:t})})}):T.jsx(T.Fragment,{})}function j8(n,e,t){for(var r=t?ia(new Date):li(new Date,{locale:n,weekStartsOn:e}),i=[],o=0;o<7;o++){var l=wn(r,o);i.push(l)}return i}function F8(){var n=vt(),e=n.classNames,t=n.styles,r=n.showWeekNumber,i=n.locale,o=n.weekStartsOn,l=n.ISOWeek,c=n.formatters.formatWeekdayName,f=n.labels.labelWeekday,p=j8(i,o,l);return T.jsxs("tr",{style:t.head_row,className:e.head_row,children:[r&&T.jsx("td",{style:t.head_cell,className:e.head_cell}),p.map(function(m,_){return T.jsx("th",{scope:"col",className:e.head_cell,style:t.head_cell,"aria-label":f(m,{locale:i}),children:c(m,{locale:i})},_)})]})}function U8(){var n,e=vt(),t=e.classNames,r=e.styles,i=e.components,o=(n=i==null?void 0:i.HeadRow)!==null&&n!==void 0?n:F8;return T.jsx("thead",{style:r.head,className:t.head,children:T.jsx(o,{})})}function z8(n){var e=vt(),t=e.locale,r=e.formatters.formatDay;return T.jsx(T.Fragment,{children:r(n.date,{locale:t})})}var k_=x.createContext(void 0);function $8(n){if(!id(n.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return T.jsx(k_.Provider,{value:e,children:n.children})}return T.jsx(B8,{initialProps:n.initialProps,children:n.children})}function B8(n){var e=n.initialProps,t=n.children,r=e.selected,i=e.min,o=e.max,l=function(p,m,_){var w,S;(w=e.onDayClick)===null||w===void 0||w.call(e,p,m,_);var I=!!(m.selected&&i&&(r==null?void 0:r.length)===i);if(!I){var b=!!(!m.selected&&o&&(r==null?void 0:r.length)===o);if(!b){var k=r?ak([],r):[];if(m.selected){var P=k.findIndex(function(M){return Nn(p,M)});k.splice(P,1)}else k.push(p);(S=e.onSelect)===null||S===void 0||S.call(e,k,p,m,_)}}},c={disabled:[]};r&&c.disabled.push(function(p){var m=o&&r.length>o-1,_=r.some(function(w){return Nn(w,p)});return!!(m&&!_)});var f={selected:r,onDayClick:l,modifiers:c};return T.jsx(k_.Provider,{value:f,children:t})}function A_(){var n=x.useContext(k_);if(!n)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return n}function W8(n,e){var t=e||{},r=t.from,i=t.to;return r&&i?Nn(i,n)&&Nn(r,n)?void 0:Nn(i,n)?{from:i,to:void 0}:Nn(r,n)?void 0:Yv(r,n)?{from:n,to:i}:{from:r,to:n}:i?Yv(n,i)?{from:i,to:n}:{from:n,to:i}:r?ok(n,r)?{from:n,to:r}:{from:r,to:n}:{from:n,to:void 0}}var R_=x.createContext(void 0);function H8(n){if(!sd(n.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return T.jsx(R_.Provider,{value:e,children:n.children})}return T.jsx(q8,{initialProps:n.initialProps,children:n.children})}function q8(n){var e=n.initialProps,t=n.children,r=e.selected,i=r||{},o=i.from,l=i.to,c=e.min,f=e.max,p=function(S,I,b){var k,P;(k=e.onDayClick)===null||k===void 0||k.call(e,S,I,b);var M=W8(S,r);(P=e.onSelect)===null||P===void 0||P.call(e,M,S,I,b)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(m.range_start=[o],l?(m.range_end=[l],Nn(o,l)||(m.range_middle=[{after:o,before:l}])):m.range_end=[o]):l&&(m.range_start=[l],m.range_end=[l]),c&&(o&&!l&&m.disabled.push({after:Qg(o,c-1),before:wn(o,c-1)}),o&&l&&m.disabled.push({after:o,before:wn(o,c-1)}),!o&&l&&m.disabled.push({after:Qg(l,c-1),before:wn(l,c-1)})),f){if(o&&!l&&(m.disabled.push({before:wn(o,-f+1)}),m.disabled.push({after:wn(o,f-1)})),o&&l){var _=Xr(l,o)+1,w=f-_;m.disabled.push({before:Qg(o,w)}),m.disabled.push({after:wn(l,w)})}!o&&l&&(m.disabled.push({before:wn(l,-f+1)}),m.disabled.push({after:wn(l,f-1)}))}return T.jsx(R_.Provider,{value:{selected:r,onDayClick:p,modifiers:m},children:t})}function P_(){var n=x.useContext(R_);if(!n)throw new Error("useSelectRange must be used within a SelectRangeProvider");return n}function rh(n){return Array.isArray(n)?ak([],n):n!==void 0?[n]:[]}function G8(n){var e={};return Object.entries(n).forEach(function(t){var r=t[0],i=t[1];e[r]=rh(i)}),e}var Vr;(function(n){n.Outside="outside",n.Disabled="disabled",n.Selected="selected",n.Hidden="hidden",n.Today="today",n.RangeStart="range_start",n.RangeEnd="range_end",n.RangeMiddle="range_middle"})(Vr||(Vr={}));var K8=Vr.Selected,Ni=Vr.Disabled,Y8=Vr.Hidden,Q8=Vr.Today,Xg=Vr.RangeEnd,Jg=Vr.RangeMiddle,ev=Vr.RangeStart,Z8=Vr.Outside;function X8(n,e,t){var r,i=(r={},r[K8]=rh(n.selected),r[Ni]=rh(n.disabled),r[Y8]=rh(n.hidden),r[Q8]=[n.today],r[Xg]=[],r[Jg]=[],r[ev]=[],r[Z8]=[],r);return n.fromDate&&i[Ni].push({before:n.fromDate}),n.toDate&&i[Ni].push({after:n.toDate}),id(n)?i[Ni]=i[Ni].concat(e.modifiers[Ni]):sd(n)&&(i[Ni]=i[Ni].concat(t.modifiers[Ni]),i[ev]=t.modifiers[ev],i[Jg]=t.modifiers[Jg],i[Xg]=t.modifiers[Xg]),i}var fk=x.createContext(void 0);function J8(n){var e=vt(),t=A_(),r=P_(),i=X8(e,t,r),o=G8(e.modifiers),l=Fe(Fe({},i),o);return T.jsx(fk.Provider,{value:l,children:n.children})}function hk(){var n=x.useContext(fk);if(!n)throw new Error("useModifiers must be used within a ModifiersProvider");return n}function ez(n){return!!(n&&typeof n=="object"&&"before"in n&&"after"in n)}function tz(n){return!!(n&&typeof n=="object"&&"from"in n)}function nz(n){return!!(n&&typeof n=="object"&&"after"in n)}function rz(n){return!!(n&&typeof n=="object"&&"before"in n)}function iz(n){return!!(n&&typeof n=="object"&&"dayOfWeek"in n)}function sz(n,e){var t,r=e.from,i=e.to;if(r&&i){var o=Xr(i,r)<0;o&&(t=[i,r],r=t[0],i=t[1]);var l=Xr(n,r)>=0&&Xr(i,n)>=0;return l}return i?Nn(i,n):r?Nn(r,n):!1}function oz(n){return S_(n)}function az(n){return Array.isArray(n)&&n.every(S_)}function lz(n,e){return e.some(function(t){if(typeof t=="boolean")return t;if(oz(t))return Nn(n,t);if(az(t))return t.includes(n);if(tz(t))return sz(n,t);if(iz(t))return t.dayOfWeek.includes(n.getDay());if(ez(t)){var r=Xr(t.before,n),i=Xr(t.after,n),o=r>0,l=i<0,c=Yv(t.before,t.after);return c?l&&o:o||l}return nz(t)?Xr(n,t.after)>0:rz(t)?Xr(t.before,n)>0:typeof t=="function"?t(n):!1})}function N_(n,e,t){var r=Object.keys(e).reduce(function(o,l){var c=e[l];return lz(n,c)&&o.push(l),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),t&&!C_(n,t)&&(i.outside=!0),i}function uz(n,e){for(var t=On(n[0]),r=b_(n[n.length-1]),i,o,l=t;l<=r;){var c=N_(l,e),f=!c.disabled&&!c.hidden;if(!f){l=wn(l,1);continue}if(c.selected)return l;c.today&&!o&&(o=l),i||(i=l),l=wn(l,1)}return o||i}var cz=365;function pk(n,e){var t=e.moveBy,r=e.direction,i=e.context,o=e.modifiers,l=e.retry,c=l===void 0?{count:0,lastFocused:n}:l,f=i.weekStartsOn,p=i.fromDate,m=i.toDate,_=i.locale,w={day:wn,week:Kv,month:Lr,year:X9,startOfWeek:function(k){return i.ISOWeek?ia(k):li(k,{locale:_,weekStartsOn:f})},endOfWeek:function(k){return i.ISOWeek?ek(k):I_(k,{locale:_,weekStartsOn:f})}},S=w[t](n,r==="after"?1:-1);r==="before"&&p?S=J9([p,S]):r==="after"&&m&&(S=eU([m,S]));var I=!0;if(o){var b=N_(S,o);I=!b.disabled&&!b.hidden}return I?S:c.count>cz?c.lastFocused:pk(S,{moveBy:t,direction:r,context:i,modifiers:o,retry:Fe(Fe({},c),{count:c.count+1})})}var mk=x.createContext(void 0);function dz(n){var e=od(),t=hk(),r=x.useState(),i=r[0],o=r[1],l=x.useState(),c=l[0],f=l[1],p=uz(e.displayMonths,t),m=i??(c&&e.isDateDisplayed(c))?c:p,_=function(){f(i),o(void 0)},w=function(k){o(k)},S=vt(),I=function(k,P){if(i){var M=pk(i,{moveBy:k,direction:P,context:S,modifiers:t});Nn(i,M)||(e.goToDate(M,i),w(M))}},b={focusedDay:i,focusTarget:m,blur:_,focus:w,focusDayAfter:function(){return I("day","after")},focusDayBefore:function(){return I("day","before")},focusWeekAfter:function(){return I("week","after")},focusWeekBefore:function(){return I("week","before")},focusMonthBefore:function(){return I("month","before")},focusMonthAfter:function(){return I("month","after")},focusYearBefore:function(){return I("year","before")},focusYearAfter:function(){return I("year","after")},focusStartOfWeek:function(){return I("startOfWeek","before")},focusEndOfWeek:function(){return I("endOfWeek","after")}};return T.jsx(mk.Provider,{value:b,children:n.children})}function D_(){var n=x.useContext(mk);if(!n)throw new Error("useFocusContext must be used within a FocusProvider");return n}function fz(n,e){var t=hk(),r=N_(n,t,e);return r}var O_=x.createContext(void 0);function hz(n){if(!Ap(n.initialProps)){var e={selected:void 0};return T.jsx(O_.Provider,{value:e,children:n.children})}return T.jsx(pz,{initialProps:n.initialProps,children:n.children})}function pz(n){var e=n.initialProps,t=n.children,r=function(o,l,c){var f,p,m;if((f=e.onDayClick)===null||f===void 0||f.call(e,o,l,c),l.selected&&!e.required){(p=e.onSelect)===null||p===void 0||p.call(e,void 0,o,l,c);return}(m=e.onSelect)===null||m===void 0||m.call(e,o,o,l,c)},i={selected:e.selected,onDayClick:r};return T.jsx(O_.Provider,{value:i,children:t})}function gk(){var n=x.useContext(O_);if(!n)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return n}function mz(n,e){var t=vt(),r=gk(),i=A_(),o=P_(),l=D_(),c=l.focusDayAfter,f=l.focusDayBefore,p=l.focusWeekAfter,m=l.focusWeekBefore,_=l.blur,w=l.focus,S=l.focusMonthBefore,I=l.focusMonthAfter,b=l.focusYearBefore,k=l.focusYearAfter,P=l.focusStartOfWeek,M=l.focusEndOfWeek,L=function(ee){var F,ce,se,W;Ap(t)?(F=r.onDayClick)===null||F===void 0||F.call(r,n,e,ee):id(t)?(ce=i.onDayClick)===null||ce===void 0||ce.call(i,n,e,ee):sd(t)?(se=o.onDayClick)===null||se===void 0||se.call(o,n,e,ee):(W=t.onDayClick)===null||W===void 0||W.call(t,n,e,ee)},H=function(ee){var F;w(n),(F=t.onDayFocus)===null||F===void 0||F.call(t,n,e,ee)},Z=function(ee){var F;_(),(F=t.onDayBlur)===null||F===void 0||F.call(t,n,e,ee)},J=function(ee){var F;(F=t.onDayMouseEnter)===null||F===void 0||F.call(t,n,e,ee)},D=function(ee){var F;(F=t.onDayMouseLeave)===null||F===void 0||F.call(t,n,e,ee)},A=function(ee){var F;(F=t.onDayPointerEnter)===null||F===void 0||F.call(t,n,e,ee)},O=function(ee){var F;(F=t.onDayPointerLeave)===null||F===void 0||F.call(t,n,e,ee)},j=function(ee){var F;(F=t.onDayTouchCancel)===null||F===void 0||F.call(t,n,e,ee)},U=function(ee){var F;(F=t.onDayTouchEnd)===null||F===void 0||F.call(t,n,e,ee)},$=function(ee){var F;(F=t.onDayTouchMove)===null||F===void 0||F.call(t,n,e,ee)},N=function(ee){var F;(F=t.onDayTouchStart)===null||F===void 0||F.call(t,n,e,ee)},Te=function(ee){var F;(F=t.onDayKeyUp)===null||F===void 0||F.call(t,n,e,ee)},Ae=function(ee){var F;switch(ee.key){case"ArrowLeft":ee.preventDefault(),ee.stopPropagation(),t.dir==="rtl"?c():f();break;case"ArrowRight":ee.preventDefault(),ee.stopPropagation(),t.dir==="rtl"?f():c();break;case"ArrowDown":ee.preventDefault(),ee.stopPropagation(),p();break;case"ArrowUp":ee.preventDefault(),ee.stopPropagation(),m();break;case"PageUp":ee.preventDefault(),ee.stopPropagation(),ee.shiftKey?b():S();break;case"PageDown":ee.preventDefault(),ee.stopPropagation(),ee.shiftKey?k():I();break;case"Home":ee.preventDefault(),ee.stopPropagation(),P();break;case"End":ee.preventDefault(),ee.stopPropagation(),M();break}(F=t.onDayKeyDown)===null||F===void 0||F.call(t,n,e,ee)},_e={onClick:L,onFocus:H,onBlur:Z,onKeyDown:Ae,onKeyUp:Te,onMouseEnter:J,onMouseLeave:D,onPointerEnter:A,onPointerLeave:O,onTouchCancel:j,onTouchEnd:U,onTouchMove:$,onTouchStart:N};return _e}function gz(){var n=vt(),e=gk(),t=A_(),r=P_(),i=Ap(n)?e.selected:id(n)?t.selected:sd(n)?r.selected:void 0;return i}function vz(n){return Object.values(Vr).includes(n)}function yz(n,e){var t=[n.classNames.day];return Object.keys(e).forEach(function(r){var i=n.modifiersClassNames[r];if(i)t.push(i);else if(vz(r)){var o=n.classNames["day_".concat(r)];o&&t.push(o)}}),t}function _z(n,e){var t=Fe({},n.styles.day);return Object.keys(e).forEach(function(r){var i;t=Fe(Fe({},t),(i=n.modifiersStyles)===null||i===void 0?void 0:i[r])}),t}function wz(n,e,t){var r,i,o,l=vt(),c=D_(),f=fz(n,e),p=mz(n,f),m=gz(),_=!!(l.onDayClick||l.mode!=="default");x.useEffect(function(){var J;f.outside||c.focusedDay&&_&&Nn(c.focusedDay,n)&&((J=t.current)===null||J===void 0||J.focus())},[c.focusedDay,n,t,_,f.outside]);var w=yz(l,f).join(" "),S=_z(l,f),I=!!(f.outside&&!l.showOutsideDays||f.hidden),b=(o=(i=l.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:z8,k=T.jsx(b,{date:n,displayMonth:e,activeModifiers:f}),P={style:S,className:w,children:k,role:"gridcell"},M=c.focusTarget&&Nn(c.focusTarget,n)&&!f.outside,L=c.focusedDay&&Nn(c.focusedDay,n),H=Fe(Fe(Fe({},P),(r={disabled:f.disabled,role:"gridcell"},r["aria-selected"]=f.selected,r.tabIndex=L||M?0:-1,r)),p),Z={isButton:_,isHidden:I,activeModifiers:f,selectedDays:m,buttonProps:H,divProps:P};return Z}function Ez(n){var e=x.useRef(null),t=wz(n.date,n.displayMonth,e);return t.isHidden?T.jsx("div",{role:"gridcell"}):t.isButton?T.jsx(jh,Fe({name:"day",ref:e},t.buttonProps)):T.jsx("div",Fe({},t.divProps))}function xz(n){var e=n.number,t=n.dates,r=vt(),i=r.onWeekNumberClick,o=r.styles,l=r.classNames,c=r.locale,f=r.labels.labelWeekNumber,p=r.formatters.formatWeekNumber,m=p(Number(e),{locale:c});if(!i)return T.jsx("span",{className:l.weeknumber,style:o.weeknumber,children:m});var _=f(Number(e),{locale:c}),w=function(S){i(e,t,S)};return T.jsx(jh,{name:"week-number","aria-label":_,className:l.weeknumber,style:o.weeknumber,onClick:w,children:m})}function Tz(n){var e,t,r=vt(),i=r.styles,o=r.classNames,l=r.showWeekNumber,c=r.components,f=(e=c==null?void 0:c.Day)!==null&&e!==void 0?e:Ez,p=(t=c==null?void 0:c.WeekNumber)!==null&&t!==void 0?t:xz,m;return l&&(m=T.jsx("td",{className:o.cell,style:i.cell,children:T.jsx(p,{number:n.weekNumber,dates:n.dates})})),T.jsxs("tr",{className:o.row,style:i.row,children:[m,n.dates.map(function(_){return T.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:T.jsx(f,{displayMonth:n.displayMonth,date:_})},JU(_))})]})}function OT(n,e,t){for(var r=t!=null&&t.ISOWeek?ek(e):I_(e,t),i=t!=null&&t.ISOWeek?ia(n):li(n,t),o=Xr(r,i),l=[],c=0;c<=o;c++)l.push(wn(i,c));var f=l.reduce(function(p,m){var _=t!=null&&t.ISOWeek?nk(m):ik(m,t),w=p.find(function(S){return S.weekNumber===_});return w?(w.dates.push(m),p):(p.push({weekNumber:_,dates:[m]}),p)},[]);return f}function Sz(n,e){var t=OT(On(n),b_(n),e);if(e!=null&&e.useFixedWeeks){var r=t8(n,e);if(r<6){var i=t[t.length-1],o=i.dates[i.dates.length-1],l=Kv(o,6-r),c=OT(Kv(o,1),l,e);t.push.apply(t,c)}}return t}function bz(n){var e,t,r,i=vt(),o=i.locale,l=i.classNames,c=i.styles,f=i.hideHead,p=i.fixedWeeks,m=i.components,_=i.weekStartsOn,w=i.firstWeekContainsDate,S=i.ISOWeek,I=Sz(n.displayMonth,{useFixedWeeks:!!p,ISOWeek:S,locale:o,weekStartsOn:_,firstWeekContainsDate:w}),b=(e=m==null?void 0:m.Head)!==null&&e!==void 0?e:U8,k=(t=m==null?void 0:m.Row)!==null&&t!==void 0?t:Tz,P=(r=m==null?void 0:m.Footer)!==null&&r!==void 0?r:V8;return T.jsxs("table",{id:n.id,className:l.table,style:c.table,role:"grid","aria-labelledby":n["aria-labelledby"],children:[!f&&T.jsx(b,{}),T.jsx("tbody",{className:l.tbody,style:c.tbody,children:I.map(function(M){return T.jsx(k,{displayMonth:n.displayMonth,dates:M.dates,weekNumber:M.weekNumber},M.weekNumber)})}),T.jsx(P,{displayMonth:n.displayMonth})]})}function Iz(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Cz=Iz()?x.useLayoutEffect:x.useEffect,tv=!1,kz=0;function MT(){return"react-day-picker-".concat(++kz)}function Az(n){var e,t=n??(tv?MT():null),r=x.useState(t),i=r[0],o=r[1];return Cz(function(){i===null&&o(MT())},[]),x.useEffect(function(){tv===!1&&(tv=!0)},[]),(e=n??i)!==null&&e!==void 0?e:void 0}function Rz(n){var e,t,r=vt(),i=r.dir,o=r.classNames,l=r.styles,c=r.components,f=od().displayMonths,p=Az(r.id?"".concat(r.id,"-").concat(n.displayIndex):void 0),m=r.id?"".concat(r.id,"-grid-").concat(n.displayIndex):void 0,_=[o.month],w=l.month,S=n.displayIndex===0,I=n.displayIndex===f.length-1,b=!S&&!I;i==="rtl"&&(e=[S,I],I=e[0],S=e[1]),S&&(_.push(o.caption_start),w=Fe(Fe({},w),l.caption_start)),I&&(_.push(o.caption_end),w=Fe(Fe({},w),l.caption_end)),b&&(_.push(o.caption_between),w=Fe(Fe({},w),l.caption_between));var k=(t=c==null?void 0:c.Caption)!==null&&t!==void 0?t:L8;return T.jsxs("div",{className:_.join(" "),style:w,children:[T.jsx(k,{id:p,displayMonth:n.displayMonth,displayIndex:n.displayIndex}),T.jsx(bz,{id:m,"aria-labelledby":p,displayMonth:n.displayMonth})]},n.displayIndex)}function Pz(n){var e=vt(),t=e.classNames,r=e.styles;return T.jsx("div",{className:t.months,style:r.months,children:n.children})}function Nz(n){var e,t,r=n.initialProps,i=vt(),o=D_(),l=od(),c=x.useState(!1),f=c[0],p=c[1];x.useEffect(function(){i.initialFocus&&o.focusTarget&&(f||(o.focus(o.focusTarget),p(!0)))},[i.initialFocus,f,o.focus,o.focusTarget,o]);var m=[i.classNames.root,i.className];i.numberOfMonths>1&&m.push(i.classNames.multiple_months),i.showWeekNumber&&m.push(i.classNames.with_weeknumber);var _=Fe(Fe({},i.styles.root),i.style),w=Object.keys(r).filter(function(I){return I.startsWith("data-")}).reduce(function(I,b){var k;return Fe(Fe({},I),(k={},k[b]=r[b],k))},{}),S=(t=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&t!==void 0?t:Pz;return T.jsx("div",Fe({className:m.join(" "),style:_,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},w,{children:T.jsx(S,{children:l.displayMonths.map(function(I,b){return T.jsx(Rz,{displayIndex:b,displayMonth:I},b)})})}))}function Dz(n){var e=n.children,t=r8(n,["children"]);return T.jsx(x8,{initialProps:t,children:T.jsx(N8,{children:T.jsx(hz,{initialProps:t,children:T.jsx($8,{initialProps:t,children:T.jsx(H8,{initialProps:t,children:T.jsx(J8,{children:T.jsx(dz,{children:e})})})})})})})}function Oz(n){return T.jsx(Dz,Fe({},n,{children:T.jsx(Nz,{initialProps:n})}))}function Mz({className:n,classNames:e,showOutsideDays:t=!0,...r}){return T.jsx(Oz,{showOutsideDays:t,className:ut("p-3",n),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:ut(ac({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:ut("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:ut(ac({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...o})=>T.jsx(B5,{className:ut("size-4",i),...o}),IconRight:({className:i,...o})=>T.jsx(H5,{className:ut("size-4",i),...o})},...r})}var Rp="Popover",[vk,c$]=sa(Rp,[Tp]),ad=Tp(),[Lz,oo]=vk(Rp),yk=n=>{const{__scopePopover:e,children:t,open:r,defaultOpen:i,onOpenChange:o,modal:l=!1}=n,c=ad(e),f=x.useRef(null),[p,m]=x.useState(!1),[_,w]=oc({prop:r,defaultProp:i??!1,onChange:o,caller:Rp});return T.jsx(QI,{...c,children:T.jsx(Lz,{scope:e,contentId:Uo(),triggerRef:f,open:_,onOpenChange:w,onOpenToggle:x.useCallback(()=>w(S=>!S),[w]),hasCustomAnchor:p,onCustomAnchorAdd:x.useCallback(()=>m(!0),[]),onCustomAnchorRemove:x.useCallback(()=>m(!1),[]),modal:l,children:t})})};yk.displayName=Rp;var _k="PopoverAnchor",Vz=x.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=oo(_k,t),o=ad(t),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=i;return x.useEffect(()=>(l(),()=>c()),[l,c]),T.jsx(y_,{...o,...r,ref:e})});Vz.displayName=_k;var wk="PopoverTrigger",Ek=x.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=oo(wk,t),o=ad(t),l=ht(e,i.triggerRef),c=T.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ik(i.open),...r,ref:l,onClick:st(n.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:T.jsx(y_,{asChild:!0,...o,children:c})});Ek.displayName=wk;var M_="PopoverPortal",[jz,Fz]=vk(M_,{forceMount:void 0}),xk=n=>{const{__scopePopover:e,forceMount:t,children:r,container:i}=n,o=oo(M_,e);return T.jsx(jz,{scope:e,forceMount:t,children:T.jsx(oa,{present:t||o.open,children:T.jsx(Wh,{asChild:!0,container:i,children:r})})})};xk.displayName=M_;var Nl="PopoverContent",Tk=x.forwardRef((n,e)=>{const t=Fz(Nl,n.__scopePopover),{forceMount:r=t.forceMount,...i}=n,o=oo(Nl,n.__scopePopover);return T.jsx(oa,{present:r||o.open,children:o.modal?T.jsx(zz,{...i,ref:e}):T.jsx($z,{...i,ref:e})})});Tk.displayName=Nl;var Uz=Bo("PopoverContent.RemoveScroll"),zz=x.forwardRef((n,e)=>{const t=oo(Nl,n.__scopePopover),r=x.useRef(null),i=ht(e,r),o=x.useRef(!1);return x.useEffect(()=>{const l=r.current;if(l)return iy(l)},[]),T.jsx(qh,{as:Uz,allowPinchZoom:!0,children:T.jsx(Sk,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(n.onCloseAutoFocus,l=>{var c;l.preventDefault(),o.current||(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:st(n.onPointerDownOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,p=c.button===2||f;o.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:st(n.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),$z=x.forwardRef((n,e)=>{const t=oo(Nl,n.__scopePopover),r=x.useRef(!1),i=x.useRef(!1);return T.jsx(Sk,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,o),o.defaultPrevented||(r.current||(c=t.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var f,p;(f=n.onInteractOutside)==null||f.call(n,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((p=t.triggerRef.current)==null?void 0:p.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Sk=x.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,..._}=n,w=oo(Nl,t),S=ad(t);return ry(),T.jsx(Bh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:T.jsx($h,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:p,onDismiss:()=>w.onOpenChange(!1),children:T.jsx(ZI,{"data-state":Ik(w.open),role:"dialog",id:w.contentId,...S,..._,ref:e,style:{..._.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bk="PopoverClose",Bz=x.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=oo(bk,t);return T.jsx(lt.button,{type:"button",...r,ref:e,onClick:st(n.onClick,()=>i.onOpenChange(!1))})});Bz.displayName=bk;var Wz="PopoverArrow",Hz=x.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=ad(t);return T.jsx(XI,{...i,...r,ref:e})});Hz.displayName=Wz;function Ik(n){return n?"open":"closed"}var qz=yk,Gz=Ek,Kz=xk,Yz=Tk;function Qz({...n}){return T.jsx(qz,{"data-slot":"popover",...n})}function Zz({...n}){return T.jsx(Gz,{"data-slot":"popover-trigger",...n})}function Xz({className:n,align:e="center",sideOffset:t=4,...r}){return T.jsx(Kz,{children:T.jsx(Yz,{"data-slot":"popover-content",align:e,sideOffset:t,className:ut("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",n),...r})})}function Ck({id:n,date:e,setDate:t}){const{EditExpireDate:r}=_p(),i=new Date().setHours(0,0,0,0)>e.setHours(0,0,0,0),o=l=>{t(l),n&&r(n,l.toISOString())};return T.jsxs(Qz,{children:[T.jsxs(Zz,{className:"flex items-center px-2",children:[T.jsx(F5,{className:"mr-2 h-4 w-4 text-zinc-500"}),T.jsx("span",{className:`hidden sm:inline text-sm font-[Comic_Relief] 
            ${i?"text-red-400":"text-zinc-500"} `,children:so(e,"yyyy-MM-dd")})]}),T.jsx(Xz,{className:"w-auto p-0",children:T.jsx(Mz,{mode:"single",selected:e,onSelect:l=>{l&&o(l)},className:"rounded-md border"})})]})}function Fh({children:n,style:e}){return T.jsx("div",{className:`w-full py-2 grow ${e===1&&"max-w-[650px]"} ${e===2&&"max-w-[450px]"}`,children:T.jsx("div",{className:"overflow-hidden bg-white mx-auto border border-gray-500 rounded-lg shadow-lg px-4 pt-6 pb-8",children:T.jsx("div",{className:"sm:max-w-full",children:n})})})}function Jz({className:n}){return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"w-full h-full bg-neutral-800 opacity-80 absolute z-999 top-0 left-0 pb-[10%] flex items-center justify-center",children:[T.jsx(Y5,{className:ut("h-10 w-10 animate-spin text-muted-foreground",n)}),T.jsx("div",{className:"pl-2 text-muted-foreground text-3xl font-bold",children:"Loading..."})]}),T.jsx("div",{className:"w-full h-full bg-white absolute top-0 left-0"})]})}const e$=or.object({password:or.string().min(8,{message:"※密碼至少 8 個字元"}).refine(n=>/[a-z]/.test(n)&&/[A-Z]/.test(n)&&/[0-9]/.test(n),{message:"※密碼需包含大小寫字母與數字"}),confirmPassword:or.string()}).refine(n=>n.password===n.confirmPassword,{message:"※輸入的密碼不一致",path:["confirmPassword"]});function t$(){const[n,e]=x.useState(!1),[t,r]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState(),[f]=oP(),p=Vc(),m=f.get("oobCode");x.useEffect(()=>{if(!m){p("/");return}},[p,m]);const _=async()=>{var S,I;const w=e$.safeParse({password:t,confirmPassword:i});if(w.error){const b=((S=w.error.issues.find(P=>P.path.includes("password")))==null?void 0:S.message)||null,k=((I=w.error.issues.find(P=>P.path.includes("confirmPassword")))==null?void 0:I.message)||null;c({error_password:b,error_confirmPassword:k});return}else m&&(await u4(m,t),e(!0),r(""),o("")),setTimeout(()=>{p("/login")},3e3)};return n?T.jsx(Jz,{}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"relative my-3 flex items-center justify-between",children:T.jsx("div",{className:"font-[Comic_Relief] font-bold text-2xl text-slate-800 text-left pl-4",children:"更新密碼"})}),T.jsxs("div",{className:"flex flex-col w-[90%] items-start max-w-[350px] mx-auto",children:[T.jsx("span",{className:"text-left text-lg mt-2 after:relative after:left-0.5 after:bottom-1.5 after:text-sm  after:text-red-500 after:content-['*']",children:"新密碼"}),T.jsx(zi,{type:"password",value:t,onChange:w=>r(w.target.value),className:"px-3 py-3 w-full focus-visible:ring-ring/0 bg-gray-50 border-zinc-300"}),T.jsx("span",{className:"text-base text-red-500 font-bold mt-1",children:l==null?void 0:l.error_password}),T.jsx("span",{className:"text-left text-lg mt-2 after:relative after:left-0.5 after:bottom-1.5 after:text-sm  after:text-red-500 after:content-['*']",children:"再次確認新密碼"}),T.jsx(zi,{type:"password",value:i,onChange:w=>o(w.target.value),className:"px-3 py-3 w-full focus-visible:ring-ring/0 bg-gray-50 border-zinc-300"}),T.jsx("span",{className:"text-base text-red-500 font-bold mt-1",children:l==null?void 0:l.error_confirmPassword}),T.jsx(zo,{onClick:_,className:"rounded-sm w-full py-6 my-2 h-10 flex items-center justify-center gap-3 cursor-pointer bg-green-700 hover:bg-green-600 overflow-hidden",children:T.jsx("div",{className:"font-bold text-base text-white",children:"確認"})})]})]})}function n$(){return T.jsx(T.Fragment,{children:T.jsx(x_,{children:T.jsxs(Fh,{style:1,children:[T.jsx(d4,{}),T.jsx(i6,{}),T.jsx(T6,{})]})})})}function r$(){return T.jsx(T.Fragment,{children:T.jsxs(x_,{children:[T.jsx(Fh,{style:2,children:T.jsx(K9,{})}),T.jsx(Fh,{style:2,children:T.jsx(q9,{})})]})})}function i$(){return T.jsx(T.Fragment,{children:T.jsx(x_,{children:T.jsx(Fh,{style:2,children:T.jsx(t$,{})})})})}function s$(){return T.jsx(T.Fragment,{children:T.jsx(tP,{basename:"/",children:T.jsxs(RR,{children:[T.jsx(zf,{path:"/",element:T.jsx(n$,{})}),T.jsx(zf,{path:"/login",element:T.jsx(r$,{})}),T.jsx(zf,{path:"/reset-password",element:T.jsx(i$,{})})]})})})}FA.createRoot(document.getElementById("root")).render(T.jsx(x.StrictMode,{children:T.jsx(zj,{children:T.jsx(s$,{})})}));
