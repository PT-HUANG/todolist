function yA(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zm={exports:{}},ju={},Xm={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function _A(){if(L0)return Ze;L0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function w(W){return W===null||typeof W!="object"?null:(W=_&&W[_]||W["@@iterator"],typeof W=="function"?W:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,I={};function k(W,X,fe){this.props=W,this.context=X,this.refs=I,this.updater=fe||x}k.prototype.isReactComponent={},k.prototype.setState=function(W,X){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,X,"setState")},k.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function P(){}P.prototype=k.prototype;function M(W,X,fe){this.props=W,this.context=X,this.refs=I,this.updater=fe||x}var L=M.prototype=new P;L.constructor=M,b(L,k.prototype),L.isPureReactComponent=!0;var H=Array.isArray,Z=Object.prototype.hasOwnProperty,J={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(W,X,fe){var Se,De={},$e=null,ae=null;if(X!=null)for(Se in X.ref!==void 0&&(ae=X.ref),X.key!==void 0&&($e=""+X.key),X)Z.call(X,Se)&&!D.hasOwnProperty(Se)&&(De[Se]=X[Se]);var be=arguments.length-2;if(be===1)De.children=fe;else if(1<be){for(var je=Array(be),Oe=0;Oe<be;Oe++)je[Oe]=arguments[Oe+2];De.children=je}if(W&&W.defaultProps)for(Se in be=W.defaultProps,be)De[Se]===void 0&&(De[Se]=be[Se]);return{$$typeof:n,type:W,key:$e,ref:ae,props:De,_owner:J.current}}function O(W,X){return{$$typeof:n,type:W.type,key:X,ref:W.ref,props:W.props,_owner:W._owner}}function j(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function U(W){var X={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(fe){return X[fe]})}var $=/\/+/g;function N(W,X){return typeof W=="object"&&W!==null&&W.key!=null?U(""+W.key):X.toString(36)}function xe(W,X,fe,Se,De){var $e=typeof W;($e==="undefined"||$e==="boolean")&&(W=null);var ae=!1;if(W===null)ae=!0;else switch($e){case"string":case"number":ae=!0;break;case"object":switch(W.$$typeof){case n:case e:ae=!0}}if(ae)return ae=W,De=De(ae),W=Se===""?"."+N(ae,0):Se,H(De)?(fe="",W!=null&&(fe=W.replace($,"$&/")+"/"),xe(De,X,fe,"",function(Oe){return Oe})):De!=null&&(j(De)&&(De=O(De,fe+(!De.key||ae&&ae.key===De.key?"":(""+De.key).replace($,"$&/")+"/")+W)),X.push(De)),1;if(ae=0,Se=Se===""?".":Se+":",H(W))for(var be=0;be<W.length;be++){$e=W[be];var je=Se+N($e,be);ae+=xe($e,X,fe,je,De)}else if(je=w(W),typeof je=="function")for(W=je.call(W),be=0;!($e=W.next()).done;)$e=$e.value,je=Se+N($e,be++),ae+=xe($e,X,fe,je,De);else if($e==="object")throw X=String(W),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ae}function Ae(W,X,fe){if(W==null)return W;var Se=[],De=0;return xe(W,Se,"","",function($e){return X.call(fe,$e,De++)}),Se}function _e(W){if(W._status===-1){var X=W._result;X=X(),X.then(function(fe){(W._status===0||W._status===-1)&&(W._status=1,W._result=fe)},function(fe){(W._status===0||W._status===-1)&&(W._status=2,W._result=fe)}),W._status===-1&&(W._status=0,W._result=X)}if(W._status===1)return W._result.default;throw W._result}var ee={current:null},F={transition:null},ce={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:F,ReactCurrentOwner:J};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:Ae,forEach:function(W,X,fe){Ae(W,function(){X.apply(this,arguments)},fe)},count:function(W){var X=0;return Ae(W,function(){X++}),X},toArray:function(W){return Ae(W,function(X){return X})||[]},only:function(W){if(!j(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Ze.Component=k,Ze.Fragment=t,Ze.Profiler=i,Ze.PureComponent=M,Ze.StrictMode=r,Ze.Suspense=f,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Ze.act=se,Ze.cloneElement=function(W,X,fe){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Se=b({},W.props),De=W.key,$e=W.ref,ae=W._owner;if(X!=null){if(X.ref!==void 0&&($e=X.ref,ae=J.current),X.key!==void 0&&(De=""+X.key),W.type&&W.type.defaultProps)var be=W.type.defaultProps;for(je in X)Z.call(X,je)&&!D.hasOwnProperty(je)&&(Se[je]=X[je]===void 0&&be!==void 0?be[je]:X[je])}var je=arguments.length-2;if(je===1)Se.children=fe;else if(1<je){be=Array(je);for(var Oe=0;Oe<je;Oe++)be[Oe]=arguments[Oe+2];Se.children=be}return{$$typeof:n,type:W.type,key:De,ref:$e,props:Se,_owner:ae}},Ze.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},Ze.createElement=A,Ze.createFactory=function(W){var X=A.bind(null,W);return X.type=W,X},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(W){return{$$typeof:c,render:W}},Ze.isValidElement=j,Ze.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:_e}},Ze.memo=function(W,X){return{$$typeof:p,type:W,compare:X===void 0?null:X}},Ze.startTransition=function(W){var X=F.transition;F.transition={};try{W()}finally{F.transition=X}},Ze.unstable_act=se,Ze.useCallback=function(W,X){return ee.current.useCallback(W,X)},Ze.useContext=function(W){return ee.current.useContext(W)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(W){return ee.current.useDeferredValue(W)},Ze.useEffect=function(W,X){return ee.current.useEffect(W,X)},Ze.useId=function(){return ee.current.useId()},Ze.useImperativeHandle=function(W,X,fe){return ee.current.useImperativeHandle(W,X,fe)},Ze.useInsertionEffect=function(W,X){return ee.current.useInsertionEffect(W,X)},Ze.useLayoutEffect=function(W,X){return ee.current.useLayoutEffect(W,X)},Ze.useMemo=function(W,X){return ee.current.useMemo(W,X)},Ze.useReducer=function(W,X,fe){return ee.current.useReducer(W,X,fe)},Ze.useRef=function(W){return ee.current.useRef(W)},Ze.useState=function(W){return ee.current.useState(W)},Ze.useSyncExternalStore=function(W,X,fe){return ee.current.useSyncExternalStore(W,X,fe)},Ze.useTransition=function(){return ee.current.useTransition()},Ze.version="18.3.1",Ze}var V0;function Gv(){return V0||(V0=1,Xm.exports=_A()),Xm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function wA(){if(j0)return ju;j0=1;var n=Gv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var m,_={},w=null,x=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(x=f.ref);for(m in f)r.call(f,m)&&!o.hasOwnProperty(m)&&(_[m]=f[m]);if(c&&c.defaultProps)for(m in f=c.defaultProps,f)_[m]===void 0&&(_[m]=f[m]);return{$$typeof:e,type:c,key:w,ref:x,props:_,_owner:i.current}}return ju.Fragment=t,ju.jsx=l,ju.jsxs=l,ju}var F0;function EA(){return F0||(F0=1,Zm.exports=wA()),Zm.exports}var S=EA(),T=Gv();const Ts=qv(T),Rx=yA({__proto__:null,default:Ts},[T]);var Tf={},Jm={exports:{}},An={},eg={exports:{}},tg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function TA(){return U0||(U0=1,function(n){function e(F,ce){var se=F.length;F.push(ce);e:for(;0<se;){var W=se-1>>>1,X=F[W];if(0<i(X,ce))F[W]=ce,F[se]=X,se=W;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ce=F[0],se=F.pop();if(se!==ce){F[0]=se;e:for(var W=0,X=F.length,fe=X>>>1;W<fe;){var Se=2*(W+1)-1,De=F[Se],$e=Se+1,ae=F[$e];if(0>i(De,se))$e<X&&0>i(ae,De)?(F[W]=ae,F[$e]=se,W=$e):(F[W]=De,F[Se]=se,W=Se);else if($e<X&&0>i(ae,se))F[W]=ae,F[$e]=se,W=$e;else break e}}return ce}function i(F,ce){var se=F.sortIndex-ce.sortIndex;return se!==0?se:F.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],p=[],m=1,_=null,w=3,x=!1,b=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(F){for(var ce=t(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=F)r(p),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=t(p)}}function H(F){if(I=!1,L(F),!b)if(t(f)!==null)b=!0,_e(Z);else{var ce=t(p);ce!==null&&ee(H,ce.startTime-F)}}function Z(F,ce){b=!1,I&&(I=!1,P(A),A=-1),x=!0;var se=w;try{for(L(ce),_=t(f);_!==null&&(!(_.expirationTime>ce)||F&&!U());){var W=_.callback;if(typeof W=="function"){_.callback=null,w=_.priorityLevel;var X=W(_.expirationTime<=ce);ce=n.unstable_now(),typeof X=="function"?_.callback=X:_===t(f)&&r(f),L(ce)}else r(f);_=t(f)}if(_!==null)var fe=!0;else{var Se=t(p);Se!==null&&ee(H,Se.startTime-ce),fe=!1}return fe}finally{_=null,w=se,x=!1}}var J=!1,D=null,A=-1,O=5,j=-1;function U(){return!(n.unstable_now()-j<O)}function $(){if(D!==null){var F=n.unstable_now();j=F;var ce=!0;try{ce=D(!0,F)}finally{ce?N():(J=!1,D=null)}}else J=!1}var N;if(typeof M=="function")N=function(){M($)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Ae=xe.port2;xe.port1.onmessage=$,N=function(){Ae.postMessage(null)}}else N=function(){k($,0)};function _e(F){D=F,J||(J=!0,N())}function ee(F,ce){A=k(function(){F(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){b||x||(b=!0,_e(Z))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(F){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var se=w;w=ce;try{return F()}finally{w=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,ce){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var se=w;w=F;try{return ce()}finally{w=se}},n.unstable_scheduleCallback=function(F,ce,se){var W=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?W+se:W):se=W,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=se+X,F={id:m++,callback:ce,priorityLevel:F,startTime:se,expirationTime:X,sortIndex:-1},se>W?(F.sortIndex=se,e(p,F),t(f)===null&&F===t(p)&&(I?(P(A),A=-1):I=!0,ee(H,se-W))):(F.sortIndex=X,e(f,F),b||x||(b=!0,_e(Z))),F},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(F){var ce=w;return function(){var se=w;w=ce;try{return F.apply(this,arguments)}finally{w=se}}}}(tg)),tg}var z0;function xA(){return z0||(z0=1,eg.exports=TA()),eg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function SA(){if($0)return An;$0=1;var n=Gv(),e=xA();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},_={};function w(s){return f.call(_,s)?!0:f.call(m,s)?!1:p.test(s)?_[s]=!0:(m[s]=!0,!1)}function x(s,a,u,h){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,a,u,h){if(a===null||typeof a>"u"||x(s,a,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function I(s,a,u,h,g,y,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=y,this.removeEmptyString=C}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new I(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];k[a]=new I(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new I(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new I(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new I(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new I(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new I(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new I(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new I(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function M(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(P,M);k[a]=new I(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(P,M);k[a]=new I(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(P,M);k[a]=new I(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new I(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new I(s,1,!1,s.toLowerCase(),null,!0,!0)});function L(s,a,u,h){var g=k.hasOwnProperty(a)?k[a]:null;(g!==null?g.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,u,g,h)&&(u=null),h||g===null?w(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,h=g.attributeNamespace,u===null?s.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,h?s.setAttributeNS(h,a,u):s.setAttribute(a,u))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),J=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),F=Symbol.iterator;function ce(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,W;function X(s){if(W===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+s}var fe=!1;function Se(s,a){if(!s||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var h=Y}Reflect.construct(s,[],a)}else{try{a.call()}catch(Y){h=Y}s.call(a.prototype)}else{try{throw Error()}catch(Y){h=Y}s()}}catch(Y){if(Y&&h&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),y=h.stack.split(`
`),C=g.length-1,V=y.length-1;1<=C&&0<=V&&g[C]!==y[V];)V--;for(;1<=C&&0<=V;C--,V--)if(g[C]!==y[V]){if(C!==1||V!==1)do if(C--,V--,0>V||g[C]!==y[V]){var z=`
`+g[C].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=C&&0<=V);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?X(s):""}function De(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=Se(s.type,!1),s;case 11:return s=Se(s.type.render,!1),s;case 1:return s=Se(s.type,!0),s;default:return""}}function $e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case J:return"Portal";case O:return"Profiler";case A:return"StrictMode";case N:return"Suspense";case xe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case j:return(s._context.displayName||"Context")+".Provider";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ae:return a=s.displayName||null,a!==null?a:$e(s.type)||"Memo";case _e:a=s._payload,s=s._init;try{return $e(s(a))}catch{}}return null}function ae(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function be(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function je(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Oe(s){var a=je(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(C){h=""+C,y.call(this,C)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function He(s){s._valueTracker||(s._valueTracker=Oe(s))}function Ge(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return s&&(h=je(s)?s.checked?"true":"false":s.value),s=h,s!==u?(a.setValue(s),!0):!1}function kt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ht(s,a){var u=a.checked;return se({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Kn(s,a){var u=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;u=be(a.value!=null?a.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function or(s,a){a=a.checked,a!=null&&L(s,"checked",a,!1)}function ar(s,a){or(s,a);var u=be(a.value),h=a.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?lr(s,a.type,u):a.hasOwnProperty("defaultValue")&&lr(s,a.type,be(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function aa(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function lr(s,a,u){(a!=="number"||kt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var ci=Array.isArray;function di(s,a,u,h){if(s=s.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=a.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&h&&(s[u].defaultSelected=!0)}else{for(u=""+be(u),a=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function ql(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function la(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(ci(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:be(u)}}function ua(s,a){var u=be(a.value),h=be(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function Gl(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Vt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Vt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var fi,Kl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,h,g){MSApp.execUnsafeLocalFunction(function(){return s(a,u,h,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(fi=fi||document.createElement("div"),fi.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=fi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Yi(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},io=["Webkit","ms","Moz","O"];Object.keys(ro).forEach(function(s){io.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),ro[a]=ro[s]})});function Yl(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||ro.hasOwnProperty(s)&&ro[s]?(""+a).trim():a+"px"}function Ql(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var h=u.indexOf("--")===0,g=Yl(u,a[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,g):s[u]=g}}var Zl=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xl(s,a){if(a){if(Zl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Jl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var so=null;function ca(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var da=null,Yn=null,Vr=null;function fa(s){if(s=xu(s)){if(typeof da!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Md(a),da(s.stateNode,s.type,a))}}function jr(s){Yn?Vr?Vr.push(s):Vr=[s]:Yn=s}function eu(){if(Yn){var s=Yn,a=Vr;if(Vr=Yn=null,fa(s),a)for(s=0;s<a.length;s++)fa(a[s])}}function oo(s,a){return s(a)}function tu(){}var hi=!1;function nu(s,a,u){if(hi)return s(a,u);hi=!0;try{return oo(s,a,u)}finally{hi=!1,(Yn!==null||Vr!==null)&&(tu(),eu())}}function Rt(s,a){var u=s.stateNode;if(u===null)return null;var h=Md(u);if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var ha=!1;if(c)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){ha=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{ha=!1}function ao(s,a,u,h,g,y,C,V,z){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(u,Y)}catch(ie){this.onError(ie)}}var lo=!1,pa=null,cr=!1,ru=null,Ip={onError:function(s){lo=!0,pa=s}};function ma(s,a,u,h,g,y,C,V,z){lo=!1,pa=null,ao.apply(Ip,arguments)}function od(s,a,u,h,g,y,C,V,z){if(ma.apply(this,arguments),lo){if(lo){var Y=pa;lo=!1,pa=null}else throw Error(t(198));cr||(cr=!0,ru=Y)}}function dr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function uo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function fr(s){if(dr(s)!==s)throw Error(t(188))}function ad(s){var a=s.alternate;if(!a){if(a=dr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,h=a;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return fr(g),s;if(y===h)return fr(g),a;y=y.sibling}throw Error(t(188))}if(u.return!==h.return)u=g,h=y;else{for(var C=!1,V=g.child;V;){if(V===u){C=!0,u=g,h=y;break}if(V===h){C=!0,h=g,u=y;break}V=V.sibling}if(!C){for(V=y.child;V;){if(V===u){C=!0,u=y,h=g;break}if(V===h){C=!0,h=y,u=g;break}V=V.sibling}if(!C)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function iu(s){return s=ad(s),s!==null?ga(s):null}function ga(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ga(s);if(a!==null)return a;s=s.sibling}return null}var va=e.unstable_scheduleCallback,su=e.unstable_cancelCallback,ld=e.unstable_shouldYield,bp=e.unstable_requestPaint,pt=e.unstable_now,ud=e.unstable_getCurrentPriorityLevel,co=e.unstable_ImmediatePriority,Qi=e.unstable_UserBlockingPriority,Qn=e.unstable_NormalPriority,ou=e.unstable_LowPriority,cd=e.unstable_IdlePriority,fo=null,Mn=null;function dd(s){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(fo,s,void 0,(s.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:hd,au=Math.log,fd=Math.LN2;function hd(s){return s>>>=0,s===0?32:31-(au(s)/fd|0)|0}var ya=64,_a=4194304;function Zi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ho(s,a){var u=s.pendingLanes;if(u===0)return 0;var h=0,g=s.suspendedLanes,y=s.pingedLanes,C=u&268435455;if(C!==0){var V=C&~g;V!==0?h=Zi(V):(y&=C,y!==0&&(h=Zi(y)))}else C=u&~g,C!==0?h=Zi(C):y!==0&&(h=Zi(y));if(h===0)return 0;if(a!==0&&a!==h&&(a&g)===0&&(g=h&-h,y=a&-a,g>=y||g===16&&(y&4194240)!==0))return a;if((h&4)!==0&&(h|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=h;0<a;)u=31-gn(a),g=1<<u,h|=s[u],a&=~g;return h}function Cp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(s,a){for(var u=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes;0<y;){var C=31-gn(y),V=1<<C,z=g[C];z===-1?((V&u)===0||(V&h)!==0)&&(g[C]=Cp(V,a)):z<=a&&(s.expiredLanes|=V),y&=~V}}function Ln(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function po(){var s=ya;return ya<<=1,(ya&4194240)===0&&(ya=64),s}function Xi(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Ji(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-gn(a),s[a]=u}function ht(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-gn(u),y=1<<g;a[g]=0,h[g]=-1,s[g]=-1,u&=~y}}function es(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var h=31-gn(u),g=1<<h;g&a|s[h]&a&&(s[h]|=a),u&=~g}}var et=0;function ts(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var pd,wa,md,gd,vd,lu=!1,Fr=[],Xt=null,hr=null,pr=null,ns=new Map,Zn=new Map,Ur=[],kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yd(s,a){switch(s){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":ns.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(a.pointerId)}}function Tn(s,a,u,h,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},a!==null&&(a=xu(a),a!==null&&wa(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Ap(s,a,u,h,g){switch(a){case"focusin":return Xt=Tn(Xt,s,a,u,h,g),!0;case"dragenter":return hr=Tn(hr,s,a,u,h,g),!0;case"mouseover":return pr=Tn(pr,s,a,u,h,g),!0;case"pointerover":var y=g.pointerId;return ns.set(y,Tn(ns.get(y)||null,s,a,u,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Zn.set(y,Tn(Zn.get(y)||null,s,a,u,h,g)),!0}return!1}function _d(s){var a=_o(s.target);if(a!==null){var u=dr(a);if(u!==null){if(a=u.tag,a===13){if(a=uo(u),a!==null){s.blockedOn=a,vd(s.priority,function(){md(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Ea(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);so=h,u.target.dispatchEvent(h),so=null}else return a=xu(u),a!==null&&wa(a),s.blockedOn=u,!1;a.shift()}return!0}function mo(s,a,u){mi(s)&&u.delete(a)}function wd(){lu=!1,Xt!==null&&mi(Xt)&&(Xt=null),hr!==null&&mi(hr)&&(hr=null),pr!==null&&mi(pr)&&(pr=null),ns.forEach(mo),Zn.forEach(mo)}function mr(s,a){s.blockedOn===a&&(s.blockedOn=null,lu||(lu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wd)))}function gr(s){function a(g){return mr(g,s)}if(0<Fr.length){mr(Fr[0],s);for(var u=1;u<Fr.length;u++){var h=Fr[u];h.blockedOn===s&&(h.blockedOn=null)}}for(Xt!==null&&mr(Xt,s),hr!==null&&mr(hr,s),pr!==null&&mr(pr,s),ns.forEach(a),Zn.forEach(a),u=0;u<Ur.length;u++)h=Ur[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<Ur.length&&(u=Ur[0],u.blockedOn===null);)_d(u),u.blockedOn===null&&Ur.shift()}var gi=H.ReactCurrentBatchConfig,rs=!0;function wt(s,a,u,h){var g=et,y=gi.transition;gi.transition=null;try{et=1,uu(s,a,u,h)}finally{et=g,gi.transition=y}}function Rp(s,a,u,h){var g=et,y=gi.transition;gi.transition=null;try{et=4,uu(s,a,u,h)}finally{et=g,gi.transition=y}}function uu(s,a,u,h){if(rs){var g=Ea(s,a,u,h);if(g===null)zp(s,a,h,go,u),yd(s,h);else if(Ap(g,s,a,u,h))h.stopPropagation();else if(yd(s,h),a&4&&-1<kp.indexOf(s)){for(;g!==null;){var y=xu(g);if(y!==null&&pd(y),y=Ea(s,a,u,h),y===null&&zp(s,a,h,go,u),y===g)break;g=y}g!==null&&h.stopPropagation()}else zp(s,a,h,null,u)}}var go=null;function Ea(s,a,u,h){if(go=null,s=ca(h),s=_o(s),s!==null)if(a=dr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=uo(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return go=s,null}function cu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ud()){case co:return 1;case Qi:return 4;case Qn:case ou:return 16;case cd:return 536870912;default:return 16}default:return 16}}var Vn=null,Ta=null,xn=null;function du(){if(xn)return xn;var s,a=Ta,u=a.length,h,g="value"in Vn?Vn.value:Vn.textContent,y=g.length;for(s=0;s<u&&a[s]===g[s];s++);var C=u-s;for(h=1;h<=C&&a[u-h]===g[y-h];h++);return xn=g.slice(s,1<h?1-h:void 0)}function xa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function zr(){return!0}function fu(){return!1}function Jt(s){function a(u,h,g,y,C){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(u=s[V],this[V]=u?u(y):y[V]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?zr:fu,this.isPropagationStopped=fu,this}return se(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),a}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Jt(vr),$r=se({},vr,{view:0,detail:0}),Pp=Jt($r),Ia,vi,is,vo=se({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==is&&(is&&s.type==="mousemove"?(Ia=s.screenX-is.screenX,vi=s.screenY-is.screenY):vi=Ia=0,is=s),Ia)},movementY:function(s){return"movementY"in s?s.movementY:vi}}),ba=Jt(vo),hu=se({},vo,{dataTransfer:0}),Ed=Jt(hu),Ca=se({},$r,{relatedTarget:0}),ka=Jt(Ca),Td=se({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),yi=Jt(Td),xd=se({},vr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Sd=Jt(xd),Id=se({},vr,{data:0}),pu=Jt(Id),Aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cd(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=bd[s])?!!a[s]:!1}function Br(){return Cd}var d=se({},$r,{key:function(s){if(s.key){var a=Aa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=xa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(s){return s.type==="keypress"?xa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?xa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Jt(d),E=se({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=Jt(E),q=se({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),Q=Jt(q),de=se({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ct=Jt(de),Ft=se({},vo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=Jt(Ft),qt=[9,13,27,32],Dt=c&&"CompositionEvent"in window,Xn=null;c&&"documentMode"in document&&(Xn=document.documentMode);var jn=c&&"TextEvent"in window&&!Xn,yo=c&&(!Dt||Xn&&8<Xn&&11>=Xn),Ra=" ",R_=!1;function P_(s,a){switch(s){case"keyup":return qt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Pa=!1;function mk(s,a){switch(s){case"compositionend":return N_(a);case"keypress":return a.which!==32?null:(R_=!0,Ra);case"textInput":return s=a.data,s===Ra&&R_?null:s;default:return null}}function gk(s,a){if(Pa)return s==="compositionend"||!Dt&&P_(s,a)?(s=du(),xn=Ta=Vn=null,Pa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return yo&&a.locale!=="ko"?null:a.data;default:return null}}var vk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!vk[s.type]:a==="textarea"}function O_(s,a,u,h){jr(h),a=Nd(a,"onChange"),0<a.length&&(u=new Sa("onChange","change",null,u,h),s.push({event:u,listeners:a}))}var mu=null,gu=null;function yk(s){X_(s,0)}function kd(s){var a=La(s);if(Ge(a))return s}function _k(s,a){if(s==="change")return a}var M_=!1;if(c){var Np;if(c){var Dp="oninput"in document;if(!Dp){var L_=document.createElement("div");L_.setAttribute("oninput","return;"),Dp=typeof L_.oninput=="function"}Np=Dp}else Np=!1;M_=Np&&(!document.documentMode||9<document.documentMode)}function V_(){mu&&(mu.detachEvent("onpropertychange",j_),gu=mu=null)}function j_(s){if(s.propertyName==="value"&&kd(gu)){var a=[];O_(a,gu,s,ca(s)),nu(yk,a)}}function wk(s,a,u){s==="focusin"?(V_(),mu=a,gu=u,mu.attachEvent("onpropertychange",j_)):s==="focusout"&&V_()}function Ek(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return kd(gu)}function Tk(s,a){if(s==="click")return kd(a)}function xk(s,a){if(s==="input"||s==="change")return kd(a)}function Sk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var yr=typeof Object.is=="function"?Object.is:Sk;function vu(s,a){if(yr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!f.call(a,g)||!yr(s[g],a[g]))return!1}return!0}function F_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function U_(s,a){var u=F_(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=a&&h>=a)return{node:u,offset:a-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=F_(u)}}function z_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?z_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function $_(){for(var s=window,a=kt();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=kt(s.document)}return a}function Op(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Ik(s){var a=$_(),u=s.focusedElem,h=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&z_(u.ownerDocument.documentElement,u)){if(h!==null&&Op(u)){if(a=h.start,s=h.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,y=Math.min(h.start,g);h=h.end===void 0?y:Math.min(h.end,g),!s.extend&&y>h&&(g=h,h=y,y=g),g=U_(u,y);var C=U_(u,h);g&&C&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),y>h?(s.addRange(a),s.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var bk=c&&"documentMode"in document&&11>=document.documentMode,Na=null,Mp=null,yu=null,Lp=!1;function B_(s,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Lp||Na==null||Na!==kt(h)||(h=Na,"selectionStart"in h&&Op(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),yu&&vu(yu,h)||(yu=h,h=Nd(Mp,"onSelect"),0<h.length&&(a=new Sa("onSelect","select",null,a,u),s.push({event:a,listeners:h}),a.target=Na)))}function Ad(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Da={animationend:Ad("Animation","AnimationEnd"),animationiteration:Ad("Animation","AnimationIteration"),animationstart:Ad("Animation","AnimationStart"),transitionend:Ad("Transition","TransitionEnd")},Vp={},W_={};c&&(W_=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Rd(s){if(Vp[s])return Vp[s];if(!Da[s])return s;var a=Da[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in W_)return Vp[s]=a[u];return s}var H_=Rd("animationend"),q_=Rd("animationiteration"),G_=Rd("animationstart"),K_=Rd("transitionend"),Y_=new Map,Q_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(s,a){Y_.set(s,a),o(a,[s])}for(var jp=0;jp<Q_.length;jp++){var Fp=Q_[jp],Ck=Fp.toLowerCase(),kk=Fp[0].toUpperCase()+Fp.slice(1);ss(Ck,"on"+kk)}ss(H_,"onAnimationEnd"),ss(q_,"onAnimationIteration"),ss(G_,"onAnimationStart"),ss("dblclick","onDoubleClick"),ss("focusin","onFocus"),ss("focusout","onBlur"),ss(K_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ak=new Set("cancel close invalid load scroll toggle".split(" ").concat(_u));function Z_(s,a,u){var h=s.type||"unknown-event";s.currentTarget=u,od(h,a,void 0,s),s.currentTarget=null}function X_(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],g=h.event;h=h.listeners;e:{var y=void 0;if(a)for(var C=h.length-1;0<=C;C--){var V=h[C],z=V.instance,Y=V.currentTarget;if(V=V.listener,z!==y&&g.isPropagationStopped())break e;Z_(g,V,Y),y=z}else for(C=0;C<h.length;C++){if(V=h[C],z=V.instance,Y=V.currentTarget,V=V.listener,z!==y&&g.isPropagationStopped())break e;Z_(g,V,Y),y=z}}}if(cr)throw s=ru,cr=!1,ru=null,s}function vt(s,a){var u=a[Gp];u===void 0&&(u=a[Gp]=new Set);var h=s+"__bubble";u.has(h)||(J_(a,s,2,!1),u.add(h))}function Up(s,a,u){var h=0;a&&(h|=4),J_(u,s,h,a)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function wu(s){if(!s[Pd]){s[Pd]=!0,r.forEach(function(u){u!=="selectionchange"&&(Ak.has(u)||Up(u,!1,s),Up(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Pd]||(a[Pd]=!0,Up("selectionchange",!1,a))}}function J_(s,a,u,h){switch(cu(a)){case 1:var g=wt;break;case 4:g=Rp;break;default:g=uu}u=g.bind(null,a,u,s),g=void 0,!ha||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,u,{capture:!0,passive:g}):s.addEventListener(a,u,!0):g!==void 0?s.addEventListener(a,u,{passive:g}):s.addEventListener(a,u,!1)}function zp(s,a,u,h,g){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var V=h.stateNode.containerInfo;if(V===g||V.nodeType===8&&V.parentNode===g)break;if(C===4)for(C=h.return;C!==null;){var z=C.tag;if((z===3||z===4)&&(z=C.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;C=C.return}for(;V!==null;){if(C=_o(V),C===null)return;if(z=C.tag,z===5||z===6){h=y=C;continue e}V=V.parentNode}}h=h.return}nu(function(){var Y=y,ie=ca(u),oe=[];e:{var re=Y_.get(s);if(re!==void 0){var pe=Sa,we=s;switch(s){case"keypress":if(xa(u)===0)break e;case"keydown":case"keyup":pe=v;break;case"focusin":we="focus",pe=ka;break;case"focusout":we="blur",pe=ka;break;case"beforeblur":case"afterblur":pe=ka;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Ed;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Q;break;case H_:case q_:case G_:pe=yi;break;case K_:pe=ct;break;case"scroll":pe=Pp;break;case"wheel":pe=tt;break;case"copy":case"cut":case"paste":pe=Sd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=R}var Ie=(a&4)!==0,Pt=!Ie&&s==="scroll",G=Ie?re!==null?re+"Capture":null:re;Ie=[];for(var B=Y,K;B!==null;){K=B;var ue=K.stateNode;if(K.tag===5&&ue!==null&&(K=ue,G!==null&&(ue=Rt(B,G),ue!=null&&Ie.push(Eu(B,ue,K)))),Pt)break;B=B.return}0<Ie.length&&(re=new pe(re,we,null,u,ie),oe.push({event:re,listeners:Ie}))}}if((a&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",re&&u!==so&&(we=u.relatedTarget||u.fromElement)&&(_o(we)||we[_i]))break e;if((pe||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,pe?(we=u.relatedTarget||u.toElement,pe=Y,we=we?_o(we):null,we!==null&&(Pt=dr(we),we!==Pt||we.tag!==5&&we.tag!==6)&&(we=null)):(pe=null,we=Y),pe!==we)){if(Ie=ba,ue="onMouseLeave",G="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=R,ue="onPointerLeave",G="onPointerEnter",B="pointer"),Pt=pe==null?re:La(pe),K=we==null?re:La(we),re=new Ie(ue,B+"leave",pe,u,ie),re.target=Pt,re.relatedTarget=K,ue=null,_o(ie)===Y&&(Ie=new Ie(G,B+"enter",we,u,ie),Ie.target=K,Ie.relatedTarget=Pt,ue=Ie),Pt=ue,pe&&we)t:{for(Ie=pe,G=we,B=0,K=Ie;K;K=Oa(K))B++;for(K=0,ue=G;ue;ue=Oa(ue))K++;for(;0<B-K;)Ie=Oa(Ie),B--;for(;0<K-B;)G=Oa(G),K--;for(;B--;){if(Ie===G||G!==null&&Ie===G.alternate)break t;Ie=Oa(Ie),G=Oa(G)}Ie=null}else Ie=null;pe!==null&&ew(oe,re,pe,Ie,!1),we!==null&&Pt!==null&&ew(oe,Pt,we,Ie,!0)}}e:{if(re=Y?La(Y):window,pe=re.nodeName&&re.nodeName.toLowerCase(),pe==="select"||pe==="input"&&re.type==="file")var Ce=_k;else if(D_(re))if(M_)Ce=xk;else{Ce=Ek;var Pe=wk}else(pe=re.nodeName)&&pe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ce=Tk);if(Ce&&(Ce=Ce(s,Y))){O_(oe,Ce,u,ie);break e}Pe&&Pe(s,re,Y),s==="focusout"&&(Pe=re._wrapperState)&&Pe.controlled&&re.type==="number"&&lr(re,"number",re.value)}switch(Pe=Y?La(Y):window,s){case"focusin":(D_(Pe)||Pe.contentEditable==="true")&&(Na=Pe,Mp=Y,yu=null);break;case"focusout":yu=Mp=Na=null;break;case"mousedown":Lp=!0;break;case"contextmenu":case"mouseup":case"dragend":Lp=!1,B_(oe,u,ie);break;case"selectionchange":if(bk)break;case"keydown":case"keyup":B_(oe,u,ie)}var Ne;if(Dt)e:{switch(s){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Pa?P_(s,u)&&(ze="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(ze="onCompositionStart");ze&&(yo&&u.locale!=="ko"&&(Pa||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Pa&&(Ne=du()):(Vn=ie,Ta="value"in Vn?Vn.value:Vn.textContent,Pa=!0)),Pe=Nd(Y,ze),0<Pe.length&&(ze=new pu(ze,s,null,u,ie),oe.push({event:ze,listeners:Pe}),Ne?ze.data=Ne:(Ne=N_(u),Ne!==null&&(ze.data=Ne)))),(Ne=jn?mk(s,u):gk(s,u))&&(Y=Nd(Y,"onBeforeInput"),0<Y.length&&(ie=new pu("onBeforeInput","beforeinput",null,u,ie),oe.push({event:ie,listeners:Y}),ie.data=Ne))}X_(oe,a)})}function Eu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Nd(s,a){for(var u=a+"Capture",h=[];s!==null;){var g=s,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=Rt(s,u),y!=null&&h.unshift(Eu(s,y,g)),y=Rt(s,a),y!=null&&h.push(Eu(s,y,g))),s=s.return}return h}function Oa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ew(s,a,u,h,g){for(var y=a._reactName,C=[];u!==null&&u!==h;){var V=u,z=V.alternate,Y=V.stateNode;if(z!==null&&z===h)break;V.tag===5&&Y!==null&&(V=Y,g?(z=Rt(u,y),z!=null&&C.unshift(Eu(u,z,V))):g||(z=Rt(u,y),z!=null&&C.push(Eu(u,z,V)))),u=u.return}C.length!==0&&s.push({event:a,listeners:C})}var Rk=/\r\n?/g,Pk=/\u0000|\uFFFD/g;function tw(s){return(typeof s=="string"?s:""+s).replace(Rk,`
`).replace(Pk,"")}function Dd(s,a,u){if(a=tw(a),tw(s)!==a&&u)throw Error(t(425))}function Od(){}var $p=null,Bp=null;function Wp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hp=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,nw=typeof Promise=="function"?Promise:void 0,Dk=typeof queueMicrotask=="function"?queueMicrotask:typeof nw<"u"?function(s){return nw.resolve(null).then(s).catch(Ok)}:Hp;function Ok(s){setTimeout(function(){throw s})}function qp(s,a){var u=a,h=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(h===0){s.removeChild(g),gr(a);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=g}while(u);gr(a)}function os(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function rw(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Ma,Tu="__reactProps$"+Ma,_i="__reactContainer$"+Ma,Gp="__reactEvents$"+Ma,Mk="__reactListeners$"+Ma,Lk="__reactHandles$"+Ma;function _o(s){var a=s[Wr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[_i]||u[Wr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=rw(s);s!==null;){if(u=s[Wr])return u;s=rw(s)}return a}s=u,u=s.parentNode}return null}function xu(s){return s=s[Wr]||s[_i],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function La(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Md(s){return s[Tu]||null}var Kp=[],Va=-1;function as(s){return{current:s}}function yt(s){0>Va||(s.current=Kp[Va],Kp[Va]=null,Va--)}function mt(s,a){Va++,Kp[Va]=s.current,s.current=a}var ls={},on=as(ls),Sn=as(!1),wo=ls;function ja(s,a){var u=s.type.contextTypes;if(!u)return ls;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in u)g[y]=a[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function In(s){return s=s.childContextTypes,s!=null}function Ld(){yt(Sn),yt(on)}function iw(s,a,u){if(on.current!==ls)throw Error(t(168));mt(on,a),mt(Sn,u)}function sw(s,a,u){var h=s.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var g in h)if(!(g in a))throw Error(t(108,ae(s)||"Unknown",g));return se({},u,h)}function Vd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ls,wo=on.current,mt(on,s),mt(Sn,Sn.current),!0}function ow(s,a,u){var h=s.stateNode;if(!h)throw Error(t(169));u?(s=sw(s,a,wo),h.__reactInternalMemoizedMergedChildContext=s,yt(Sn),yt(on),mt(on,s)):yt(Sn),mt(Sn,u)}var wi=null,jd=!1,Yp=!1;function aw(s){wi===null?wi=[s]:wi.push(s)}function Vk(s){jd=!0,aw(s)}function us(){if(!Yp&&wi!==null){Yp=!0;var s=0,a=et;try{var u=wi;for(et=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}wi=null,jd=!1}catch(g){throw wi!==null&&(wi=wi.slice(s+1)),va(co,us),g}finally{et=a,Yp=!1}}return null}var Fa=[],Ua=0,Fd=null,Ud=0,Jn=[],er=0,Eo=null,Ei=1,Ti="";function To(s,a){Fa[Ua++]=Ud,Fa[Ua++]=Fd,Fd=s,Ud=a}function lw(s,a,u){Jn[er++]=Ei,Jn[er++]=Ti,Jn[er++]=Eo,Eo=s;var h=Ei;s=Ti;var g=32-gn(h)-1;h&=~(1<<g),u+=1;var y=32-gn(a)+g;if(30<y){var C=g-g%5;y=(h&(1<<C)-1).toString(32),h>>=C,g-=C,Ei=1<<32-gn(a)+g|u<<g|h,Ti=y+s}else Ei=1<<y|u<<g|h,Ti=s}function Qp(s){s.return!==null&&(To(s,1),lw(s,1,0))}function Zp(s){for(;s===Fd;)Fd=Fa[--Ua],Fa[Ua]=null,Ud=Fa[--Ua],Fa[Ua]=null;for(;s===Eo;)Eo=Jn[--er],Jn[er]=null,Ti=Jn[--er],Jn[er]=null,Ei=Jn[--er],Jn[er]=null}var Fn=null,Un=null,Et=!1,_r=null;function uw(s,a){var u=ir(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function cw(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Fn=s,Un=os(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Fn=s,Un=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=Eo!==null?{id:Ei,overflow:Ti}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=ir(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Fn=s,Un=null,!0):!1;default:return!1}}function Xp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Jp(s){if(Et){var a=Un;if(a){var u=a;if(!cw(s,a)){if(Xp(s))throw Error(t(418));a=os(u.nextSibling);var h=Fn;a&&cw(s,a)?uw(h,u):(s.flags=s.flags&-4097|2,Et=!1,Fn=s)}}else{if(Xp(s))throw Error(t(418));s.flags=s.flags&-4097|2,Et=!1,Fn=s}}}function dw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Fn=s}function zd(s){if(s!==Fn)return!1;if(!Et)return dw(s),Et=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Wp(s.type,s.memoizedProps)),a&&(a=Un)){if(Xp(s))throw fw(),Error(t(418));for(;a;)uw(s,a),a=os(a.nextSibling)}if(dw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Un=os(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Un=null}}else Un=Fn?os(s.stateNode.nextSibling):null;return!0}function fw(){for(var s=Un;s;)s=os(s.nextSibling)}function za(){Un=Fn=null,Et=!1}function em(s){_r===null?_r=[s]:_r.push(s)}var jk=H.ReactCurrentBatchConfig;function Su(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,s));var g=h,y=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(C){var V=g.refs;C===null?delete V[y]:V[y]=C},a._stringRef=y,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function $d(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function hw(s){var a=s._init;return a(s._payload)}function pw(s){function a(G,B){if(s){var K=G.deletions;K===null?(G.deletions=[B],G.flags|=16):K.push(B)}}function u(G,B){if(!s)return null;for(;B!==null;)a(G,B),B=B.sibling;return null}function h(G,B){for(G=new Map;B!==null;)B.key!==null?G.set(B.key,B):G.set(B.index,B),B=B.sibling;return G}function g(G,B){return G=vs(G,B),G.index=0,G.sibling=null,G}function y(G,B,K){return G.index=K,s?(K=G.alternate,K!==null?(K=K.index,K<B?(G.flags|=2,B):K):(G.flags|=2,B)):(G.flags|=1048576,B)}function C(G){return s&&G.alternate===null&&(G.flags|=2),G}function V(G,B,K,ue){return B===null||B.tag!==6?(B=Hm(K,G.mode,ue),B.return=G,B):(B=g(B,K),B.return=G,B)}function z(G,B,K,ue){var Ce=K.type;return Ce===D?ie(G,B,K.props.children,ue,K.key):B!==null&&(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===_e&&hw(Ce)===B.type)?(ue=g(B,K.props),ue.ref=Su(G,B,K),ue.return=G,ue):(ue=hf(K.type,K.key,K.props,null,G.mode,ue),ue.ref=Su(G,B,K),ue.return=G,ue)}function Y(G,B,K,ue){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=qm(K,G.mode,ue),B.return=G,B):(B=g(B,K.children||[]),B.return=G,B)}function ie(G,B,K,ue,Ce){return B===null||B.tag!==7?(B=Ro(K,G.mode,ue,Ce),B.return=G,B):(B=g(B,K),B.return=G,B)}function oe(G,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Hm(""+B,G.mode,K),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Z:return K=hf(B.type,B.key,B.props,null,G.mode,K),K.ref=Su(G,null,B),K.return=G,K;case J:return B=qm(B,G.mode,K),B.return=G,B;case _e:var ue=B._init;return oe(G,ue(B._payload),K)}if(ci(B)||ce(B))return B=Ro(B,G.mode,K,null),B.return=G,B;$d(G,B)}return null}function re(G,B,K,ue){var Ce=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ce!==null?null:V(G,B,""+K,ue);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Z:return K.key===Ce?z(G,B,K,ue):null;case J:return K.key===Ce?Y(G,B,K,ue):null;case _e:return Ce=K._init,re(G,B,Ce(K._payload),ue)}if(ci(K)||ce(K))return Ce!==null?null:ie(G,B,K,ue,null);$d(G,K)}return null}function pe(G,B,K,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return G=G.get(K)||null,V(B,G,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Z:return G=G.get(ue.key===null?K:ue.key)||null,z(B,G,ue,Ce);case J:return G=G.get(ue.key===null?K:ue.key)||null,Y(B,G,ue,Ce);case _e:var Pe=ue._init;return pe(G,B,K,Pe(ue._payload),Ce)}if(ci(ue)||ce(ue))return G=G.get(K)||null,ie(B,G,ue,Ce,null);$d(B,ue)}return null}function we(G,B,K,ue){for(var Ce=null,Pe=null,Ne=B,ze=B=0,Yt=null;Ne!==null&&ze<K.length;ze++){Ne.index>ze?(Yt=Ne,Ne=null):Yt=Ne.sibling;var at=re(G,Ne,K[ze],ue);if(at===null){Ne===null&&(Ne=Yt);break}s&&Ne&&at.alternate===null&&a(G,Ne),B=y(at,B,ze),Pe===null?Ce=at:Pe.sibling=at,Pe=at,Ne=Yt}if(ze===K.length)return u(G,Ne),Et&&To(G,ze),Ce;if(Ne===null){for(;ze<K.length;ze++)Ne=oe(G,K[ze],ue),Ne!==null&&(B=y(Ne,B,ze),Pe===null?Ce=Ne:Pe.sibling=Ne,Pe=Ne);return Et&&To(G,ze),Ce}for(Ne=h(G,Ne);ze<K.length;ze++)Yt=pe(Ne,G,ze,K[ze],ue),Yt!==null&&(s&&Yt.alternate!==null&&Ne.delete(Yt.key===null?ze:Yt.key),B=y(Yt,B,ze),Pe===null?Ce=Yt:Pe.sibling=Yt,Pe=Yt);return s&&Ne.forEach(function(ys){return a(G,ys)}),Et&&To(G,ze),Ce}function Ie(G,B,K,ue){var Ce=ce(K);if(typeof Ce!="function")throw Error(t(150));if(K=Ce.call(K),K==null)throw Error(t(151));for(var Pe=Ce=null,Ne=B,ze=B=0,Yt=null,at=K.next();Ne!==null&&!at.done;ze++,at=K.next()){Ne.index>ze?(Yt=Ne,Ne=null):Yt=Ne.sibling;var ys=re(G,Ne,at.value,ue);if(ys===null){Ne===null&&(Ne=Yt);break}s&&Ne&&ys.alternate===null&&a(G,Ne),B=y(ys,B,ze),Pe===null?Ce=ys:Pe.sibling=ys,Pe=ys,Ne=Yt}if(at.done)return u(G,Ne),Et&&To(G,ze),Ce;if(Ne===null){for(;!at.done;ze++,at=K.next())at=oe(G,at.value,ue),at!==null&&(B=y(at,B,ze),Pe===null?Ce=at:Pe.sibling=at,Pe=at);return Et&&To(G,ze),Ce}for(Ne=h(G,Ne);!at.done;ze++,at=K.next())at=pe(Ne,G,ze,at.value,ue),at!==null&&(s&&at.alternate!==null&&Ne.delete(at.key===null?ze:at.key),B=y(at,B,ze),Pe===null?Ce=at:Pe.sibling=at,Pe=at);return s&&Ne.forEach(function(vA){return a(G,vA)}),Et&&To(G,ze),Ce}function Pt(G,B,K,ue){if(typeof K=="object"&&K!==null&&K.type===D&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Z:e:{for(var Ce=K.key,Pe=B;Pe!==null;){if(Pe.key===Ce){if(Ce=K.type,Ce===D){if(Pe.tag===7){u(G,Pe.sibling),B=g(Pe,K.props.children),B.return=G,G=B;break e}}else if(Pe.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===_e&&hw(Ce)===Pe.type){u(G,Pe.sibling),B=g(Pe,K.props),B.ref=Su(G,Pe,K),B.return=G,G=B;break e}u(G,Pe);break}else a(G,Pe);Pe=Pe.sibling}K.type===D?(B=Ro(K.props.children,G.mode,ue,K.key),B.return=G,G=B):(ue=hf(K.type,K.key,K.props,null,G.mode,ue),ue.ref=Su(G,B,K),ue.return=G,G=ue)}return C(G);case J:e:{for(Pe=K.key;B!==null;){if(B.key===Pe)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){u(G,B.sibling),B=g(B,K.children||[]),B.return=G,G=B;break e}else{u(G,B);break}else a(G,B);B=B.sibling}B=qm(K,G.mode,ue),B.return=G,G=B}return C(G);case _e:return Pe=K._init,Pt(G,B,Pe(K._payload),ue)}if(ci(K))return we(G,B,K,ue);if(ce(K))return Ie(G,B,K,ue);$d(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(u(G,B.sibling),B=g(B,K),B.return=G,G=B):(u(G,B),B=Hm(K,G.mode,ue),B.return=G,G=B),C(G)):u(G,B)}return Pt}var $a=pw(!0),mw=pw(!1),Bd=as(null),Wd=null,Ba=null,tm=null;function nm(){tm=Ba=Wd=null}function rm(s){var a=Bd.current;yt(Bd),s._currentValue=a}function im(s,a,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===u)break;s=s.return}}function Wa(s,a){Wd=s,tm=Ba=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(bn=!0),s.firstContext=null)}function tr(s){var a=s._currentValue;if(tm!==s)if(s={context:s,memoizedValue:a,next:null},Ba===null){if(Wd===null)throw Error(t(308));Ba=s,Wd.dependencies={lanes:0,firstContext:s}}else Ba=Ba.next=s;return a}var xo=null;function sm(s){xo===null?xo=[s]:xo.push(s)}function gw(s,a,u,h){var g=a.interleaved;return g===null?(u.next=u,sm(a)):(u.next=g.next,g.next=u),a.interleaved=u,xi(s,h)}function xi(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var cs=!1;function om(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vw(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Si(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function ds(s,a,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(it&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,xi(s,u)}return g=h.interleaved,g===null?(a.next=a,sm(h)):(a.next=g.next,g.next=a),h.interleaved=a,xi(s,u)}function Hd(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,es(s,u)}}function yw(s,a){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?g=y=C:y=y.next=C,u=u.next}while(u!==null);y===null?g=y=a:y=y.next=a}else g=y=a;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function qd(s,a,u,h){var g=s.updateQueue;cs=!1;var y=g.firstBaseUpdate,C=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var z=V,Y=z.next;z.next=null,C===null?y=Y:C.next=Y,C=z;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,V=ie.lastBaseUpdate,V!==C&&(V===null?ie.firstBaseUpdate=Y:V.next=Y,ie.lastBaseUpdate=z))}if(y!==null){var oe=g.baseState;C=0,ie=Y=z=null,V=y;do{var re=V.lane,pe=V.eventTime;if((h&re)===re){ie!==null&&(ie=ie.next={eventTime:pe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var we=s,Ie=V;switch(re=a,pe=u,Ie.tag){case 1:if(we=Ie.payload,typeof we=="function"){oe=we.call(pe,oe,re);break e}oe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ie.payload,re=typeof we=="function"?we.call(pe,oe,re):we,re==null)break e;oe=se({},oe,re);break e;case 2:cs=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,re=g.effects,re===null?g.effects=[V]:re.push(V))}else pe={eventTime:pe,lane:re,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ie===null?(Y=ie=pe,z=oe):ie=ie.next=pe,C|=re;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;re=V,V=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);if(ie===null&&(z=oe),g.baseState=z,g.firstBaseUpdate=Y,g.lastBaseUpdate=ie,a=g.shared.interleaved,a!==null){g=a;do C|=g.lane,g=g.next;while(g!==a)}else y===null&&(g.shared.lanes=0);bo|=C,s.lanes=C,s.memoizedState=oe}}function _w(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var h=s[a],g=h.callback;if(g!==null){if(h.callback=null,h=u,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var Iu={},Hr=as(Iu),bu=as(Iu),Cu=as(Iu);function So(s){if(s===Iu)throw Error(t(174));return s}function am(s,a){switch(mt(Cu,a),mt(bu,s),mt(Hr,Iu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:jt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=jt(a,s)}yt(Hr),mt(Hr,a)}function Ha(){yt(Hr),yt(bu),yt(Cu)}function ww(s){So(Cu.current);var a=So(Hr.current),u=jt(a,s.type);a!==u&&(mt(bu,s),mt(Hr,u))}function lm(s){bu.current===s&&(yt(Hr),yt(bu))}var Tt=as(0);function Gd(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var um=[];function cm(){for(var s=0;s<um.length;s++)um[s]._workInProgressVersionPrimary=null;um.length=0}var Kd=H.ReactCurrentDispatcher,dm=H.ReactCurrentBatchConfig,Io=0,xt=null,Ut=null,Gt=null,Yd=!1,ku=!1,Au=0,Fk=0;function an(){throw Error(t(321))}function fm(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!yr(s[u],a[u]))return!1;return!0}function hm(s,a,u,h,g,y){if(Io=y,xt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Kd.current=s===null||s.memoizedState===null?Bk:Wk,s=u(h,g),ku){y=0;do{if(ku=!1,Au=0,25<=y)throw Error(t(301));y+=1,Gt=Ut=null,a.updateQueue=null,Kd.current=Hk,s=u(h,g)}while(ku)}if(Kd.current=Xd,a=Ut!==null&&Ut.next!==null,Io=0,Gt=Ut=xt=null,Yd=!1,a)throw Error(t(300));return s}function pm(){var s=Au!==0;return Au=0,s}function qr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?xt.memoizedState=Gt=s:Gt=Gt.next=s,Gt}function nr(){if(Ut===null){var s=xt.alternate;s=s!==null?s.memoizedState:null}else s=Ut.next;var a=Gt===null?xt.memoizedState:Gt.next;if(a!==null)Gt=a,Ut=s;else{if(s===null)throw Error(t(310));Ut=s,s={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Gt===null?xt.memoizedState=Gt=s:Gt=Gt.next=s}return Gt}function Ru(s,a){return typeof a=="function"?a(s):a}function mm(s){var a=nr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=Ut,g=h.baseQueue,y=u.pending;if(y!==null){if(g!==null){var C=g.next;g.next=y.next,y.next=C}h.baseQueue=g=y,u.pending=null}if(g!==null){y=g.next,h=h.baseState;var V=C=null,z=null,Y=y;do{var ie=Y.lane;if((Io&ie)===ie)z!==null&&(z=z.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),h=Y.hasEagerState?Y.eagerState:s(h,Y.action);else{var oe={lane:ie,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};z===null?(V=z=oe,C=h):z=z.next=oe,xt.lanes|=ie,bo|=ie}Y=Y.next}while(Y!==null&&Y!==y);z===null?C=h:z.next=V,yr(h,a.memoizedState)||(bn=!0),a.memoizedState=h,a.baseState=C,a.baseQueue=z,u.lastRenderedState=h}if(s=u.interleaved,s!==null){g=s;do y=g.lane,xt.lanes|=y,bo|=y,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function gm(s){var a=nr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=u.dispatch,g=u.pending,y=a.memoizedState;if(g!==null){u.pending=null;var C=g=g.next;do y=s(y,C.action),C=C.next;while(C!==g);yr(y,a.memoizedState)||(bn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),u.lastRenderedState=y}return[y,h]}function Ew(){}function Tw(s,a){var u=xt,h=nr(),g=a(),y=!yr(h.memoizedState,g);if(y&&(h.memoizedState=g,bn=!0),h=h.queue,vm(Iw.bind(null,u,h,s),[s]),h.getSnapshot!==a||y||Gt!==null&&Gt.memoizedState.tag&1){if(u.flags|=2048,Pu(9,Sw.bind(null,u,h,g,a),void 0,null),Kt===null)throw Error(t(349));(Io&30)!==0||xw(u,a,g)}return g}function xw(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=xt.updateQueue,a===null?(a={lastEffect:null,stores:null},xt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Sw(s,a,u,h){a.value=u,a.getSnapshot=h,bw(a)&&Cw(s)}function Iw(s,a,u){return u(function(){bw(a)&&Cw(s)})}function bw(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!yr(s,u)}catch{return!0}}function Cw(s){var a=xi(s,1);a!==null&&xr(a,s,1,-1)}function kw(s){var a=qr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:s},a.queue=s,s=s.dispatch=$k.bind(null,xt,s),[a.memoizedState,s]}function Pu(s,a,u,h){return s={tag:s,create:a,destroy:u,deps:h,next:null},a=xt.updateQueue,a===null?(a={lastEffect:null,stores:null},xt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,a.lastEffect=s)),s}function Aw(){return nr().memoizedState}function Qd(s,a,u,h){var g=qr();xt.flags|=s,g.memoizedState=Pu(1|a,u,void 0,h===void 0?null:h)}function Zd(s,a,u,h){var g=nr();h=h===void 0?null:h;var y=void 0;if(Ut!==null){var C=Ut.memoizedState;if(y=C.destroy,h!==null&&fm(h,C.deps)){g.memoizedState=Pu(a,u,y,h);return}}xt.flags|=s,g.memoizedState=Pu(1|a,u,y,h)}function Rw(s,a){return Qd(8390656,8,s,a)}function vm(s,a){return Zd(2048,8,s,a)}function Pw(s,a){return Zd(4,2,s,a)}function Nw(s,a){return Zd(4,4,s,a)}function Dw(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Ow(s,a,u){return u=u!=null?u.concat([s]):null,Zd(4,4,Dw.bind(null,a,s),u)}function ym(){}function Mw(s,a){var u=nr();a=a===void 0?null:a;var h=u.memoizedState;return h!==null&&a!==null&&fm(a,h[1])?h[0]:(u.memoizedState=[s,a],s)}function Lw(s,a){var u=nr();a=a===void 0?null:a;var h=u.memoizedState;return h!==null&&a!==null&&fm(a,h[1])?h[0]:(s=s(),u.memoizedState=[s,a],s)}function Vw(s,a,u){return(Io&21)===0?(s.baseState&&(s.baseState=!1,bn=!0),s.memoizedState=u):(yr(u,a)||(u=po(),xt.lanes|=u,bo|=u,s.baseState=!0),a)}function Uk(s,a){var u=et;et=u!==0&&4>u?u:4,s(!0);var h=dm.transition;dm.transition={};try{s(!1),a()}finally{et=u,dm.transition=h}}function jw(){return nr().memoizedState}function zk(s,a,u){var h=ms(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Fw(s))Uw(a,u);else if(u=gw(s,a,u,h),u!==null){var g=_n();xr(u,s,h,g),zw(u,a,h)}}function $k(s,a,u){var h=ms(s),g={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Fw(s))Uw(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var C=a.lastRenderedState,V=y(C,u);if(g.hasEagerState=!0,g.eagerState=V,yr(V,C)){var z=a.interleaved;z===null?(g.next=g,sm(a)):(g.next=z.next,z.next=g),a.interleaved=g;return}}catch{}finally{}u=gw(s,a,g,h),u!==null&&(g=_n(),xr(u,s,h,g),zw(u,a,h))}}function Fw(s){var a=s.alternate;return s===xt||a!==null&&a===xt}function Uw(s,a){ku=Yd=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function zw(s,a,u){if((u&4194240)!==0){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,es(s,u)}}var Xd={readContext:tr,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},Bk={readContext:tr,useCallback:function(s,a){return qr().memoizedState=[s,a===void 0?null:a],s},useContext:tr,useEffect:Rw,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Qd(4194308,4,Dw.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Qd(4194308,4,s,a)},useInsertionEffect:function(s,a){return Qd(4,2,s,a)},useMemo:function(s,a){var u=qr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var h=qr();return a=u!==void 0?u(a):a,h.memoizedState=h.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},h.queue=s,s=s.dispatch=zk.bind(null,xt,s),[h.memoizedState,s]},useRef:function(s){var a=qr();return s={current:s},a.memoizedState=s},useState:kw,useDebugValue:ym,useDeferredValue:function(s){return qr().memoizedState=s},useTransition:function(){var s=kw(!1),a=s[0];return s=Uk.bind(null,s[1]),qr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var h=xt,g=qr();if(Et){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Kt===null)throw Error(t(349));(Io&30)!==0||xw(h,a,u)}g.memoizedState=u;var y={value:u,getSnapshot:a};return g.queue=y,Rw(Iw.bind(null,h,y,s),[s]),h.flags|=2048,Pu(9,Sw.bind(null,h,y,u,a),void 0,null),u},useId:function(){var s=qr(),a=Kt.identifierPrefix;if(Et){var u=Ti,h=Ei;u=(h&~(1<<32-gn(h)-1)).toString(32)+u,a=":"+a+"R"+u,u=Au++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=Fk++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},Wk={readContext:tr,useCallback:Mw,useContext:tr,useEffect:vm,useImperativeHandle:Ow,useInsertionEffect:Pw,useLayoutEffect:Nw,useMemo:Lw,useReducer:mm,useRef:Aw,useState:function(){return mm(Ru)},useDebugValue:ym,useDeferredValue:function(s){var a=nr();return Vw(a,Ut.memoizedState,s)},useTransition:function(){var s=mm(Ru)[0],a=nr().memoizedState;return[s,a]},useMutableSource:Ew,useSyncExternalStore:Tw,useId:jw,unstable_isNewReconciler:!1},Hk={readContext:tr,useCallback:Mw,useContext:tr,useEffect:vm,useImperativeHandle:Ow,useInsertionEffect:Pw,useLayoutEffect:Nw,useMemo:Lw,useReducer:gm,useRef:Aw,useState:function(){return gm(Ru)},useDebugValue:ym,useDeferredValue:function(s){var a=nr();return Ut===null?a.memoizedState=s:Vw(a,Ut.memoizedState,s)},useTransition:function(){var s=gm(Ru)[0],a=nr().memoizedState;return[s,a]},useMutableSource:Ew,useSyncExternalStore:Tw,useId:jw,unstable_isNewReconciler:!1};function wr(s,a){if(s&&s.defaultProps){a=se({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function _m(s,a,u,h){a=s.memoizedState,u=u(h,a),u=u==null?a:se({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Jd={isMounted:function(s){return(s=s._reactInternals)?dr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var h=_n(),g=ms(s),y=Si(h,g);y.payload=a,u!=null&&(y.callback=u),a=ds(s,y,g),a!==null&&(xr(a,s,g,h),Hd(a,s,g))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var h=_n(),g=ms(s),y=Si(h,g);y.tag=1,y.payload=a,u!=null&&(y.callback=u),a=ds(s,y,g),a!==null&&(xr(a,s,g,h),Hd(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=_n(),h=ms(s),g=Si(u,h);g.tag=2,a!=null&&(g.callback=a),a=ds(s,g,h),a!==null&&(xr(a,s,h,u),Hd(a,s,h))}};function $w(s,a,u,h,g,y,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,C):a.prototype&&a.prototype.isPureReactComponent?!vu(u,h)||!vu(g,y):!0}function Bw(s,a,u){var h=!1,g=ls,y=a.contextType;return typeof y=="object"&&y!==null?y=tr(y):(g=In(a)?wo:on.current,h=a.contextTypes,y=(h=h!=null)?ja(s,g):ls),a=new a(u,y),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Jd,s.stateNode=a,a._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=y),a}function Ww(s,a,u,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==s&&Jd.enqueueReplaceState(a,a.state,null)}function wm(s,a,u,h){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},om(s);var y=a.contextType;typeof y=="object"&&y!==null?g.context=tr(y):(y=In(a)?wo:on.current,g.context=ja(s,y)),g.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(_m(s,a,y,u),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Jd.enqueueReplaceState(g,g.state,null),qd(s,u,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function qa(s,a){try{var u="",h=a;do u+=De(h),h=h.return;while(h);var g=u}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:a,stack:g,digest:null}}function Em(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Tm(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var qk=typeof WeakMap=="function"?WeakMap:Map;function Hw(s,a,u){u=Si(-1,u),u.tag=3,u.payload={element:null};var h=a.value;return u.callback=function(){af||(af=!0,Vm=h),Tm(s,a)},u}function qw(s,a,u){u=Si(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=a.value;u.payload=function(){return h(g)},u.callback=function(){Tm(s,a)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Tm(s,a),typeof h!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),u}function Gw(s,a,u){var h=s.pingCache;if(h===null){h=s.pingCache=new qk;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(u)||(g.add(u),s=oA.bind(null,s,a,u),a.then(s,s))}function Kw(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Yw(s,a,u,h,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Si(-1,1),a.tag=2,ds(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var Gk=H.ReactCurrentOwner,bn=!1;function yn(s,a,u,h){a.child=s===null?mw(a,null,u,h):$a(a,s.child,u,h)}function Qw(s,a,u,h,g){u=u.render;var y=a.ref;return Wa(a,g),h=hm(s,a,u,h,y,g),u=pm(),s!==null&&!bn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ii(s,a,g)):(Et&&u&&Qp(a),a.flags|=1,yn(s,a,h,g),a.child)}function Zw(s,a,u,h,g){if(s===null){var y=u.type;return typeof y=="function"&&!Wm(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=y,Xw(s,a,y,h,g)):(s=hf(u.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,(s.lanes&g)===0){var C=y.memoizedProps;if(u=u.compare,u=u!==null?u:vu,u(C,h)&&s.ref===a.ref)return Ii(s,a,g)}return a.flags|=1,s=vs(y,h),s.ref=a.ref,s.return=a,a.child=s}function Xw(s,a,u,h,g){if(s!==null){var y=s.memoizedProps;if(vu(y,h)&&s.ref===a.ref)if(bn=!1,a.pendingProps=h=y,(s.lanes&g)!==0)(s.flags&131072)!==0&&(bn=!0);else return a.lanes=s.lanes,Ii(s,a,g)}return xm(s,a,u,h,g)}function Jw(s,a,u){var h=a.pendingProps,g=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Ka,zn),zn|=u;else{if((u&1073741824)===0)return s=y!==null?y.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,mt(Ka,zn),zn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:u,mt(Ka,zn),zn|=h}else y!==null?(h=y.baseLanes|u,a.memoizedState=null):h=u,mt(Ka,zn),zn|=h;return yn(s,a,g,u),a.child}function e0(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function xm(s,a,u,h,g){var y=In(u)?wo:on.current;return y=ja(a,y),Wa(a,g),u=hm(s,a,u,h,y,g),h=pm(),s!==null&&!bn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ii(s,a,g)):(Et&&h&&Qp(a),a.flags|=1,yn(s,a,u,g),a.child)}function t0(s,a,u,h,g){if(In(u)){var y=!0;Vd(a)}else y=!1;if(Wa(a,g),a.stateNode===null)tf(s,a),Bw(a,u,h),wm(a,u,h,g),h=!0;else if(s===null){var C=a.stateNode,V=a.memoizedProps;C.props=V;var z=C.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=tr(Y):(Y=In(u)?wo:on.current,Y=ja(a,Y));var ie=u.getDerivedStateFromProps,oe=typeof ie=="function"||typeof C.getSnapshotBeforeUpdate=="function";oe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(V!==h||z!==Y)&&Ww(a,C,h,Y),cs=!1;var re=a.memoizedState;C.state=re,qd(a,h,C,g),z=a.memoizedState,V!==h||re!==z||Sn.current||cs?(typeof ie=="function"&&(_m(a,u,ie,h),z=a.memoizedState),(V=cs||$w(a,u,V,h,re,z,Y))?(oe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=z),C.props=h,C.state=z,C.context=Y,h=V):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{C=a.stateNode,vw(s,a),V=a.memoizedProps,Y=a.type===a.elementType?V:wr(a.type,V),C.props=Y,oe=a.pendingProps,re=C.context,z=u.contextType,typeof z=="object"&&z!==null?z=tr(z):(z=In(u)?wo:on.current,z=ja(a,z));var pe=u.getDerivedStateFromProps;(ie=typeof pe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(V!==oe||re!==z)&&Ww(a,C,h,z),cs=!1,re=a.memoizedState,C.state=re,qd(a,h,C,g);var we=a.memoizedState;V!==oe||re!==we||Sn.current||cs?(typeof pe=="function"&&(_m(a,u,pe,h),we=a.memoizedState),(Y=cs||$w(a,u,Y,h,re,we,z)||!1)?(ie||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(h,we,z),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(h,we,z)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||V===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=we),C.props=h,C.state=we,C.context=z,h=Y):(typeof C.componentDidUpdate!="function"||V===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),h=!1)}return Sm(s,a,u,h,y,g)}function Sm(s,a,u,h,g,y){e0(s,a);var C=(a.flags&128)!==0;if(!h&&!C)return g&&ow(a,u,!1),Ii(s,a,y);h=a.stateNode,Gk.current=a;var V=C&&typeof u.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,s!==null&&C?(a.child=$a(a,s.child,null,y),a.child=$a(a,null,V,y)):yn(s,a,V,y),a.memoizedState=h.state,g&&ow(a,u,!0),a.child}function n0(s){var a=s.stateNode;a.pendingContext?iw(s,a.pendingContext,a.pendingContext!==a.context):a.context&&iw(s,a.context,!1),am(s,a.containerInfo)}function r0(s,a,u,h,g){return za(),em(g),a.flags|=256,yn(s,a,u,h),a.child}var Im={dehydrated:null,treeContext:null,retryLane:0};function bm(s){return{baseLanes:s,cachePool:null,transitions:null}}function i0(s,a,u){var h=a.pendingProps,g=Tt.current,y=!1,C=(a.flags&128)!==0,V;if((V=C)||(V=s!==null&&s.memoizedState===null?!1:(g&2)!==0),V?(y=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),mt(Tt,g&1),s===null)return Jp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(C=h.children,s=h.fallback,y?(h=a.mode,y=a.child,C={mode:"hidden",children:C},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=C):y=pf(C,h,0,null),s=Ro(s,h,u,null),y.return=a,s.return=a,y.sibling=s,a.child=y,a.child.memoizedState=bm(u),a.memoizedState=Im,s):Cm(a,C));if(g=s.memoizedState,g!==null&&(V=g.dehydrated,V!==null))return Kk(s,a,C,h,V,g,u);if(y){y=h.fallback,C=a.mode,g=s.child,V=g.sibling;var z={mode:"hidden",children:h.children};return(C&1)===0&&a.child!==g?(h=a.child,h.childLanes=0,h.pendingProps=z,a.deletions=null):(h=vs(g,z),h.subtreeFlags=g.subtreeFlags&14680064),V!==null?y=vs(V,y):(y=Ro(y,C,u,null),y.flags|=2),y.return=a,h.return=a,h.sibling=y,a.child=h,h=y,y=a.child,C=s.child.memoizedState,C=C===null?bm(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},y.memoizedState=C,y.childLanes=s.childLanes&~u,a.memoizedState=Im,h}return y=s.child,s=y.sibling,h=vs(y,{mode:"visible",children:h.children}),(a.mode&1)===0&&(h.lanes=u),h.return=a,h.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=h,a.memoizedState=null,h}function Cm(s,a){return a=pf({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function ef(s,a,u,h){return h!==null&&em(h),$a(a,s.child,null,u),s=Cm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Kk(s,a,u,h,g,y,C){if(u)return a.flags&256?(a.flags&=-257,h=Em(Error(t(422))),ef(s,a,C,h)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(y=h.fallback,g=a.mode,h=pf({mode:"visible",children:h.children},g,0,null),y=Ro(y,g,C,null),y.flags|=2,h.return=a,y.return=a,h.sibling=y,a.child=h,(a.mode&1)!==0&&$a(a,s.child,null,C),a.child.memoizedState=bm(C),a.memoizedState=Im,y);if((a.mode&1)===0)return ef(s,a,C,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var V=h.dgst;return h=V,y=Error(t(419)),h=Em(y,h,void 0),ef(s,a,C,h)}if(V=(C&s.childLanes)!==0,bn||V){if(h=Kt,h!==null){switch(C&-C){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|C))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,xi(s,g),xr(h,s,g,-1))}return Bm(),h=Em(Error(t(421))),ef(s,a,C,h)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=aA.bind(null,s),g._reactRetry=a,null):(s=y.treeContext,Un=os(g.nextSibling),Fn=a,Et=!0,_r=null,s!==null&&(Jn[er++]=Ei,Jn[er++]=Ti,Jn[er++]=Eo,Ei=s.id,Ti=s.overflow,Eo=a),a=Cm(a,h.children),a.flags|=4096,a)}function s0(s,a,u){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),im(s.return,a,u)}function km(s,a,u,h,g){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=u,y.tailMode=g)}function o0(s,a,u){var h=a.pendingProps,g=h.revealOrder,y=h.tail;if(yn(s,a,h.children,u),h=Tt.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&s0(s,u,a);else if(s.tag===19)s0(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(mt(Tt,h),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)s=u.alternate,s!==null&&Gd(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),km(a,!1,g,u,y);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Gd(s)===null){a.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}km(a,!0,u,null,y);break;case"together":km(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function tf(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ii(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),bo|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=vs(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=vs(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function Yk(s,a,u){switch(a.tag){case 3:n0(a),za();break;case 5:ww(a);break;case 1:In(a.type)&&Vd(a);break;case 4:am(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,g=a.memoizedProps.value;mt(Bd,h._currentValue),h._currentValue=g;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(mt(Tt,Tt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?i0(s,a,u):(mt(Tt,Tt.current&1),s=Ii(s,a,u),s!==null?s.sibling:null);mt(Tt,Tt.current&1);break;case 19:if(h=(u&a.childLanes)!==0,(s.flags&128)!==0){if(h)return o0(s,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),mt(Tt,Tt.current),h)break;return null;case 22:case 23:return a.lanes=0,Jw(s,a,u)}return Ii(s,a,u)}var a0,Am,l0,u0;a0=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Am=function(){},l0=function(s,a,u,h){var g=s.memoizedProps;if(g!==h){s=a.stateNode,So(Hr.current);var y=null;switch(u){case"input":g=Ht(s,g),h=Ht(s,h),y=[];break;case"select":g=se({},g,{value:void 0}),h=se({},h,{value:void 0}),y=[];break;case"textarea":g=ql(s,g),h=ql(s,h),y=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Od)}Xl(u,h);var C;u=null;for(Y in g)if(!h.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var V=g[Y];for(C in V)V.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?y||(y=[]):(y=y||[]).push(Y,null));for(Y in h){var z=h[Y];if(V=g!=null?g[Y]:void 0,h.hasOwnProperty(Y)&&z!==V&&(z!=null||V!=null))if(Y==="style")if(V){for(C in V)!V.hasOwnProperty(C)||z&&z.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in z)z.hasOwnProperty(C)&&V[C]!==z[C]&&(u||(u={}),u[C]=z[C])}else u||(y||(y=[]),y.push(Y,u)),u=z;else Y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,V=V?V.__html:void 0,z!=null&&V!==z&&(y=y||[]).push(Y,z)):Y==="children"?typeof z!="string"&&typeof z!="number"||(y=y||[]).push(Y,""+z):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(z!=null&&Y==="onScroll"&&vt("scroll",s),y||V===z||(y=[])):(y=y||[]).push(Y,z))}u&&(y=y||[]).push("style",u);var Y=y;(a.updateQueue=Y)&&(a.flags|=4)}},u0=function(s,a,u,h){u!==h&&(a.flags|=4)};function Nu(s,a){if(!Et)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function ln(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(a)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=u,a}function Qk(s,a,u){var h=a.pendingProps;switch(Zp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(a),null;case 1:return In(a.type)&&Ld(),ln(a),null;case 3:return h=a.stateNode,Ha(),yt(Sn),yt(on),cm(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(zd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_r!==null&&(Um(_r),_r=null))),Am(s,a),ln(a),null;case 5:lm(a);var g=So(Cu.current);if(u=a.type,s!==null&&a.stateNode!=null)l0(s,a,u,h,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(t(166));return ln(a),null}if(s=So(Hr.current),zd(a)){h=a.stateNode,u=a.type;var y=a.memoizedProps;switch(h[Wr]=a,h[Tu]=y,s=(a.mode&1)!==0,u){case"dialog":vt("cancel",h),vt("close",h);break;case"iframe":case"object":case"embed":vt("load",h);break;case"video":case"audio":for(g=0;g<_u.length;g++)vt(_u[g],h);break;case"source":vt("error",h);break;case"img":case"image":case"link":vt("error",h),vt("load",h);break;case"details":vt("toggle",h);break;case"input":Kn(h,y),vt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},vt("invalid",h);break;case"textarea":la(h,y),vt("invalid",h)}Xl(u,y),g=null;for(var C in y)if(y.hasOwnProperty(C)){var V=y[C];C==="children"?typeof V=="string"?h.textContent!==V&&(y.suppressHydrationWarning!==!0&&Dd(h.textContent,V,s),g=["children",V]):typeof V=="number"&&h.textContent!==""+V&&(y.suppressHydrationWarning!==!0&&Dd(h.textContent,V,s),g=["children",""+V]):i.hasOwnProperty(C)&&V!=null&&C==="onScroll"&&vt("scroll",h)}switch(u){case"input":He(h),aa(h,y,!0);break;case"textarea":He(h),Gl(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Od)}h=g,a.updateQueue=h,h!==null&&(a.flags|=4)}else{C=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Vt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=C.createElement(u,{is:h.is}):(s=C.createElement(u),u==="select"&&(C=s,h.multiple?C.multiple=!0:h.size&&(C.size=h.size))):s=C.createElementNS(s,u),s[Wr]=a,s[Tu]=h,a0(s,a,!1,!1),a.stateNode=s;e:{switch(C=Jl(u,h),u){case"dialog":vt("cancel",s),vt("close",s),g=h;break;case"iframe":case"object":case"embed":vt("load",s),g=h;break;case"video":case"audio":for(g=0;g<_u.length;g++)vt(_u[g],s);g=h;break;case"source":vt("error",s),g=h;break;case"img":case"image":case"link":vt("error",s),vt("load",s),g=h;break;case"details":vt("toggle",s),g=h;break;case"input":Kn(s,h),g=Ht(s,h),vt("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=se({},h,{value:void 0}),vt("invalid",s);break;case"textarea":la(s,h),g=ql(s,h),vt("invalid",s);break;default:g=h}Xl(u,g),V=g;for(y in V)if(V.hasOwnProperty(y)){var z=V[y];y==="style"?Ql(s,z):y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Kl(s,z)):y==="children"?typeof z=="string"?(u!=="textarea"||z!=="")&&Yi(s,z):typeof z=="number"&&Yi(s,""+z):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?z!=null&&y==="onScroll"&&vt("scroll",s):z!=null&&L(s,y,z,C))}switch(u){case"input":He(s),aa(s,h,!1);break;case"textarea":He(s),Gl(s);break;case"option":h.value!=null&&s.setAttribute("value",""+be(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?di(s,!!h.multiple,y,!1):h.defaultValue!=null&&di(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Od)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return ln(a),null;case 6:if(s&&a.stateNode!=null)u0(s,a,s.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(t(166));if(u=So(Cu.current),So(Hr.current),zd(a)){if(h=a.stateNode,u=a.memoizedProps,h[Wr]=a,(y=h.nodeValue!==u)&&(s=Fn,s!==null))switch(s.tag){case 3:Dd(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Dd(h.nodeValue,u,(s.mode&1)!==0)}y&&(a.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Wr]=a,a.stateNode=h}return ln(a),null;case 13:if(yt(Tt),h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Et&&Un!==null&&(a.mode&1)!==0&&(a.flags&128)===0)fw(),za(),a.flags|=98560,y=!1;else if(y=zd(a),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Wr]=a}else za(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ln(a),y=!1}else _r!==null&&(Um(_r),_r=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Tt.current&1)!==0?zt===0&&(zt=3):Bm())),a.updateQueue!==null&&(a.flags|=4),ln(a),null);case 4:return Ha(),Am(s,a),s===null&&wu(a.stateNode.containerInfo),ln(a),null;case 10:return rm(a.type._context),ln(a),null;case 17:return In(a.type)&&Ld(),ln(a),null;case 19:if(yt(Tt),y=a.memoizedState,y===null)return ln(a),null;if(h=(a.flags&128)!==0,C=y.rendering,C===null)if(h)Nu(y,!1);else{if(zt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(C=Gd(s),C!==null){for(a.flags|=128,Nu(y,!1),h=C.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=u,u=a.child;u!==null;)y=u,s=h,y.flags&=14680066,C=y.alternate,C===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=C.childLanes,y.lanes=C.lanes,y.child=C.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=C.memoizedProps,y.memoizedState=C.memoizedState,y.updateQueue=C.updateQueue,y.type=C.type,s=C.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return mt(Tt,Tt.current&1|2),a.child}s=s.sibling}y.tail!==null&&pt()>Ya&&(a.flags|=128,h=!0,Nu(y,!1),a.lanes=4194304)}else{if(!h)if(s=Gd(C),s!==null){if(a.flags|=128,h=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Nu(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!Et)return ln(a),null}else 2*pt()-y.renderingStartTime>Ya&&u!==1073741824&&(a.flags|=128,h=!0,Nu(y,!1),a.lanes=4194304);y.isBackwards?(C.sibling=a.child,a.child=C):(u=y.last,u!==null?u.sibling=C:a.child=C,y.last=C)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=pt(),a.sibling=null,u=Tt.current,mt(Tt,h?u&1|2:u&1),a):(ln(a),null);case 22:case 23:return $m(),h=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(a.flags|=8192),h&&(a.mode&1)!==0?(zn&1073741824)!==0&&(ln(a),a.subtreeFlags&6&&(a.flags|=8192)):ln(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function Zk(s,a){switch(Zp(a),a.tag){case 1:return In(a.type)&&Ld(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ha(),yt(Sn),yt(on),cm(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return lm(a),null;case 13:if(yt(Tt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));za()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return yt(Tt),null;case 4:return Ha(),null;case 10:return rm(a.type._context),null;case 22:case 23:return $m(),null;case 24:return null;default:return null}}var nf=!1,un=!1,Xk=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Ga(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){At(s,a,h)}else u.current=null}function Rm(s,a,u){try{u()}catch(h){At(s,a,h)}}var c0=!1;function Jk(s,a){if($p=rs,s=$_(),Op(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var C=0,V=-1,z=-1,Y=0,ie=0,oe=s,re=null;t:for(;;){for(var pe;oe!==u||g!==0&&oe.nodeType!==3||(V=C+g),oe!==y||h!==0&&oe.nodeType!==3||(z=C+h),oe.nodeType===3&&(C+=oe.nodeValue.length),(pe=oe.firstChild)!==null;)re=oe,oe=pe;for(;;){if(oe===s)break t;if(re===u&&++Y===g&&(V=C),re===y&&++ie===h&&(z=C),(pe=oe.nextSibling)!==null)break;oe=re,re=oe.parentNode}oe=pe}u=V===-1||z===-1?null:{start:V,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(Bp={focusedElem:s,selectionRange:u},rs=!1,ve=a;ve!==null;)if(a=ve,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ve=s;else for(;ve!==null;){a=ve;try{var we=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Ie=we.memoizedProps,Pt=we.memoizedState,G=a.stateNode,B=G.getSnapshotBeforeUpdate(a.elementType===a.type?Ie:wr(a.type,Ie),Pt);G.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){At(a,a.return,ue)}if(s=a.sibling,s!==null){s.return=a.return,ve=s;break}ve=a.return}return we=c0,c0=!1,we}function Du(s,a,u){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var y=g.destroy;g.destroy=void 0,y!==void 0&&Rm(a,u,y)}g=g.next}while(g!==h)}}function rf(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==a)}}function Pm(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function d0(s){var a=s.alternate;a!==null&&(s.alternate=null,d0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Wr],delete a[Tu],delete a[Gp],delete a[Mk],delete a[Lk])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function f0(s){return s.tag===5||s.tag===3||s.tag===4}function h0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||f0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Nm(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Od));else if(h!==4&&(s=s.child,s!==null))for(Nm(s,a,u),s=s.sibling;s!==null;)Nm(s,a,u),s=s.sibling}function Dm(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Dm(s,a,u),s=s.sibling;s!==null;)Dm(s,a,u),s=s.sibling}var en=null,Er=!1;function fs(s,a,u){for(u=u.child;u!==null;)p0(s,a,u),u=u.sibling}function p0(s,a,u){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(fo,u)}catch{}switch(u.tag){case 5:un||Ga(u,a);case 6:var h=en,g=Er;en=null,fs(s,a,u),en=h,Er=g,en!==null&&(Er?(s=en,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):en.removeChild(u.stateNode));break;case 18:en!==null&&(Er?(s=en,u=u.stateNode,s.nodeType===8?qp(s.parentNode,u):s.nodeType===1&&qp(s,u),gr(s)):qp(en,u.stateNode));break;case 4:h=en,g=Er,en=u.stateNode.containerInfo,Er=!0,fs(s,a,u),en=h,Er=g;break;case 0:case 11:case 14:case 15:if(!un&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var y=g,C=y.destroy;y=y.tag,C!==void 0&&((y&2)!==0||(y&4)!==0)&&Rm(u,a,C),g=g.next}while(g!==h)}fs(s,a,u);break;case 1:if(!un&&(Ga(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(V){At(u,a,V)}fs(s,a,u);break;case 21:fs(s,a,u);break;case 22:u.mode&1?(un=(h=un)||u.memoizedState!==null,fs(s,a,u),un=h):fs(s,a,u);break;default:fs(s,a,u)}}function m0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new Xk),a.forEach(function(h){var g=lA.bind(null,s,h);u.has(h)||(u.add(h),h.then(g,g))})}}function Tr(s,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];try{var y=s,C=a,V=C;e:for(;V!==null;){switch(V.tag){case 5:en=V.stateNode,Er=!1;break e;case 3:en=V.stateNode.containerInfo,Er=!0;break e;case 4:en=V.stateNode.containerInfo,Er=!0;break e}V=V.return}if(en===null)throw Error(t(160));p0(y,C,g),en=null,Er=!1;var z=g.alternate;z!==null&&(z.return=null),g.return=null}catch(Y){At(g,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)g0(a,s),a=a.sibling}function g0(s,a){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Tr(a,s),Gr(s),h&4){try{Du(3,s,s.return),rf(3,s)}catch(Ie){At(s,s.return,Ie)}try{Du(5,s,s.return)}catch(Ie){At(s,s.return,Ie)}}break;case 1:Tr(a,s),Gr(s),h&512&&u!==null&&Ga(u,u.return);break;case 5:if(Tr(a,s),Gr(s),h&512&&u!==null&&Ga(u,u.return),s.flags&32){var g=s.stateNode;try{Yi(g,"")}catch(Ie){At(s,s.return,Ie)}}if(h&4&&(g=s.stateNode,g!=null)){var y=s.memoizedProps,C=u!==null?u.memoizedProps:y,V=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{V==="input"&&y.type==="radio"&&y.name!=null&&or(g,y),Jl(V,C);var Y=Jl(V,y);for(C=0;C<z.length;C+=2){var ie=z[C],oe=z[C+1];ie==="style"?Ql(g,oe):ie==="dangerouslySetInnerHTML"?Kl(g,oe):ie==="children"?Yi(g,oe):L(g,ie,oe,Y)}switch(V){case"input":ar(g,y);break;case"textarea":ua(g,y);break;case"select":var re=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var pe=y.value;pe!=null?di(g,!!y.multiple,pe,!1):re!==!!y.multiple&&(y.defaultValue!=null?di(g,!!y.multiple,y.defaultValue,!0):di(g,!!y.multiple,y.multiple?[]:"",!1))}g[Tu]=y}catch(Ie){At(s,s.return,Ie)}}break;case 6:if(Tr(a,s),Gr(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,y=s.memoizedProps;try{g.nodeValue=y}catch(Ie){At(s,s.return,Ie)}}break;case 3:if(Tr(a,s),Gr(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{gr(a.containerInfo)}catch(Ie){At(s,s.return,Ie)}break;case 4:Tr(a,s),Gr(s);break;case 13:Tr(a,s),Gr(s),g=s.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(Lm=pt())),h&4&&m0(s);break;case 22:if(ie=u!==null&&u.memoizedState!==null,s.mode&1?(un=(Y=un)||ie,Tr(a,s),un=Y):Tr(a,s),Gr(s),h&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!ie&&(s.mode&1)!==0)for(ve=s,ie=s.child;ie!==null;){for(oe=ve=ie;ve!==null;){switch(re=ve,pe=re.child,re.tag){case 0:case 11:case 14:case 15:Du(4,re,re.return);break;case 1:Ga(re,re.return);var we=re.stateNode;if(typeof we.componentWillUnmount=="function"){h=re,u=re.return;try{a=h,we.props=a.memoizedProps,we.state=a.memoizedState,we.componentWillUnmount()}catch(Ie){At(h,u,Ie)}}break;case 5:Ga(re,re.return);break;case 22:if(re.memoizedState!==null){_0(oe);continue}}pe!==null?(pe.return=re,ve=pe):_0(oe)}ie=ie.sibling}e:for(ie=null,oe=s;;){if(oe.tag===5){if(ie===null){ie=oe;try{g=oe.stateNode,Y?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(V=oe.stateNode,z=oe.memoizedProps.style,C=z!=null&&z.hasOwnProperty("display")?z.display:null,V.style.display=Yl("display",C))}catch(Ie){At(s,s.return,Ie)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=Y?"":oe.memoizedProps}catch(Ie){At(s,s.return,Ie)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===s)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===s)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===s)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Tr(a,s),Gr(s),h&4&&m0(s);break;case 21:break;default:Tr(a,s),Gr(s)}}function Gr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(f0(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Yi(g,""),h.flags&=-33);var y=h0(s);Dm(s,y,g);break;case 3:case 4:var C=h.stateNode.containerInfo,V=h0(s);Nm(s,V,C);break;default:throw Error(t(161))}}catch(z){At(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function eA(s,a,u){ve=s,v0(s)}function v0(s,a,u){for(var h=(s.mode&1)!==0;ve!==null;){var g=ve,y=g.child;if(g.tag===22&&h){var C=g.memoizedState!==null||nf;if(!C){var V=g.alternate,z=V!==null&&V.memoizedState!==null||un;V=nf;var Y=un;if(nf=C,(un=z)&&!Y)for(ve=g;ve!==null;)C=ve,z=C.child,C.tag===22&&C.memoizedState!==null?w0(g):z!==null?(z.return=C,ve=z):w0(g);for(;y!==null;)ve=y,v0(y),y=y.sibling;ve=g,nf=V,un=Y}y0(s)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,ve=y):y0(s)}}function y0(s){for(;ve!==null;){var a=ve;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:un||rf(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!un)if(u===null)h.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:wr(a.type,u.memoizedProps);h.componentDidUpdate(g,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&_w(a,y,h);break;case 3:var C=a.updateQueue;if(C!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}_w(a,C,u)}break;case 5:var V=a.stateNode;if(u===null&&a.flags&4){u=V;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&u.focus();break;case"img":z.src&&(u.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var ie=Y.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&gr(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}un||a.flags&512&&Pm(a)}catch(re){At(a,a.return,re)}}if(a===s){ve=null;break}if(u=a.sibling,u!==null){u.return=a.return,ve=u;break}ve=a.return}}function _0(s){for(;ve!==null;){var a=ve;if(a===s){ve=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ve=u;break}ve=a.return}}function w0(s){for(;ve!==null;){var a=ve;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{rf(4,a)}catch(z){At(a,u,z)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var g=a.return;try{h.componentDidMount()}catch(z){At(a,g,z)}}var y=a.return;try{Pm(a)}catch(z){At(a,y,z)}break;case 5:var C=a.return;try{Pm(a)}catch(z){At(a,C,z)}}}catch(z){At(a,a.return,z)}if(a===s){ve=null;break}var V=a.sibling;if(V!==null){V.return=a.return,ve=V;break}ve=a.return}}var tA=Math.ceil,sf=H.ReactCurrentDispatcher,Om=H.ReactCurrentOwner,rr=H.ReactCurrentBatchConfig,it=0,Kt=null,Ot=null,tn=0,zn=0,Ka=as(0),zt=0,Ou=null,bo=0,of=0,Mm=0,Mu=null,Cn=null,Lm=0,Ya=1/0,bi=null,af=!1,Vm=null,hs=null,lf=!1,ps=null,uf=0,Lu=0,jm=null,cf=-1,df=0;function _n(){return(it&6)!==0?pt():cf!==-1?cf:cf=pt()}function ms(s){return(s.mode&1)===0?1:(it&2)!==0&&tn!==0?tn&-tn:jk.transition!==null?(df===0&&(df=po()),df):(s=et,s!==0||(s=window.event,s=s===void 0?16:cu(s.type)),s)}function xr(s,a,u,h){if(50<Lu)throw Lu=0,jm=null,Error(t(185));Ji(s,u,h),((it&2)===0||s!==Kt)&&(s===Kt&&((it&2)===0&&(of|=u),zt===4&&gs(s,tn)),kn(s,h),u===1&&it===0&&(a.mode&1)===0&&(Ya=pt()+500,jd&&us()))}function kn(s,a){var u=s.callbackNode;pi(s,a);var h=ho(s,s===Kt?tn:0);if(h===0)u!==null&&su(u),s.callbackNode=null,s.callbackPriority=0;else if(a=h&-h,s.callbackPriority!==a){if(u!=null&&su(u),a===1)s.tag===0?Vk(T0.bind(null,s)):aw(T0.bind(null,s)),Dk(function(){(it&6)===0&&us()}),u=null;else{switch(ts(h)){case 1:u=co;break;case 4:u=Qi;break;case 16:u=Qn;break;case 536870912:u=cd;break;default:u=Qn}u=R0(u,E0.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function E0(s,a){if(cf=-1,df=0,(it&6)!==0)throw Error(t(327));var u=s.callbackNode;if(Qa()&&s.callbackNode!==u)return null;var h=ho(s,s===Kt?tn:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||a)a=ff(s,h);else{a=h;var g=it;it|=2;var y=S0();(Kt!==s||tn!==a)&&(bi=null,Ya=pt()+500,ko(s,a));do try{iA();break}catch(V){x0(s,V)}while(!0);nm(),sf.current=y,it=g,Ot!==null?a=0:(Kt=null,tn=0,a=zt)}if(a!==0){if(a===2&&(g=Ln(s),g!==0&&(h=g,a=Fm(s,g))),a===1)throw u=Ou,ko(s,0),gs(s,h),kn(s,pt()),u;if(a===6)gs(s,h);else{if(g=s.current.alternate,(h&30)===0&&!nA(g)&&(a=ff(s,h),a===2&&(y=Ln(s),y!==0&&(h=y,a=Fm(s,y))),a===1))throw u=Ou,ko(s,0),gs(s,h),kn(s,pt()),u;switch(s.finishedWork=g,s.finishedLanes=h,a){case 0:case 1:throw Error(t(345));case 2:Ao(s,Cn,bi);break;case 3:if(gs(s,h),(h&130023424)===h&&(a=Lm+500-pt(),10<a)){if(ho(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){_n(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Hp(Ao.bind(null,s,Cn,bi),a);break}Ao(s,Cn,bi);break;case 4:if(gs(s,h),(h&4194240)===h)break;for(a=s.eventTimes,g=-1;0<h;){var C=31-gn(h);y=1<<C,C=a[C],C>g&&(g=C),h&=~y}if(h=g,h=pt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*tA(h/1960))-h,10<h){s.timeoutHandle=Hp(Ao.bind(null,s,Cn,bi),h);break}Ao(s,Cn,bi);break;case 5:Ao(s,Cn,bi);break;default:throw Error(t(329))}}}return kn(s,pt()),s.callbackNode===u?E0.bind(null,s):null}function Fm(s,a){var u=Mu;return s.current.memoizedState.isDehydrated&&(ko(s,a).flags|=256),s=ff(s,a),s!==2&&(a=Cn,Cn=u,a!==null&&Um(a)),s}function Um(s){Cn===null?Cn=s:Cn.push.apply(Cn,s)}function nA(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var g=u[h],y=g.getSnapshot;g=g.value;try{if(!yr(y(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function gs(s,a){for(a&=~Mm,a&=~of,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-gn(a),h=1<<u;s[u]=-1,a&=~h}}function T0(s){if((it&6)!==0)throw Error(t(327));Qa();var a=ho(s,0);if((a&1)===0)return kn(s,pt()),null;var u=ff(s,a);if(s.tag!==0&&u===2){var h=Ln(s);h!==0&&(a=h,u=Fm(s,h))}if(u===1)throw u=Ou,ko(s,0),gs(s,a),kn(s,pt()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ao(s,Cn,bi),kn(s,pt()),null}function zm(s,a){var u=it;it|=1;try{return s(a)}finally{it=u,it===0&&(Ya=pt()+500,jd&&us())}}function Co(s){ps!==null&&ps.tag===0&&(it&6)===0&&Qa();var a=it;it|=1;var u=rr.transition,h=et;try{if(rr.transition=null,et=1,s)return s()}finally{et=h,rr.transition=u,it=a,(it&6)===0&&us()}}function $m(){zn=Ka.current,yt(Ka)}function ko(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,Nk(u)),Ot!==null)for(u=Ot.return;u!==null;){var h=u;switch(Zp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ld();break;case 3:Ha(),yt(Sn),yt(on),cm();break;case 5:lm(h);break;case 4:Ha();break;case 13:yt(Tt);break;case 19:yt(Tt);break;case 10:rm(h.type._context);break;case 22:case 23:$m()}u=u.return}if(Kt=s,Ot=s=vs(s.current,null),tn=zn=a,zt=0,Ou=null,Mm=of=bo=0,Cn=Mu=null,xo!==null){for(a=0;a<xo.length;a++)if(u=xo[a],h=u.interleaved,h!==null){u.interleaved=null;var g=h.next,y=u.pending;if(y!==null){var C=y.next;y.next=g,h.next=C}u.pending=h}xo=null}return s}function x0(s,a){do{var u=Ot;try{if(nm(),Kd.current=Xd,Yd){for(var h=xt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Yd=!1}if(Io=0,Gt=Ut=xt=null,ku=!1,Au=0,Om.current=null,u===null||u.return===null){zt=1,Ou=a,Ot=null;break}e:{var y=s,C=u.return,V=u,z=a;if(a=tn,V.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Y=z,ie=V,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var pe=Kw(C);if(pe!==null){pe.flags&=-257,Yw(pe,C,V,y,a),pe.mode&1&&Gw(y,Y,a),a=pe,z=Y;var we=a.updateQueue;if(we===null){var Ie=new Set;Ie.add(z),a.updateQueue=Ie}else we.add(z);break e}else{if((a&1)===0){Gw(y,Y,a),Bm();break e}z=Error(t(426))}}else if(Et&&V.mode&1){var Pt=Kw(C);if(Pt!==null){(Pt.flags&65536)===0&&(Pt.flags|=256),Yw(Pt,C,V,y,a),em(qa(z,V));break e}}y=z=qa(z,V),zt!==4&&(zt=2),Mu===null?Mu=[y]:Mu.push(y),y=C;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var G=Hw(y,z,a);yw(y,G);break e;case 1:V=z;var B=y.type,K=y.stateNode;if((y.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(hs===null||!hs.has(K)))){y.flags|=65536,a&=-a,y.lanes|=a;var ue=qw(y,V,a);yw(y,ue);break e}}y=y.return}while(y!==null)}b0(u)}catch(Ce){a=Ce,Ot===u&&u!==null&&(Ot=u=u.return);continue}break}while(!0)}function S0(){var s=sf.current;return sf.current=Xd,s===null?Xd:s}function Bm(){(zt===0||zt===3||zt===2)&&(zt=4),Kt===null||(bo&268435455)===0&&(of&268435455)===0||gs(Kt,tn)}function ff(s,a){var u=it;it|=2;var h=S0();(Kt!==s||tn!==a)&&(bi=null,ko(s,a));do try{rA();break}catch(g){x0(s,g)}while(!0);if(nm(),it=u,sf.current=h,Ot!==null)throw Error(t(261));return Kt=null,tn=0,zt}function rA(){for(;Ot!==null;)I0(Ot)}function iA(){for(;Ot!==null&&!ld();)I0(Ot)}function I0(s){var a=A0(s.alternate,s,zn);s.memoizedProps=s.pendingProps,a===null?b0(s):Ot=a,Om.current=null}function b0(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=Qk(u,a,zn),u!==null){Ot=u;return}}else{if(u=Zk(u,a),u!==null){u.flags&=32767,Ot=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{zt=6,Ot=null;return}}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);zt===0&&(zt=5)}function Ao(s,a,u){var h=et,g=rr.transition;try{rr.transition=null,et=1,sA(s,a,u,h)}finally{rr.transition=g,et=h}return null}function sA(s,a,u,h){do Qa();while(ps!==null);if((it&6)!==0)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=u.lanes|u.childLanes;if(ht(s,y),s===Kt&&(Ot=Kt=null,tn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||lf||(lf=!0,R0(Qn,function(){return Qa(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=rr.transition,rr.transition=null;var C=et;et=1;var V=it;it|=4,Om.current=null,Jk(s,u),g0(u,s),Ik(Bp),rs=!!$p,Bp=$p=null,s.current=u,eA(u),bp(),it=V,et=C,rr.transition=y}else s.current=u;if(lf&&(lf=!1,ps=s,uf=g),y=s.pendingLanes,y===0&&(hs=null),dd(u.stateNode),kn(s,pt()),a!==null)for(h=s.onRecoverableError,u=0;u<a.length;u++)g=a[u],h(g.value,{componentStack:g.stack,digest:g.digest});if(af)throw af=!1,s=Vm,Vm=null,s;return(uf&1)!==0&&s.tag!==0&&Qa(),y=s.pendingLanes,(y&1)!==0?s===jm?Lu++:(Lu=0,jm=s):Lu=0,us(),null}function Qa(){if(ps!==null){var s=ts(uf),a=rr.transition,u=et;try{if(rr.transition=null,et=16>s?16:s,ps===null)var h=!1;else{if(s=ps,ps=null,uf=0,(it&6)!==0)throw Error(t(331));var g=it;for(it|=4,ve=s.current;ve!==null;){var y=ve,C=y.child;if((ve.flags&16)!==0){var V=y.deletions;if(V!==null){for(var z=0;z<V.length;z++){var Y=V[z];for(ve=Y;ve!==null;){var ie=ve;switch(ie.tag){case 0:case 11:case 15:Du(8,ie,y)}var oe=ie.child;if(oe!==null)oe.return=ie,ve=oe;else for(;ve!==null;){ie=ve;var re=ie.sibling,pe=ie.return;if(d0(ie),ie===Y){ve=null;break}if(re!==null){re.return=pe,ve=re;break}ve=pe}}}var we=y.alternate;if(we!==null){var Ie=we.child;if(Ie!==null){we.child=null;do{var Pt=Ie.sibling;Ie.sibling=null,Ie=Pt}while(Ie!==null)}}ve=y}}if((y.subtreeFlags&2064)!==0&&C!==null)C.return=y,ve=C;else e:for(;ve!==null;){if(y=ve,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Du(9,y,y.return)}var G=y.sibling;if(G!==null){G.return=y.return,ve=G;break e}ve=y.return}}var B=s.current;for(ve=B;ve!==null;){C=ve;var K=C.child;if((C.subtreeFlags&2064)!==0&&K!==null)K.return=C,ve=K;else e:for(C=B;ve!==null;){if(V=ve,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:rf(9,V)}}catch(Ce){At(V,V.return,Ce)}if(V===C){ve=null;break e}var ue=V.sibling;if(ue!==null){ue.return=V.return,ve=ue;break e}ve=V.return}}if(it=g,us(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(fo,s)}catch{}h=!0}return h}finally{et=u,rr.transition=a}}return!1}function C0(s,a,u){a=qa(u,a),a=Hw(s,a,1),s=ds(s,a,1),a=_n(),s!==null&&(Ji(s,1,a),kn(s,a))}function At(s,a,u){if(s.tag===3)C0(s,s,u);else for(;a!==null;){if(a.tag===3){C0(a,s,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(hs===null||!hs.has(h))){s=qa(u,s),s=qw(a,s,1),a=ds(a,s,1),s=_n(),a!==null&&(Ji(a,1,s),kn(a,s));break}}a=a.return}}function oA(s,a,u){var h=s.pingCache;h!==null&&h.delete(a),a=_n(),s.pingedLanes|=s.suspendedLanes&u,Kt===s&&(tn&u)===u&&(zt===4||zt===3&&(tn&130023424)===tn&&500>pt()-Lm?ko(s,0):Mm|=u),kn(s,a)}function k0(s,a){a===0&&((s.mode&1)===0?a=1:(a=_a,_a<<=1,(_a&130023424)===0&&(_a=4194304)));var u=_n();s=xi(s,a),s!==null&&(Ji(s,a,u),kn(s,u))}function aA(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),k0(s,u)}function lA(s,a){var u=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(a),k0(s,u)}var A0;A0=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||Sn.current)bn=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return bn=!1,Yk(s,a,u);bn=(s.flags&131072)!==0}else bn=!1,Et&&(a.flags&1048576)!==0&&lw(a,Ud,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;tf(s,a),s=a.pendingProps;var g=ja(a,on.current);Wa(a,u),g=hm(null,a,h,s,g,u);var y=pm();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,In(h)?(y=!0,Vd(a)):y=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,om(a),g.updater=Jd,a.stateNode=g,g._reactInternals=a,wm(a,h,s,u),a=Sm(null,a,h,!0,y,u)):(a.tag=0,Et&&y&&Qp(a),yn(null,a,g,u),a=a.child),a;case 16:h=a.elementType;e:{switch(tf(s,a),s=a.pendingProps,g=h._init,h=g(h._payload),a.type=h,g=a.tag=cA(h),s=wr(h,s),g){case 0:a=xm(null,a,h,s,u);break e;case 1:a=t0(null,a,h,s,u);break e;case 11:a=Qw(null,a,h,s,u);break e;case 14:a=Zw(null,a,h,wr(h.type,s),u);break e}throw Error(t(306,h,""))}return a;case 0:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:wr(h,g),xm(s,a,h,g,u);case 1:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:wr(h,g),t0(s,a,h,g,u);case 3:e:{if(n0(a),s===null)throw Error(t(387));h=a.pendingProps,y=a.memoizedState,g=y.element,vw(s,a),qd(a,h,null,u);var C=a.memoizedState;if(h=C.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){g=qa(Error(t(423)),a),a=r0(s,a,h,u,g);break e}else if(h!==g){g=qa(Error(t(424)),a),a=r0(s,a,h,u,g);break e}else for(Un=os(a.stateNode.containerInfo.firstChild),Fn=a,Et=!0,_r=null,u=mw(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(za(),h===g){a=Ii(s,a,u);break e}yn(s,a,h,u)}a=a.child}return a;case 5:return ww(a),s===null&&Jp(a),h=a.type,g=a.pendingProps,y=s!==null?s.memoizedProps:null,C=g.children,Wp(h,g)?C=null:y!==null&&Wp(h,y)&&(a.flags|=32),e0(s,a),yn(s,a,C,u),a.child;case 6:return s===null&&Jp(a),null;case 13:return i0(s,a,u);case 4:return am(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=$a(a,null,h,u):yn(s,a,h,u),a.child;case 11:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:wr(h,g),Qw(s,a,h,g,u);case 7:return yn(s,a,a.pendingProps,u),a.child;case 8:return yn(s,a,a.pendingProps.children,u),a.child;case 12:return yn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(h=a.type._context,g=a.pendingProps,y=a.memoizedProps,C=g.value,mt(Bd,h._currentValue),h._currentValue=C,y!==null)if(yr(y.value,C)){if(y.children===g.children&&!Sn.current){a=Ii(s,a,u);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var V=y.dependencies;if(V!==null){C=y.child;for(var z=V.firstContext;z!==null;){if(z.context===h){if(y.tag===1){z=Si(-1,u&-u),z.tag=2;var Y=y.updateQueue;if(Y!==null){Y=Y.shared;var ie=Y.pending;ie===null?z.next=z:(z.next=ie.next,ie.next=z),Y.pending=z}}y.lanes|=u,z=y.alternate,z!==null&&(z.lanes|=u),im(y.return,u,a),V.lanes|=u;break}z=z.next}}else if(y.tag===10)C=y.type===a.type?null:y.child;else if(y.tag===18){if(C=y.return,C===null)throw Error(t(341));C.lanes|=u,V=C.alternate,V!==null&&(V.lanes|=u),im(C,u,a),C=y.sibling}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===a){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}yn(s,a,g.children,u),a=a.child}return a;case 9:return g=a.type,h=a.pendingProps.children,Wa(a,u),g=tr(g),h=h(g),a.flags|=1,yn(s,a,h,u),a.child;case 14:return h=a.type,g=wr(h,a.pendingProps),g=wr(h.type,g),Zw(s,a,h,g,u);case 15:return Xw(s,a,a.type,a.pendingProps,u);case 17:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:wr(h,g),tf(s,a),a.tag=1,In(h)?(s=!0,Vd(a)):s=!1,Wa(a,u),Bw(a,h,g),wm(a,h,g,u),Sm(null,a,h,!0,s,u);case 19:return o0(s,a,u);case 22:return Jw(s,a,u)}throw Error(t(156,a.tag))};function R0(s,a){return va(s,a)}function uA(s,a,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(s,a,u,h){return new uA(s,a,u,h)}function Wm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function cA(s){if(typeof s=="function")return Wm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===Ae)return 14}return 2}function vs(s,a){var u=s.alternate;return u===null?(u=ir(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function hf(s,a,u,h,g,y){var C=2;if(h=s,typeof s=="function")Wm(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case D:return Ro(u.children,g,y,a);case A:C=8,g|=8;break;case O:return s=ir(12,u,a,g|2),s.elementType=O,s.lanes=y,s;case N:return s=ir(13,u,a,g),s.elementType=N,s.lanes=y,s;case xe:return s=ir(19,u,a,g),s.elementType=xe,s.lanes=y,s;case ee:return pf(u,g,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:C=10;break e;case U:C=9;break e;case $:C=11;break e;case Ae:C=14;break e;case _e:C=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=ir(C,u,a,g),a.elementType=s,a.type=h,a.lanes=y,a}function Ro(s,a,u,h){return s=ir(7,s,h,a),s.lanes=u,s}function pf(s,a,u,h){return s=ir(22,s,h,a),s.elementType=ee,s.lanes=u,s.stateNode={isHidden:!1},s}function Hm(s,a,u){return s=ir(6,s,null,a),s.lanes=u,s}function qm(s,a,u){return a=ir(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function dA(s,a,u,h,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Gm(s,a,u,h,g,y,C,V,z){return s=new dA(s,a,u,V,z),a===1?(a=1,y===!0&&(a|=8)):a=0,y=ir(3,null,null,a),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},om(y),s}function fA(s,a,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:h==null?null:""+h,children:s,containerInfo:a,implementation:u}}function P0(s){if(!s)return ls;s=s._reactInternals;e:{if(dr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(In(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(In(u))return sw(s,u,a)}return a}function N0(s,a,u,h,g,y,C,V,z){return s=Gm(u,h,!0,s,g,y,C,V,z),s.context=P0(null),u=s.current,h=_n(),g=ms(u),y=Si(h,g),y.callback=a??null,ds(u,y,g),s.current.lanes=g,Ji(s,g,h),kn(s,h),s}function mf(s,a,u,h){var g=a.current,y=_n(),C=ms(g);return u=P0(u),a.context===null?a.context=u:a.pendingContext=u,a=Si(y,C),a.payload={element:s},h=h===void 0?null:h,h!==null&&(a.callback=h),s=ds(g,a,C),s!==null&&(xr(s,g,C,y),Hd(s,g,C)),C}function gf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function D0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Km(s,a){D0(s,a),(s=s.alternate)&&D0(s,a)}function hA(){return null}var O0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ym(s){this._internalRoot=s}vf.prototype.render=Ym.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));mf(s,a,null,null)},vf.prototype.unmount=Ym.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Co(function(){mf(null,s,null,null)}),a[_i]=null}};function vf(s){this._internalRoot=s}vf.prototype.unstable_scheduleHydration=function(s){if(s){var a=gd();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Ur.length&&a!==0&&a<Ur[u].priority;u++);Ur.splice(u,0,s),u===0&&_d(s)}};function Qm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function yf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function M0(){}function pA(s,a,u,h,g){if(g){if(typeof h=="function"){var y=h;h=function(){var Y=gf(C);y.call(Y)}}var C=N0(a,h,s,0,null,!1,!1,"",M0);return s._reactRootContainer=C,s[_i]=C.current,wu(s.nodeType===8?s.parentNode:s),Co(),C}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var V=h;h=function(){var Y=gf(z);V.call(Y)}}var z=Gm(s,0,!1,null,null,!1,!1,"",M0);return s._reactRootContainer=z,s[_i]=z.current,wu(s.nodeType===8?s.parentNode:s),Co(function(){mf(a,z,u,h)}),z}function _f(s,a,u,h,g){var y=u._reactRootContainer;if(y){var C=y;if(typeof g=="function"){var V=g;g=function(){var z=gf(C);V.call(z)}}mf(a,C,s,g)}else C=pA(u,a,s,g,h);return gf(C)}pd=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=Zi(a.pendingLanes);u!==0&&(es(a,u|1),kn(a,pt()),(it&6)===0&&(Ya=pt()+500,us()))}break;case 13:Co(function(){var h=xi(s,1);if(h!==null){var g=_n();xr(h,s,1,g)}}),Km(s,1)}},wa=function(s){if(s.tag===13){var a=xi(s,134217728);if(a!==null){var u=_n();xr(a,s,134217728,u)}Km(s,134217728)}},md=function(s){if(s.tag===13){var a=ms(s),u=xi(s,a);if(u!==null){var h=_n();xr(u,s,a,h)}Km(s,a)}},gd=function(){return et},vd=function(s,a){var u=et;try{return et=s,a()}finally{et=u}},da=function(s,a,u){switch(a){case"input":if(ar(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==s&&h.form===s.form){var g=Md(h);if(!g)throw Error(t(90));Ge(h),ar(h,g)}}}break;case"textarea":ua(s,u);break;case"select":a=u.value,a!=null&&di(s,!!u.multiple,a,!1)}},oo=zm,tu=Co;var mA={usingClientEntryPoint:!1,Events:[xu,La,Md,jr,eu,zm]},Vu={findFiberByHostInstance:_o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gA={bundleType:Vu.bundleType,version:Vu.version,rendererPackageName:Vu.rendererPackageName,rendererConfig:Vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=iu(s),s===null?null:s.stateNode},findFiberByHostInstance:Vu.findFiberByHostInstance||hA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{fo=wf.inject(gA),Mn=wf}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mA,An.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qm(a))throw Error(t(200));return fA(s,a,null,u)},An.createRoot=function(s,a){if(!Qm(s))throw Error(t(299));var u=!1,h="",g=O0;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Gm(s,1,!1,null,null,u,!1,h,g),s[_i]=a.current,wu(s.nodeType===8?s.parentNode:s),new Ym(a)},An.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=iu(a),s=s===null?null:s.stateNode,s},An.flushSync=function(s){return Co(s)},An.hydrate=function(s,a,u){if(!yf(a))throw Error(t(200));return _f(null,s,a,!0,u)},An.hydrateRoot=function(s,a,u){if(!Qm(s))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,g=!1,y="",C=O0;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),a=N0(a,null,s,1,u??null,g,!1,y,C),s[_i]=a.current,wu(s),h)for(s=0;s<h.length;s++)u=h[s],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new vf(a)},An.render=function(s,a,u){if(!yf(a))throw Error(t(200));return _f(null,s,a,!1,u)},An.unmountComponentAtNode=function(s){if(!yf(s))throw Error(t(40));return s._reactRootContainer?(Co(function(){_f(null,null,s,!1,function(){s._reactRootContainer=null,s[_i]=null})}),!0):!1},An.unstable_batchedUpdates=zm,An.unstable_renderSubtreeIntoContainer=function(s,a,u,h){if(!yf(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return _f(s,a,u,!1,h)},An.version="18.3.1-next-f1338f8080-20240426",An}var B0;function Px(){if(B0)return Jm.exports;B0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Jm.exports=SA(),Jm.exports}var W0;function IA(){if(W0)return Tf;W0=1;var n=Px();return Tf.createRoot=n.createRoot,Tf.hydrateRoot=n.hydrateRoot,Tf}var bA=IA(),Fu={},H0;function CA(){if(H0)return Fu;H0=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.parse=l,Fu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,x){const b=new o,I=w.length;if(I<2)return b;const k=(x==null?void 0:x.decode)||m;let P=0;do{const M=w.indexOf("=",P);if(M===-1)break;const L=w.indexOf(";",P),H=L===-1?I:L;if(M>H){P=w.lastIndexOf(";",M-1)+1;continue}const Z=c(w,P,M),J=f(w,M,Z),D=w.slice(Z,J);if(b[D]===void 0){let A=c(w,M+1,H),O=f(w,H,A);const j=k(w.slice(A,O));b[D]=j}P=H+1}while(P<I);return b}function c(w,x,b){do{const I=w.charCodeAt(x);if(I!==32&&I!==9)return x}while(++x<b);return b}function f(w,x,b){for(;x>b;){const I=w.charCodeAt(--x);if(I!==32&&I!==9)return x+1}return b}function p(w,x,b){const I=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const k=I(x);if(!e.test(k))throw new TypeError(`argument val is invalid: ${x}`);let P=w+"="+k;if(!b)return P;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);P+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);P+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);P+="; Path="+b.path}if(b.expires){if(!_(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);P+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(P+="; HttpOnly"),b.secure&&(P+="; Secure"),b.partitioned&&(P+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return P}function m(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return i.call(w)==="[object Date]"}return Fu}CA();var q0="popstate";function kA(n={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return Qg("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:sc(i)}return RA(e,t,null,n)}function bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ni(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AA(){return Math.random().toString(36).substring(2,10)}function G0(n,e){return{usr:n.state,key:n.key,idx:e}}function Qg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Pl(e):e,state:t,key:e&&e.key||r||AA()}}function sc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Pl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function RA(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",f=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function _(){c="POP";let k=m(),P=k==null?null:k-p;p=k,f&&f({action:c,location:I.location,delta:P})}function w(k,P){c="PUSH";let M=Qg(I.location,k,P);p=m()+1;let L=G0(M,p),H=I.createHref(M);try{l.pushState(L,"",H)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;i.location.assign(H)}o&&f&&f({action:c,location:I.location,delta:1})}function x(k,P){c="REPLACE";let M=Qg(I.location,k,P);p=m();let L=G0(M,p),H=I.createHref(M);l.replaceState(L,"",H),o&&f&&f({action:c,location:I.location,delta:0})}function b(k){return PA(k)}let I={get action(){return c},get location(){return n(i,l)},listen(k){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(q0,_),f=k,()=>{i.removeEventListener(q0,_),f=null}},createHref(k){return e(i,k)},createURL:b,encodeLocation(k){let P=b(k);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:x,go(k){return l.go(k)}};return I}function PA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),bt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:sc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Nx(n,e,t="/"){return NA(n,e,t,!1)}function NA(n,e,t,r){let i=typeof e=="string"?Pl(e):e,o=ji(i.pathname||"/",t);if(o==null)return null;let l=Dx(n);DA(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=WA(o);c=$A(l[f],p,r)}return c}function Dx(n,e=[],t=[],r=""){let i=(o,l,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(bt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Mi([r,f.relativePath]),m=t.concat(f);o.children&&o.children.length>0&&(bt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Dx(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:UA(p,o.index),routesMeta:m})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let f of Ox(o.path))i(o,l,f)}),e}function Ox(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=Ox(r.join("/")),c=[];return c.push(...l.map(f=>f===""?o:[o,f].join("/"))),i&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function DA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:zA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var OA=/^:[\w-]+$/,MA=3,LA=2,VA=1,jA=10,FA=-2,K0=n=>n==="*";function UA(n,e){let t=n.split("/"),r=t.length;return t.some(K0)&&(r+=FA),e&&(r+=LA),t.filter(i=>!K0(i)).reduce((i,o)=>i+(OA.test(o)?MA:o===""?VA:jA),r)}function zA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function $A(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",_=th({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),w=f.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=th({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:Mi([o,_.pathname]),pathnameBase:KA(Mi([o,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(o=Mi([o,_.pathnameBase]))}return l}function th(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=BA(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:_},w)=>{if(m==="*"){let b=c[w]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const x=c[w];return _&&!x?p[m]=void 0:p[m]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function BA(n,e=!1,t=!0){ni(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ni(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ji(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function HA(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Pl(n):n;return{pathname:t?t.startsWith("/")?t:qA(t,e):e,search:YA(r),hash:QA(i)}}function qA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function ng(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Mx(n){let e=GA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Lx(n,e,t,r=!1){let i;typeof n=="string"?i=Pl(n):(i={...n},bt(!i.pathname||!i.pathname.includes("?"),ng("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),ng("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),ng("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),_-=1;i.pathname=w.join("/")}c=_>=0?e[_]:"/"}let f=HA(i,c),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}var Mi=n=>n.join("/").replace(/\/\/+/g,"/"),KA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),YA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,QA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ZA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Vx=["POST","PUT","PATCH","DELETE"];new Set(Vx);var XA=["GET",...Vx];new Set(XA);var Nl=T.createContext(null);Nl.displayName="DataRouter";var Mh=T.createContext(null);Mh.displayName="DataRouterState";var jx=T.createContext({isTransitioning:!1});jx.displayName="ViewTransition";var JA=T.createContext(new Map);JA.displayName="Fetchers";var eR=T.createContext(null);eR.displayName="Await";var li=T.createContext(null);li.displayName="Navigation";var Mc=T.createContext(null);Mc.displayName="Location";var qi=T.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var Kv=T.createContext(null);Kv.displayName="RouteError";function tR(n,{relative:e}={}){bt(Lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=T.useContext(li),{hash:i,pathname:o,search:l}=Vc(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Mi([t,o])),r.createHref({pathname:c,search:l,hash:i})}function Lc(){return T.useContext(Mc)!=null}function ta(){return bt(Lc(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Mc).location}var Fx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ux(n){T.useContext(li).static||T.useLayoutEffect(n)}function Yv(){let{isDataRoute:n}=T.useContext(qi);return n?pR():nR()}function nR(){bt(Lc(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(Nl),{basename:e,navigator:t}=T.useContext(li),{matches:r}=T.useContext(qi),{pathname:i}=ta(),o=JSON.stringify(Mx(r)),l=T.useRef(!1);return Ux(()=>{l.current=!0}),T.useCallback((f,p={})=>{if(ni(l.current,Fx),!l.current)return;if(typeof f=="number"){t.go(f);return}let m=Lx(f,JSON.parse(o),i,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Mi([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,o,i,n])}T.createContext(null);function Vc(n,{relative:e}={}){let{matches:t}=T.useContext(qi),{pathname:r}=ta(),i=JSON.stringify(Mx(t));return T.useMemo(()=>Lx(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function rR(n,e){return zx(n,e)}function zx(n,e,t,r){var M;bt(Lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=T.useContext(li),{matches:l}=T.useContext(qi),c=l[l.length-1],f=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",_=c&&c.route;{let L=_&&_.path||"";$x(p,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let w=ta(),x;if(e){let L=typeof e=="string"?Pl(e):e;bt(m==="/"||((M=L.pathname)==null?void 0:M.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${L.pathname}" was given in the \`location\` prop.`),x=L}else x=w;let b=x.pathname||"/",I=b;if(m!=="/"){let L=m.replace(/^\//,"").split("/");I="/"+b.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=!o&&t&&t.matches&&t.matches.length>0?t.matches:Nx(n,{pathname:I});ni(_||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ni(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=lR(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:Mi([m,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?m:Mi([m,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,t,r);return e&&P?T.createElement(Mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},P):P}function iR(){let n=hR(),e=ZA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:o},"ErrorBoundary")," or"," ",T.createElement("code",{style:o},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:i},t):null,l)}var sR=T.createElement(iR,null),oR=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?T.createElement(qi.Provider,{value:this.props.routeContext},T.createElement(Kv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aR({routeContext:n,match:e,children:t}){let r=T.useContext(Nl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(qi.Provider,{value:n},t)}function lR(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let f=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);bt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,c=-1;if(t)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:m,errors:_}=t,w=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,p,m)=>{let _,w=!1,x=null,b=null;t&&(_=o&&p.route.id?o[p.route.id]:void 0,x=p.route.errorElement||sR,l&&(c<0&&m===0?($x("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,b=null):c===m&&(w=!0,b=p.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,m+1)),k=()=>{let P;return _?P=x:w?P=b:p.route.Component?P=T.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=f,T.createElement(aR,{match:p,routeContext:{outlet:f,matches:I,isDataRoute:t!=null},children:P})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?T.createElement(oR,{location:t.location,revalidation:t.revalidation,component:x,error:_,children:k(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):k()},null)}function Qv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uR(n){let e=T.useContext(Nl);return bt(e,Qv(n)),e}function cR(n){let e=T.useContext(Mh);return bt(e,Qv(n)),e}function dR(n){let e=T.useContext(qi);return bt(e,Qv(n)),e}function Zv(n){let e=dR(n),t=e.matches[e.matches.length-1];return bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function fR(){return Zv("useRouteId")}function hR(){var r;let n=T.useContext(Kv),e=cR("useRouteError"),t=Zv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function pR(){let{router:n}=uR("useNavigate"),e=Zv("useNavigate"),t=T.useRef(!1);return Ux(()=>{t.current=!0}),T.useCallback(async(i,o={})=>{ni(t.current,Fx),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var Y0={};function $x(n,e,t){!e&&!Y0[n]&&(Y0[n]=!0,ni(!1,t))}T.memo(mR);function mR({routes:n,future:e,state:t}){return zx(n,void 0,t,e)}function Zg(n){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){bt(!Lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Pl(t));let{pathname:f="/",search:p="",hash:m="",state:_=null,key:w="default"}=t,x=T.useMemo(()=>{let b=ji(f,l);return b==null?null:{location:{pathname:b,search:p,hash:m,state:_,key:w},navigationType:r}},[l,f,p,m,_,w,r]);return ni(x!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:T.createElement(li.Provider,{value:c},T.createElement(Mc.Provider,{children:e,value:x}))}function vR({children:n,location:e}){return rR(Xg(n),e)}function Xg(n,e=[]){let t=[];return T.Children.forEach(n,(r,i)=>{if(!T.isValidElement(r))return;let o=[...e,i];if(r.type===T.Fragment){t.push.apply(t,Xg(r.props.children,o));return}bt(r.type===Zg,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Xg(r.props.children,o)),t.push(l)}),t}var Ff="get",Uf="application/x-www-form-urlencoded";function Lh(n){return n!=null&&typeof n.tagName=="string"}function yR(n){return Lh(n)&&n.tagName.toLowerCase()==="button"}function _R(n){return Lh(n)&&n.tagName.toLowerCase()==="form"}function wR(n){return Lh(n)&&n.tagName.toLowerCase()==="input"}function ER(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function TR(n,e){return n.button===0&&(!e||e==="_self")&&!ER(n)}var xf=null;function xR(){if(xf===null)try{new FormData(document.createElement("form"),0),xf=!1}catch{xf=!0}return xf}var SR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rg(n){return n!=null&&!SR.has(n)?(ni(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uf}"`),null):n}function IR(n,e){let t,r,i,o,l;if(_R(n)){let c=n.getAttribute("action");r=c?ji(c,e):null,t=n.getAttribute("method")||Ff,i=rg(n.getAttribute("enctype"))||Uf,o=new FormData(n)}else if(yR(n)||wR(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?ji(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Ff,i=rg(n.getAttribute("formenctype"))||rg(c.getAttribute("enctype"))||Uf,o=new FormData(c,n),!xR()){let{name:p,type:m,value:_}=n;if(m==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,_)}}else{if(Lh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ff,r=null,i=Uf,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function Xv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function bR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function kR(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await bR(o,t);return l.links?l.links():[]}return[]}));return NR(r.flat(1).filter(CR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Q0(n,e,t,r,i,o){let l=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,c=(f,p)=>{var m;return t[p].pathname!==f.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,p)=>l(f,p)||c(f,p)):o==="data"?e.filter((f,p)=>{var _;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function AR(n,e,{includeHydrateFallback:t}={}){return RR(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function RR(n){return[...new Set(n)]}function PR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function NR(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(PR(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DR=new Set([100,101,204,205]);function OR(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ji(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Bx(){let n=T.useContext(Nl);return Xv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function MR(){let n=T.useContext(Mh);return Xv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jv=T.createContext(void 0);Jv.displayName="FrameworkContext";function Wx(){let n=T.useContext(Jv);return Xv(n,"You must render this element inside a <HydratedRouter> element"),n}function LR(n,e){let t=T.useContext(Jv),[r,i]=T.useState(!1),[o,l]=T.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:m,onTouchStart:_}=e,w=T.useRef(null);T.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let I=P=>{P.forEach(M=>{l(M.isIntersecting)})},k=new IntersectionObserver(I,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[n]),T.useEffect(()=>{if(r){let I=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(I)}}},[r]);let x=()=>{i(!0)},b=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:Uu(c,x),onBlur:Uu(f,b),onMouseEnter:Uu(p,x),onMouseLeave:Uu(m,b),onTouchStart:Uu(_,x)}]:[!1,w,{}]}function Uu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function VR({page:n,...e}){let{router:t}=Bx(),r=T.useMemo(()=>Nx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?T.createElement(FR,{page:n,matches:r,...e}):null}function jR(n){let{manifest:e,routeModules:t}=Wx(),[r,i]=T.useState([]);return T.useEffect(()=>{let o=!1;return kR(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function FR({page:n,matches:e,...t}){let r=ta(),{manifest:i,routeModules:o}=Wx(),{basename:l}=Bx(),{loaderData:c,matches:f}=MR(),p=T.useMemo(()=>Q0(n,e,f,i,r,"data"),[n,e,f,i,r]),m=T.useMemo(()=>Q0(n,e,f,i,r,"assets"),[n,e,f,i,r]),_=T.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,I=!1;if(e.forEach(P=>{var L;let M=i.routes[P.route.id];!M||!M.hasLoader||(!p.some(H=>H.route.id===P.route.id)&&P.route.id in c&&((L=o[P.route.id])!=null&&L.shouldRevalidate)||M.hasClientLoader?I=!0:b.add(P.route.id))}),b.size===0)return[];let k=OR(n,l);return I&&b.size>0&&k.searchParams.set("_routes",e.filter(P=>b.has(P.route.id)).map(P=>P.route.id).join(",")),[k.pathname+k.search]},[l,c,r,i,p,e,n,o]),w=T.useMemo(()=>AR(m,i),[m,i]),x=jR(m);return T.createElement(T.Fragment,null,_.map(b=>T.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),w.map(b=>T.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),x.map(({key:b,link:I})=>T.createElement("link",{key:b,...I})))}function UR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Hx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hx&&(window.__reactRouterVersion="7.6.0")}catch{}function zR({basename:n,children:e,window:t}){let r=T.useRef();r.current==null&&(r.current=kA({window:t,v5Compat:!0}));let i=r.current,[o,l]=T.useState({action:i.action,location:i.location}),c=T.useCallback(f=>{T.startTransition(()=>l(f))},[l]);return T.useLayoutEffect(()=>i.listen(c),[i,c]),T.createElement(gR,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var qx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ey=T.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:f,to:p,preventScrollReset:m,viewTransition:_,...w},x){let{basename:b}=T.useContext(li),I=typeof p=="string"&&qx.test(p),k,P=!1;if(typeof p=="string"&&I&&(k=p,Hx))try{let O=new URL(window.location.href),j=p.startsWith("//")?new URL(O.protocol+p):new URL(p),U=ji(j.pathname,b);j.origin===O.origin&&U!=null?p=U+j.search+j.hash:P=!0}catch{ni(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=tR(p,{relative:i}),[L,H,Z]=LR(r,w),J=HR(p,{replace:l,state:c,target:f,preventScrollReset:m,relative:i,viewTransition:_});function D(O){e&&e(O),O.defaultPrevented||J(O)}let A=T.createElement("a",{...w,...Z,href:k||M,onClick:P||o?e:D,ref:UR(x,H),target:f,"data-discover":!I&&t==="render"?"true":void 0});return L&&!I?T.createElement(T.Fragment,null,A,T.createElement(VR,{page:M})):A});ey.displayName="Link";var $R=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:f,...p},m){let _=Vc(l,{relative:p.relative}),w=ta(),x=T.useContext(Mh),{navigator:b,basename:I}=T.useContext(li),k=x!=null&&QR(_)&&c===!0,P=b.encodeLocation?b.encodeLocation(_).pathname:_.pathname,M=w.pathname,L=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(M=M.toLowerCase(),L=L?L.toLowerCase():null,P=P.toLowerCase()),L&&I&&(L=ji(L,I)||L);const H=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let Z=M===P||!i&&M.startsWith(P)&&M.charAt(H)==="/",J=L!=null&&(L===P||!i&&L.startsWith(P)&&L.charAt(P.length)==="/"),D={isActive:Z,isPending:J,isTransitioning:k},A=Z?e:void 0,O;typeof r=="function"?O=r(D):O=[r,Z?"active":null,J?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(D):o;return T.createElement(ey,{...p,"aria-current":A,className:O,ref:m,style:j,to:l,viewTransition:c},typeof f=="function"?f(D):f)});$R.displayName="NavLink";var BR=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=Ff,action:c,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:_,...w},x)=>{let b=KR(),I=YR(c,{relative:p}),k=l.toLowerCase()==="get"?"get":"post",P=typeof c=="string"&&qx.test(c),M=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let H=L.nativeEvent.submitter,Z=(H==null?void 0:H.getAttribute("formmethod"))||l;b(H||L.currentTarget,{fetcherKey:e,method:Z,navigate:t,replace:i,state:o,relative:p,preventScrollReset:m,viewTransition:_})};return T.createElement("form",{ref:x,method:k,action:I,onSubmit:r?f:M,...w,"data-discover":!P&&n==="render"?"true":void 0})});BR.displayName="Form";function WR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gx(n){let e=T.useContext(Nl);return bt(e,WR(n)),e}function HR(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=Yv(),f=ta(),p=Vc(n,{relative:o});return T.useCallback(m=>{if(TR(m,e)){m.preventDefault();let _=t!==void 0?t:sc(f)===sc(p);c(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[f,c,p,t,r,e,n,i,o,l])}var qR=0,GR=()=>`__${String(++qR)}__`;function KR(){let{router:n}=Gx("useSubmit"),{basename:e}=T.useContext(li),t=fR();return T.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:f,body:p}=IR(r,e);if(i.navigate===!1){let m=i.fetcherKey||GR();await n.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function YR(n,{relative:e}={}){let{basename:t}=T.useContext(li),r=T.useContext(qi);bt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Vc(n||".",{relative:e})},l=ta();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(_=>_).forEach(_=>c.append("index",_));let m=c.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Mi([t,o.pathname])),sc(o)}function QR(n,e={}){let t=T.useContext(jx);bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Gx("useViewTransitionState"),i=Vc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ji(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ji(t.nextLocation.pathname,r)||t.nextLocation.pathname;return th(i.pathname,l)!=null||th(i.pathname,o)!=null}[...DR];var jc=Px();const ZR=qv(jc);function XR(n,e){const t=T.createContext(e),r=o=>{const{children:l,...c}=o,f=T.useMemo(()=>c,Object.values(c));return S.jsx(t.Provider,{value:f,children:l})};r.displayName=n+"Provider";function i(o){const l=T.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return[r,i]}function na(n,e=[]){let t=[];function r(o,l){const c=T.createContext(l),f=t.length;t=[...t,l];const p=_=>{var P;const{scope:w,children:x,...b}=_,I=((P=w==null?void 0:w[n])==null?void 0:P[f])||c,k=T.useMemo(()=>b,Object.values(b));return S.jsx(I.Provider,{value:k,children:x})};p.displayName=o+"Provider";function m(_,w){var I;const x=((I=w==null?void 0:w[n])==null?void 0:I[f])||c,b=T.useContext(x);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${_}\` must be used within \`${o}\``)}return[p,m]}const i=()=>{const o=t.map(l=>T.createContext(l));return function(c){const f=(c==null?void 0:c[n])||o;return T.useMemo(()=>({[`__scope${n}`]:{...c,[n]:f}}),[c,f])}};return i.scopeName=n,[r,JR(i,...e)]}function JR(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:f,scopeName:p})=>{const _=f(o)[`__scope${p}`];return{...c,..._}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function Z0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function eP(...n){return e=>{let t=!1;const r=n.map(i=>{const o=Z0(i,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Z0(n[i],null)}}}}function ft(...n){return T.useCallback(eP(...n),n)}function st(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var hn=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},tP=Rx[" useId ".trim().toString()]||(()=>{}),nP=0;function Vo(n){const[e,t]=T.useState(tP());return hn(()=>{t(r=>r??String(nP++))},[n]),n||(e?`radix-${e}`:"")}var rP=Rx[" useInsertionEffect ".trim().toString()]||hn;function oc({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,o,l]=iP({defaultProp:e,onChange:t}),c=n!==void 0,f=c?n:i;{const m=T.useRef(n!==void 0);T.useEffect(()=>{const _=m.current;_!==c&&console.warn(`${r} is changing from ${_?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const p=T.useCallback(m=>{var _;if(c){const w=sP(m)?m(n):m;w!==n&&((_=l.current)==null||_.call(l,w))}else o(m)},[c,n,o,l]);return[f,p]}function iP({defaultProp:n,onChange:e}){const[t,r]=T.useState(n),i=T.useRef(t),o=T.useRef(e);return rP(()=>{o.current=e},[e]),T.useEffect(()=>{var l;i.current!==t&&((l=o.current)==null||l.call(o,t),i.current=t)},[t,i]),[t,r,o]}function sP(n){return typeof n=="function"}function Fo(n){const e=aP(n),t=T.forwardRef((r,i)=>{const{children:o,...l}=r,c=T.Children.toArray(o),f=c.find(uP);if(f){const p=f.props.children,m=c.map(_=>_===f?T.Children.count(p)>1?T.Children.only(null):T.isValidElement(p)?p.props.children:null:_);return S.jsx(e,{...l,ref:i,children:T.isValidElement(p)?T.cloneElement(p,void 0,m):null})}return S.jsx(e,{...l,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}var oP=Fo("Slot");function aP(n){const e=T.forwardRef((t,r)=>{const{children:i,...o}=t,l=T.isValidElement(i)?dP(i):void 0,c=ft(l,r);if(T.isValidElement(i)){const f=cP(o,i.props);return i.type!==T.Fragment&&(f.ref=c),T.cloneElement(i,f)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Kx=Symbol("radix.slottable");function lP(n){const e=({children:t})=>S.jsx(S.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=Kx,e}function uP(n){return T.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Kx}function cP(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function dP(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var fP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lt=fP.reduce((n,e)=>{const t=Fo(`Primitive.${e}`),r=T.forwardRef((i,o)=>{const{asChild:l,...c}=i,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(f,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function hP(n,e){n&&jc.flushSync(()=>n.dispatchEvent(e))}function Uo(n){const e=T.useRef(n);return T.useEffect(()=>{e.current=n}),T.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function pP(n,e=globalThis==null?void 0:globalThis.document){const t=Uo(n);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var mP="DismissableLayer",Jg="dismissableLayer.update",gP="dismissableLayer.pointerDownOutside",vP="dismissableLayer.focusOutside",X0,Yx=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vh=T.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...f}=n,p=T.useContext(Yx),[m,_]=T.useState(null),w=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=T.useState({}),b=ft(e,D=>_(D)),I=Array.from(p.layers),[k]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),P=I.indexOf(k),M=m?I.indexOf(m):-1,L=p.layersWithOutsidePointerEventsDisabled.size>0,H=M>=P,Z=wP(D=>{const A=D.target,O=[...p.branches].some(j=>j.contains(A));!H||O||(i==null||i(D),l==null||l(D),D.defaultPrevented||c==null||c())},w),J=EP(D=>{const A=D.target;[...p.branches].some(j=>j.contains(A))||(o==null||o(D),l==null||l(D),D.defaultPrevented||c==null||c())},w);return pP(D=>{M===p.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},w),T.useEffect(()=>{if(m)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(X0=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),J0(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=X0)}},[m,w,t,p]),T.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),J0())},[m,p]),T.useEffect(()=>{const D=()=>x({});return document.addEventListener(Jg,D),()=>document.removeEventListener(Jg,D)},[]),S.jsx(lt.div,{...f,ref:b,style:{pointerEvents:L?H?"auto":"none":void 0,...n.style},onFocusCapture:st(n.onFocusCapture,J.onFocusCapture),onBlurCapture:st(n.onBlurCapture,J.onBlurCapture),onPointerDownCapture:st(n.onPointerDownCapture,Z.onPointerDownCapture)})});Vh.displayName=mP;var yP="DismissableLayerBranch",_P=T.forwardRef((n,e)=>{const t=T.useContext(Yx),r=T.useRef(null),i=ft(e,r);return T.useEffect(()=>{const o=r.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),S.jsx(lt.div,{...n,ref:i})});_P.displayName=yP;function wP(n,e=globalThis==null?void 0:globalThis.document){const t=Uo(n),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let f=function(){Qx(gP,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function EP(n,e=globalThis==null?void 0:globalThis.document){const t=Uo(n),r=T.useRef(!1);return T.useEffect(()=>{const i=o=>{o.target&&!r.current&&Qx(vP,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function J0(){const n=new CustomEvent(Jg);document.dispatchEvent(n)}function Qx(n,e,t,{discrete:r}){const i=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?hP(i,o):i.dispatchEvent(o)}var ig="focusScope.autoFocusOnMount",sg="focusScope.autoFocusOnUnmount",eE={bubbles:!1,cancelable:!0},TP="FocusScope",jh=T.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=n,[c,f]=T.useState(null),p=Uo(i),m=Uo(o),_=T.useRef(null),w=ft(e,I=>f(I)),x=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let I=function(L){if(x.paused||!c)return;const H=L.target;c.contains(H)?_.current=H:xs(_.current,{select:!0})},k=function(L){if(x.paused||!c)return;const H=L.relatedTarget;H!==null&&(c.contains(H)||xs(_.current,{select:!0}))},P=function(L){if(document.activeElement===document.body)for(const Z of L)Z.removedNodes.length>0&&xs(c)};document.addEventListener("focusin",I),document.addEventListener("focusout",k);const M=new MutationObserver(P);return c&&M.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",k),M.disconnect()}}},[r,c,x.paused]),T.useEffect(()=>{if(c){nE.add(x);const I=document.activeElement;if(!c.contains(I)){const P=new CustomEvent(ig,eE);c.addEventListener(ig,p),c.dispatchEvent(P),P.defaultPrevented||(xP(kP(Zx(c)),{select:!0}),document.activeElement===I&&xs(c))}return()=>{c.removeEventListener(ig,p),setTimeout(()=>{const P=new CustomEvent(sg,eE);c.addEventListener(sg,m),c.dispatchEvent(P),P.defaultPrevented||xs(I??document.body,{select:!0}),c.removeEventListener(sg,m),nE.remove(x)},0)}}},[c,p,m,x]);const b=T.useCallback(I=>{if(!t&&!r||x.paused)return;const k=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,P=document.activeElement;if(k&&P){const M=I.currentTarget,[L,H]=SP(M);L&&H?!I.shiftKey&&P===H?(I.preventDefault(),t&&xs(L,{select:!0})):I.shiftKey&&P===L&&(I.preventDefault(),t&&xs(H,{select:!0})):P===M&&I.preventDefault()}},[t,r,x.paused]);return S.jsx(lt.div,{tabIndex:-1,...l,ref:w,onKeyDown:b})});jh.displayName=TP;function xP(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(xs(r,{select:e}),document.activeElement!==t)return}function SP(n){const e=Zx(n),t=tE(e,n),r=tE(e.reverse(),n);return[t,r]}function Zx(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function tE(n,e){for(const t of n)if(!IP(t,{upTo:e}))return t}function IP(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function bP(n){return n instanceof HTMLInputElement&&"select"in n}function xs(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&bP(n)&&e&&n.select()}}var nE=CP();function CP(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=rE(n,e),n.unshift(e)},remove(e){var t;n=rE(n,e),(t=n[0])==null||t.resume()}}}function rE(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function kP(n){return n.filter(e=>e.tagName!=="A")}var AP="Portal",Fh=T.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,o]=T.useState(!1);hn(()=>o(!0),[]);const l=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?ZR.createPortal(S.jsx(lt.div,{...r,ref:e}),l):null});Fh.displayName=AP;function RP(n,e){return T.useReducer((t,r)=>e[t][r]??t,n)}var ra=n=>{const{present:e,children:t}=n,r=PP(e),i=typeof t=="function"?t({present:r.isPresent}):T.Children.only(t),o=ft(r.ref,NP(i));return typeof t=="function"||r.isPresent?T.cloneElement(i,{ref:o}):null};ra.displayName="Presence";function PP(n){const[e,t]=T.useState(),r=T.useRef(null),i=T.useRef(n),o=T.useRef("none"),l=n?"mounted":"unmounted",[c,f]=RP(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const p=Sf(r.current);o.current=c==="mounted"?p:"none"},[c]),hn(()=>{const p=r.current,m=i.current;if(m!==n){const w=o.current,x=Sf(p);n?f("MOUNT"):x==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(m&&w!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),hn(()=>{if(e){let p;const m=e.ownerDocument.defaultView??window,_=x=>{const I=Sf(r.current).includes(x.animationName);if(x.target===e&&I&&(f("ANIMATION_END"),!i.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",p=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},w=x=>{x.target===e&&(o.current=Sf(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{m.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:T.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function Sf(n){return(n==null?void 0:n.animationName)||"none"}function NP(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var og=0;function ty(){T.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??iE()),document.body.insertAdjacentElement("beforeend",n[1]??iE()),og++,()=>{og===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),og--}},[])}function iE(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Yr=function(){return Yr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Yr.apply(this,arguments)};function Fc(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function DP(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var zf="right-scroll-bar-position",$f="width-before-scroll-bar",OP="with-scroll-bars-hidden",MP="--removed-body-scroll-bar-size";function ag(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function LP(n,e){var t=T.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var VP=typeof window<"u"?T.useLayoutEffect:T.useEffect,sE=new WeakMap;function jP(n,e){var t=LP(null,function(r){return n.forEach(function(i){return ag(i,r)})});return VP(function(){var r=sE.get(t);if(r){var i=new Set(r),o=new Set(n),l=t.current;i.forEach(function(c){o.has(c)||ag(c,null)}),o.forEach(function(c){i.has(c)||ag(c,l)})}sE.set(t,n)},[n]),t}function FP(n){return n}function UP(n,e){e===void 0&&(e=FP);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var l=e(o,r);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;t.length;){var l=t;t=[],l.forEach(o)}t={push:function(c){return o(c)},filter:function(){return t}}},assignMedium:function(o){r=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(o),l=t}var f=function(){var m=l;l=[],m.forEach(o)},p=function(){return Promise.resolve().then(f)};p(),t={push:function(m){l.push(m),p()},filter:function(m){return l=l.filter(m),t}}}};return i}function zP(n){n===void 0&&(n={});var e=UP(null);return e.options=Yr({async:!0,ssr:!1},n),e}var Xx=function(n){var e=n.sideCar,t=Fc(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Yr({},t))};Xx.isSideCarExport=!0;function $P(n,e){return n.useMedium(e),Xx}var Jx=zP(),lg=function(){},Uh=T.forwardRef(function(n,e){var t=T.useRef(null),r=T.useState({onScrollCapture:lg,onWheelCapture:lg,onTouchMoveCapture:lg}),i=r[0],o=r[1],l=n.forwardProps,c=n.children,f=n.className,p=n.removeScrollBar,m=n.enabled,_=n.shards,w=n.sideCar,x=n.noIsolation,b=n.inert,I=n.allowPinchZoom,k=n.as,P=k===void 0?"div":k,M=n.gapMode,L=Fc(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=w,Z=jP([t,e]),J=Yr(Yr({},L),i);return T.createElement(T.Fragment,null,m&&T.createElement(H,{sideCar:Jx,removeScrollBar:p,shards:_,noIsolation:x,inert:b,setCallbacks:o,allowPinchZoom:!!I,lockRef:t,gapMode:M}),l?T.cloneElement(T.Children.only(c),Yr(Yr({},J),{ref:Z})):T.createElement(P,Yr({},J,{className:f,ref:Z}),c))});Uh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uh.classNames={fullWidth:$f,zeroRight:zf};var BP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WP(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=BP();return e&&n.setAttribute("nonce",e),n}function HP(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function qP(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var GP=function(){var n=0,e=null;return{add:function(t){n==0&&(e=WP())&&(HP(e,t),qP(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},KP=function(){var n=GP();return function(e,t){T.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},eS=function(){var n=KP(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},YP={left:0,top:0,right:0,gap:0},ug=function(n){return parseInt(n||"",10)||0},QP=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[ug(t),ug(r),ug(i)]},ZP=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return YP;var e=QP(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},XP=eS(),ll="data-scroll-locked",JP=function(n,e,t,r){var i=n.left,o=n.top,l=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(OP,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(ll,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat($f,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(zf," .").concat(zf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($f," .").concat($f,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ll,`] {
    `).concat(MP,": ").concat(c,`px;
  }
`)},oE=function(){var n=parseInt(document.body.getAttribute(ll)||"0",10);return isFinite(n)?n:0},eN=function(){T.useEffect(function(){return document.body.setAttribute(ll,(oE()+1).toString()),function(){var n=oE()-1;n<=0?document.body.removeAttribute(ll):document.body.setAttribute(ll,n.toString())}},[])},tN=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;eN();var o=T.useMemo(function(){return ZP(i)},[i]);return T.createElement(XP,{styles:JP(o,!e,i,t?"":"!important")})},ev=!1;if(typeof window<"u")try{var If=Object.defineProperty({},"passive",{get:function(){return ev=!0,!0}});window.addEventListener("test",If,If),window.removeEventListener("test",If,If)}catch{ev=!1}var Za=ev?{passive:!1}:!1,nN=function(n){return n.tagName==="TEXTAREA"},tS=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!nN(n)&&t[e]==="visible")},rN=function(n){return tS(n,"overflowY")},iN=function(n){return tS(n,"overflowX")},aE=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=nS(n,r);if(i){var o=rS(n,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},sN=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},oN=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},nS=function(n,e){return n==="v"?rN(e):iN(e)},rS=function(n,e){return n==="v"?sN(e):oN(e)},aN=function(n,e){return n==="h"&&e==="rtl"?-1:1},lN=function(n,e,t,r,i){var o=aN(n,window.getComputedStyle(e).direction),l=o*r,c=t.target,f=e.contains(c),p=!1,m=l>0,_=0,w=0;do{var x=rS(n,c),b=x[0],I=x[1],k=x[2],P=I-k-o*b;(b||P)&&nS(n,c)&&(_+=P,w+=b),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(m&&Math.abs(_)<1||!m&&Math.abs(w)<1)&&(p=!0),p},bf=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},lE=function(n){return[n.deltaX,n.deltaY]},uE=function(n){return n&&"current"in n?n.current:n},uN=function(n,e){return n[0]===e[0]&&n[1]===e[1]},cN=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},dN=0,Xa=[];function fN(n){var e=T.useRef([]),t=T.useRef([0,0]),r=T.useRef(),i=T.useState(dN++)[0],o=T.useState(eS)[0],l=T.useRef(n);T.useEffect(function(){l.current=n},[n]),T.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var I=DP([n.lockRef.current],(n.shards||[]).map(uE),!0).filter(Boolean);return I.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),I.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var c=T.useCallback(function(I,k){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!l.current.allowPinchZoom;var P=bf(I),M=t.current,L="deltaX"in I?I.deltaX:M[0]-P[0],H="deltaY"in I?I.deltaY:M[1]-P[1],Z,J=I.target,D=Math.abs(L)>Math.abs(H)?"h":"v";if("touches"in I&&D==="h"&&J.type==="range")return!1;var A=aE(D,J);if(!A)return!0;if(A?Z=D:(Z=D==="v"?"h":"v",A=aE(D,J)),!A)return!1;if(!r.current&&"changedTouches"in I&&(L||H)&&(r.current=Z),!Z)return!0;var O=r.current||Z;return lN(O,k,I,O==="h"?L:H)},[]),f=T.useCallback(function(I){var k=I;if(!(!Xa.length||Xa[Xa.length-1]!==o)){var P="deltaY"in k?lE(k):bf(k),M=e.current.filter(function(Z){return Z.name===k.type&&(Z.target===k.target||k.target===Z.shadowParent)&&uN(Z.delta,P)})[0];if(M&&M.should){k.cancelable&&k.preventDefault();return}if(!M){var L=(l.current.shards||[]).map(uE).filter(Boolean).filter(function(Z){return Z.contains(k.target)}),H=L.length>0?c(k,L[0]):!l.current.noIsolation;H&&k.cancelable&&k.preventDefault()}}},[]),p=T.useCallback(function(I,k,P,M){var L={name:I,delta:k,target:P,should:M,shadowParent:hN(P)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(H){return H!==L})},1)},[]),m=T.useCallback(function(I){t.current=bf(I),r.current=void 0},[]),_=T.useCallback(function(I){p(I.type,lE(I),I.target,c(I,n.lockRef.current))},[]),w=T.useCallback(function(I){p(I.type,bf(I),I.target,c(I,n.lockRef.current))},[]);T.useEffect(function(){return Xa.push(o),n.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:w}),document.addEventListener("wheel",f,Za),document.addEventListener("touchmove",f,Za),document.addEventListener("touchstart",m,Za),function(){Xa=Xa.filter(function(I){return I!==o}),document.removeEventListener("wheel",f,Za),document.removeEventListener("touchmove",f,Za),document.removeEventListener("touchstart",m,Za)}},[]);var x=n.removeScrollBar,b=n.inert;return T.createElement(T.Fragment,null,b?T.createElement(o,{styles:cN(i)}):null,x?T.createElement(tN,{gapMode:n.gapMode}):null)}function hN(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const pN=$P(Jx,fN);var zh=T.forwardRef(function(n,e){return T.createElement(Uh,Yr({},n,{ref:e,sideCar:pN}))});zh.classNames=Uh.classNames;var mN=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Ja=new WeakMap,Cf=new WeakMap,kf={},cg=0,iS=function(n){return n&&(n.host||iS(n.parentNode))},gN=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=iS(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},vN=function(n,e,t,r){var i=gN(e,Array.isArray(n)?n:[n]);kf[t]||(kf[t]=new WeakMap);var o=kf[t],l=[],c=new Set,f=new Set(i),p=function(_){!_||c.has(_)||(c.add(_),p(_.parentNode))};i.forEach(p);var m=function(_){!_||f.has(_)||Array.prototype.forEach.call(_.children,function(w){if(c.has(w))m(w);else try{var x=w.getAttribute(r),b=x!==null&&x!=="false",I=(Ja.get(w)||0)+1,k=(o.get(w)||0)+1;Ja.set(w,I),o.set(w,k),l.push(w),I===1&&b&&Cf.set(w,!0),k===1&&w.setAttribute(t,"true"),b||w.setAttribute(r,"true")}catch(P){console.error("aria-hidden: cannot operate on ",w,P)}})};return m(e),c.clear(),cg++,function(){l.forEach(function(_){var w=Ja.get(_)-1,x=o.get(_)-1;Ja.set(_,w),o.set(_,x),w||(Cf.has(_)||_.removeAttribute(r),Cf.delete(_)),x||_.removeAttribute(t)}),cg--,cg||(Ja=new WeakMap,Ja=new WeakMap,Cf=new WeakMap,kf={})}},ny=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=mN(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),vN(r,i,t,"aria-hidden")):function(){return null}},$h="Dialog",[sS,oS]=na($h),[yN,Lr]=sS($h),aS=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:o,modal:l=!0}=n,c=T.useRef(null),f=T.useRef(null),[p,m]=oc({prop:r,defaultProp:i??!1,onChange:o,caller:$h});return S.jsx(yN,{scope:e,triggerRef:c,contentRef:f,contentId:Vo(),titleId:Vo(),descriptionId:Vo(),open:p,onOpenChange:m,onOpenToggle:T.useCallback(()=>m(_=>!_),[m]),modal:l,children:t})};aS.displayName=$h;var lS="DialogTrigger",uS=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Lr(lS,t),o=ft(e,i.triggerRef);return S.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":sy(i.open),...r,ref:o,onClick:st(n.onClick,i.onOpenToggle)})});uS.displayName=lS;var ry="DialogPortal",[_N,cS]=sS(ry,{forceMount:void 0}),dS=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,o=Lr(ry,e);return S.jsx(_N,{scope:e,forceMount:t,children:T.Children.map(r,l=>S.jsx(ra,{present:t||o.open,children:S.jsx(Fh,{asChild:!0,container:i,children:l})}))})};dS.displayName=ry;var nh="DialogOverlay",fS=T.forwardRef((n,e)=>{const t=cS(nh,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=Lr(nh,n.__scopeDialog);return o.modal?S.jsx(ra,{present:r||o.open,children:S.jsx(EN,{...i,ref:e})}):null});fS.displayName=nh;var wN=Fo("DialogOverlay.RemoveScroll"),EN=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Lr(nh,t);return S.jsx(zh,{as:wN,allowPinchZoom:!0,shards:[i.contentRef],children:S.jsx(lt.div,{"data-state":sy(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),zo="DialogContent",hS=T.forwardRef((n,e)=>{const t=cS(zo,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=Lr(zo,n.__scopeDialog);return S.jsx(ra,{present:r||o.open,children:o.modal?S.jsx(TN,{...i,ref:e}):S.jsx(xN,{...i,ref:e})})});hS.displayName=zo;var TN=T.forwardRef((n,e)=>{const t=Lr(zo,n.__scopeDialog),r=T.useRef(null),i=ft(e,t.contentRef,r);return T.useEffect(()=>{const o=r.current;if(o)return ny(o)},[]),S.jsx(pS,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(n.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:st(n.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:st(n.onFocusOutside,o=>o.preventDefault())})}),xN=T.forwardRef((n,e)=>{const t=Lr(zo,n.__scopeDialog),r=T.useRef(!1),i=T.useRef(!1);return S.jsx(pS,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,o),o.defaultPrevented||(r.current||(c=t.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var f,p;(f=n.onInteractOutside)==null||f.call(n,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((p=t.triggerRef.current)==null?void 0:p.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),pS=T.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=n,c=Lr(zo,t),f=T.useRef(null),p=ft(e,f);return ty(),S.jsxs(S.Fragment,{children:[S.jsx(jh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:S.jsx(Vh,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":sy(c.open),...l,ref:p,onDismiss:()=>c.onOpenChange(!1)})}),S.jsxs(S.Fragment,{children:[S.jsx(IN,{titleId:c.titleId}),S.jsx(CN,{contentRef:f,descriptionId:c.descriptionId})]})]})}),iy="DialogTitle",mS=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Lr(iy,t);return S.jsx(lt.h2,{id:i.titleId,...r,ref:e})});mS.displayName=iy;var gS="DialogDescription",vS=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Lr(gS,t);return S.jsx(lt.p,{id:i.descriptionId,...r,ref:e})});vS.displayName=gS;var yS="DialogClose",_S=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Lr(yS,t);return S.jsx(lt.button,{type:"button",...r,ref:e,onClick:st(n.onClick,()=>i.onOpenChange(!1))})});_S.displayName=yS;function sy(n){return n?"open":"closed"}var wS="DialogTitleWarning",[SN,ES]=XR(wS,{contentName:zo,titleName:iy,docsSlug:"dialog"}),IN=({titleId:n})=>{const e=ES(wS),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},bN="DialogDescriptionWarning",CN=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ES(bN).contentName}}.`;return T.useEffect(()=>{var o;const i=(o=n.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},kN=aS,AN=uS,RN=dS,PN=fS,NN=hS,DN=mS,ON=vS,TS=_S,xS="AlertDialog",[MN,Sz]=na(xS,[oS]),Gi=oS(),SS=n=>{const{__scopeAlertDialog:e,...t}=n,r=Gi(e);return S.jsx(kN,{...r,...t,modal:!0})};SS.displayName=xS;var LN="AlertDialogTrigger",IS=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Gi(t);return S.jsx(AN,{...i,...r,ref:e})});IS.displayName=LN;var VN="AlertDialogPortal",bS=n=>{const{__scopeAlertDialog:e,...t}=n,r=Gi(e);return S.jsx(RN,{...r,...t})};bS.displayName=VN;var jN="AlertDialogOverlay",CS=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Gi(t);return S.jsx(PN,{...i,...r,ref:e})});CS.displayName=jN;var ul="AlertDialogContent",[FN,UN]=MN(ul),zN=lP("AlertDialogContent"),kS=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,o=Gi(t),l=T.useRef(null),c=ft(e,l),f=T.useRef(null);return S.jsx(SN,{contentName:ul,titleName:AS,docsSlug:"alert-dialog",children:S.jsx(FN,{scope:t,cancelRef:f,children:S.jsxs(NN,{role:"alertdialog",...o,...i,ref:c,onOpenAutoFocus:st(i.onOpenAutoFocus,p=>{var m;p.preventDefault(),(m=f.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[S.jsx(zN,{children:r}),S.jsx(WN,{contentRef:l})]})})})});kS.displayName=ul;var AS="AlertDialogTitle",RS=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Gi(t);return S.jsx(DN,{...i,...r,ref:e})});RS.displayName=AS;var PS="AlertDialogDescription",$N=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Gi(t);return S.jsx(ON,{...i,...r,ref:e})});$N.displayName=PS;var BN="AlertDialogAction",NS=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Gi(t);return S.jsx(TS,{...i,...r,ref:e})});NS.displayName=BN;var DS="AlertDialogCancel",OS=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=UN(DS,t),o=Gi(t),l=ft(e,i);return S.jsx(TS,{...o,...r,ref:l})});OS.displayName=DS;var WN=({contentRef:n})=>{const e=`\`${ul}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ul}\` by passing a \`${PS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ul}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return T.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},HN=SS,qN=IS,GN=bS,KN=CS,YN=kS,QN=NS,ZN=OS,XN=RS;function MS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=MS(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function LS(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=MS(n))&&(r&&(r+=" "),r+=e);return r}const oy="-",JN=n=>{const e=t2(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(oy);return c[0]===""&&c.length!==1&&c.shift(),VS(c,e)||e2(l)},getConflictingClassGroupIds:(l,c)=>{const f=t[l]||[];return c&&r[l]?[...f,...r[l]]:f}}},VS=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?VS(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=n.join(oy);return(l=e.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},cE=/^\[(.+)\]$/,e2=n=>{if(cE.test(n)){const e=cE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},t2=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)tv(t[i],r,i,e);return r},tv=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const o=i===""?e:dE(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(n2(i)){tv(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,l])=>{tv(l,dE(e,o),t,r)})})},dE=(n,e)=>{let t=n;return e.split(oy).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},n2=n=>n.isThemeGetter,r2=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(o,l)=>{t.set(o,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set(o,l){t.has(o)?t.set(o,l):i(o,l)}}},nv="!",rv=":",i2=rv.length,s2=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const o=[];let l=0,c=0,f=0,p;for(let b=0;b<i.length;b++){let I=i[b];if(l===0&&c===0){if(I===rv){o.push(i.slice(f,b)),f=b+i2;continue}if(I==="/"){p=b;continue}}I==="["?l++:I==="]"?l--:I==="("?c++:I===")"&&c--}const m=o.length===0?i:i.substring(f),_=o2(m),w=_!==m,x=p&&p>f?p-f:void 0;return{modifiers:o,hasImportantModifier:w,baseClassName:_,maybePostfixModifierPosition:x}};if(e){const i=e+rv,o=r;r=l=>l.startsWith(i)?o(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=o=>t({className:o,parseClassName:i})}return r},o2=n=>n.endsWith(nv)?n.substring(0,n.length-1):n.startsWith(nv)?n.substring(1):n,a2=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(l=>{l[0]==="["||e[l]?(i.push(...o.sort(),l),o=[]):o.push(l)}),i.push(...o.sort()),i}},l2=n=>({cache:r2(n.cacheSize),parseClassName:s2(n),sortModifiers:a2(n),...JN(n)}),u2=/\s+/,c2=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,l=[],c=n.trim().split(u2);let f="";for(let p=c.length-1;p>=0;p-=1){const m=c[p],{isExternal:_,modifiers:w,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:I}=t(m);if(_){f=m+(f.length>0?" "+f:f);continue}let k=!!I,P=r(k?b.substring(0,I):b);if(!P){if(!k){f=m+(f.length>0?" "+f:f);continue}if(P=r(b),!P){f=m+(f.length>0?" "+f:f);continue}k=!1}const M=o(w).join(":"),L=x?M+nv:M,H=L+P;if(l.includes(H))continue;l.push(H);const Z=i(P,k);for(let J=0;J<Z.length;++J){const D=Z[J];l.push(L+D)}f=m+(f.length>0?" "+f:f)}return f};function d2(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=jS(e))&&(r&&(r+=" "),r+=t);return r}const jS=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=jS(n[r]))&&(t&&(t+=" "),t+=e);return t};function f2(n,...e){let t,r,i,o=l;function l(f){const p=e.reduce((m,_)=>_(m),n());return t=l2(p),r=t.cache.get,i=t.cache.set,o=c,c(f)}function c(f){const p=r(f);if(p)return p;const m=c2(f,t);return i(f,m),m}return function(){return o(d2.apply(null,arguments))}}const $t=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},FS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,US=/^\((?:(\w[\w-]*):)?(.+)\)$/i,h2=/^\d+\/\d+$/,p2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,m2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,g2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,v2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,y2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,el=n=>h2.test(n),Ye=n=>!!n&&!Number.isNaN(Number(n)),_s=n=>!!n&&Number.isInteger(Number(n)),dg=n=>n.endsWith("%")&&Ye(n.slice(0,-1)),Ci=n=>p2.test(n),_2=()=>!0,w2=n=>m2.test(n)&&!g2.test(n),zS=()=>!1,E2=n=>v2.test(n),T2=n=>y2.test(n),x2=n=>!Ee(n)&&!Te(n),S2=n=>Dl(n,WS,zS),Ee=n=>FS.test(n),Po=n=>Dl(n,HS,w2),fg=n=>Dl(n,A2,Ye),fE=n=>Dl(n,$S,zS),I2=n=>Dl(n,BS,T2),Af=n=>Dl(n,qS,E2),Te=n=>US.test(n),zu=n=>Ol(n,HS),b2=n=>Ol(n,R2),hE=n=>Ol(n,$S),C2=n=>Ol(n,WS),k2=n=>Ol(n,BS),Rf=n=>Ol(n,qS,!0),Dl=(n,e,t)=>{const r=FS.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Ol=(n,e,t=!1)=>{const r=US.exec(n);return r?r[1]?e(r[1]):t:!1},$S=n=>n==="position"||n==="percentage",BS=n=>n==="image"||n==="url",WS=n=>n==="length"||n==="size"||n==="bg-size",HS=n=>n==="length",A2=n=>n==="number",R2=n=>n==="family-name",qS=n=>n==="shadow",P2=()=>{const n=$t("color"),e=$t("font"),t=$t("text"),r=$t("font-weight"),i=$t("tracking"),o=$t("leading"),l=$t("breakpoint"),c=$t("container"),f=$t("spacing"),p=$t("radius"),m=$t("shadow"),_=$t("inset-shadow"),w=$t("text-shadow"),x=$t("drop-shadow"),b=$t("blur"),I=$t("perspective"),k=$t("aspect"),P=$t("ease"),M=$t("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Z=()=>[...H(),Te,Ee],J=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],A=()=>[Te,Ee,f],O=()=>[el,"full","auto",...A()],j=()=>[_s,"none","subgrid",Te,Ee],U=()=>["auto",{span:["full",_s,Te,Ee]},_s,Te,Ee],$=()=>[_s,"auto",Te,Ee],N=()=>["auto","min","max","fr",Te,Ee],xe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ae=()=>["start","end","center","stretch","center-safe","end-safe"],_e=()=>["auto",...A()],ee=()=>[el,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],F=()=>[n,Te,Ee],ce=()=>[...H(),hE,fE,{position:[Te,Ee]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",C2,S2,{size:[Te,Ee]}],X=()=>[dg,zu,Po],fe=()=>["","none","full",p,Te,Ee],Se=()=>["",Ye,zu,Po],De=()=>["solid","dashed","dotted","double"],$e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[Ye,dg,hE,fE],be=()=>["","none",b,Te,Ee],je=()=>["none",Ye,Te,Ee],Oe=()=>["none",Ye,Te,Ee],He=()=>[Ye,Te,Ee],Ge=()=>[el,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ci],breakpoint:[Ci],color:[_2],container:[Ci],"drop-shadow":[Ci],ease:["in","out","in-out"],font:[x2],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ci],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ci],shadow:[Ci],spacing:["px",Ye],text:[Ci],"text-shadow":[Ci],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",el,Ee,Te,k]}],container:["container"],columns:[{columns:[Ye,Ee,Te,c]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Z()}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[_s,"auto",Te,Ee]}],basis:[{basis:[el,"full","auto",c,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ye,el,"auto","initial","none",Ee]}],grow:[{grow:["",Ye,Te,Ee]}],shrink:[{shrink:["",Ye,Te,Ee]}],order:[{order:[_s,"first","last","none",Te,Ee]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...xe(),"normal"]}],"justify-items":[{"justify-items":[...Ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ae()]}],"align-content":[{content:["normal",...xe()]}],"align-items":[{items:[...Ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":xe()}],"place-items":[{"place-items":[...Ae(),"baseline"]}],"place-self":[{"place-self":["auto",...Ae()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:_e()}],mx:[{mx:_e()}],my:[{my:_e()}],ms:[{ms:_e()}],me:[{me:_e()}],mt:[{mt:_e()}],mr:[{mr:_e()}],mb:[{mb:_e()}],ml:[{ml:_e()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[c,"screen",...ee()]}],"min-w":[{"min-w":[c,"screen","none",...ee()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",t,zu,Po]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Te,fg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dg,Ee]}],"font-family":[{font:[b2,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Te,Ee]}],"line-clamp":[{"line-clamp":[Ye,"none",Te,fg]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",Te,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...De(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ye,"from-font","auto",Te,Po]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Ye,"auto",Te,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_s,Te,Ee],radial:["",Te,Ee],conic:[_s,Te,Ee]},k2,I2]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:fe()}],"rounded-s":[{"rounded-s":fe()}],"rounded-e":[{"rounded-e":fe()}],"rounded-t":[{"rounded-t":fe()}],"rounded-r":[{"rounded-r":fe()}],"rounded-b":[{"rounded-b":fe()}],"rounded-l":[{"rounded-l":fe()}],"rounded-ss":[{"rounded-ss":fe()}],"rounded-se":[{"rounded-se":fe()}],"rounded-ee":[{"rounded-ee":fe()}],"rounded-es":[{"rounded-es":fe()}],"rounded-tl":[{"rounded-tl":fe()}],"rounded-tr":[{"rounded-tr":fe()}],"rounded-br":[{"rounded-br":fe()}],"rounded-bl":[{"rounded-bl":fe()}],"border-w":[{border:Se()}],"border-w-x":[{"border-x":Se()}],"border-w-y":[{"border-y":Se()}],"border-w-s":[{"border-s":Se()}],"border-w-e":[{"border-e":Se()}],"border-w-t":[{"border-t":Se()}],"border-w-r":[{"border-r":Se()}],"border-w-b":[{"border-b":Se()}],"border-w-l":[{"border-l":Se()}],"divide-x":[{"divide-x":Se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...De(),"hidden","none"]}],"divide-style":[{divide:[...De(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...De(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ye,Te,Ee]}],"outline-w":[{outline:["",Ye,zu,Po]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",m,Rf,Af]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",_,Rf,Af]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:Se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Ye,Po]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":Se()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",w,Rf,Af]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Ye,Te,Ee]}],"mix-blend":[{"mix-blend":[...$e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Te,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":H()}],"mask-image-conic-pos":[{"mask-conic":[Ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Ee]}],filter:[{filter:["","none",Te,Ee]}],blur:[{blur:be()}],brightness:[{brightness:[Ye,Te,Ee]}],contrast:[{contrast:[Ye,Te,Ee]}],"drop-shadow":[{"drop-shadow":["","none",x,Rf,Af]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Ye,Te,Ee]}],"hue-rotate":[{"hue-rotate":[Ye,Te,Ee]}],invert:[{invert:["",Ye,Te,Ee]}],saturate:[{saturate:[Ye,Te,Ee]}],sepia:[{sepia:["",Ye,Te,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Ee]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[Ye,Te,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[Ye,Te,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ye,Te,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ye,Te,Ee]}],"backdrop-invert":[{"backdrop-invert":["",Ye,Te,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[Ye,Te,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[Ye,Te,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",Ye,Te,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ye,"initial",Te,Ee]}],ease:[{ease:["linear","initial",P,Te,Ee]}],delay:[{delay:[Ye,Te,Ee]}],animate:[{animate:["none",M,Te,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,Te,Ee]}],"perspective-origin":[{"perspective-origin":Z()}],rotate:[{rotate:je()}],"rotate-x":[{"rotate-x":je()}],"rotate-y":[{"rotate-y":je()}],"rotate-z":[{"rotate-z":je()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:He()}],"skew-x":[{"skew-x":He()}],"skew-y":[{"skew-y":He()}],transform:[{transform:[Te,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:Z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ge()}],"translate-x":[{"translate-x":Ge()}],"translate-y":[{"translate-y":Ge()}],"translate-z":[{"translate-z":Ge()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Ee]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Ye,zu,Po,fg]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},N2=f2(P2);function It(...n){return N2(LS(n))}const pE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,mE=LS,D2=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return mE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:o}=e,l=Object.keys(i).map(p=>{const m=t==null?void 0:t[p],_=o==null?void 0:o[p];if(m===null)return null;const w=pE(m)||pE(_);return i[p][w]}),c=t&&Object.entries(t).reduce((p,m)=>{let[_,w]=m;return w===void 0||(p[_]=w),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,m)=>{let{class:_,className:w,...x}=m;return Object.entries(x).every(b=>{let[I,k]=b;return Array.isArray(k)?k.includes({...o,...c}[I]):{...o,...c}[I]===k})?[...p,_,w]:p},[]);return mE(n,l,f,t==null?void 0:t.class,t==null?void 0:t.className)},ac=D2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Xu({className:n,variant:e,size:t,asChild:r=!1,...i}){const o=r?oP:"button";return S.jsx(o,{"data-slot":"button",className:It(ac({variant:e,size:t,className:n})),...i})}function O2({...n}){return S.jsx(HN,{"data-slot":"alert-dialog",...n})}function M2({...n}){return S.jsx(qN,{"data-slot":"alert-dialog-trigger",...n})}function L2({...n}){return S.jsx(GN,{"data-slot":"alert-dialog-portal",...n})}function V2({className:n,...e}){return S.jsx(KN,{"data-slot":"alert-dialog-overlay",className:It("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function j2({className:n,...e}){return S.jsxs(L2,{children:[S.jsx(V2,{}),S.jsx(YN,{"data-slot":"alert-dialog-content",className:It("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...e})]})}function F2({className:n,...e}){return S.jsx("div",{"data-slot":"alert-dialog-header",className:It("flex flex-col gap-2 text-center sm:text-left",n),...e})}function U2({className:n,...e}){return S.jsx("div",{"data-slot":"alert-dialog-footer",className:It("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function z2({className:n,...e}){return S.jsx(XN,{"data-slot":"alert-dialog-title",className:It("text-lg font-semibold",n),...e})}function $2({className:n,...e}){return S.jsx(QN,{className:It(ac(),n),...e})}function B2({className:n,...e}){return S.jsx(ZN,{className:It(ac({variant:"outline"}),n),...e})}const W2=()=>{};var gE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},H2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],c=n[t++],f=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},KS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,c=l?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,m=o>>2,_=(o&3)<<4|c>>4;let w=(c&15)<<2|p>>6,x=p&63;f||(x=64,l||(w=64)),r.push(t[m],t[_],t[w],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(GS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):H2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||p==null||_==null)throw new q2;const w=o<<2|c>>4;if(r.push(w),p!==64){const x=c<<4&240|p>>2;if(r.push(x),_!==64){const b=p<<6&192|_;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class q2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G2=function(n){const e=GS(n);return KS.encodeByteArray(e,!0)},rh=function(n){return G2(n).replace(/\./g,"")},YS=function(n){try{return KS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=()=>K2().__FIREBASE_DEFAULTS__,Q2=()=>{if(typeof process>"u"||typeof gE>"u")return;const n=gE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Z2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&YS(n[1]);return e&&JSON.parse(e)},Bh=()=>{try{return W2()||Y2()||Q2()||Z2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},QS=n=>{var e,t;return(t=(e=Bh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},X2=n=>{const e=QS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ZS=()=>{var n;return(n=Bh())===null||n===void 0?void 0:n.config},XS=n=>{var e;return(e=Bh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n){return n.endsWith(".cloudworkstations.dev")}async function JS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rh(JSON.stringify(t)),rh(JSON.stringify(l)),""].join(".")}const Ju={};function tD(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ju))Ju[e]?n.emulator.push(e):n.prod.push(e);return n}function nD(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let vE=!1;function Wh(n,e){if(typeof window>"u"||typeof document>"u"||!Uc(window.location.host)||Ju[n]===e||Ju[n]||vE)return;Ju[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=tD().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{vE=!0,l()},w}function m(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=nD(r),x=t("text"),b=document.getElementById(x)||document.createElement("span"),I=t("learnmore"),k=document.getElementById(I)||document.createElement("a"),P=t("preprendIcon"),M=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const L=w.element;c(L),m(k,I);const H=p();f(M,P),L.append(M,b,k,H),document.body.appendChild(L)}o?(b.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function iD(){var n;const e=(n=Bh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lD(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uD(){return!iD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cD(){try{return typeof indexedDB=="object"}catch{return!1}}function dD(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="FirebaseError";class Ki extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=fD,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zc.prototype.create)}}class zc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?hD(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ki(i,c,r)}}function hD(n,e){return n.replace(pD,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pD=/\{\$([^}]+)}/g;function mD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $o(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(yE(o)&&yE(l)){if(!$o(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function yE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Hu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function gD(n,e){const t=new vD(n,e);return t.subscribe.bind(t)}class vD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");yD(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=hg),i.error===void 0&&(i.error=hg),i.complete===void 0&&(i.complete=hg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(n){return n&&n._delegate?n._delegate:n}class Bo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new J2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ED(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wD(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wD(n){return n===No?void 0:n}function ED(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _D(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Xe||(Xe={}));const xD={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},SD=Xe.INFO,ID={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},bD=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=ID[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ay{constructor(e){this.name=e,this._logLevel=SD,this._logHandler=bD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const CD=(n,e)=>e.some(t=>n instanceof t);let _E,wE;function kD(){return _E||(_E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AD(){return wE||(wE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e1=new WeakMap,iv=new WeakMap,t1=new WeakMap,pg=new WeakMap,ly=new WeakMap;function RD(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Cs(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&e1.set(t,n)}).catch(()=>{}),ly.set(e,n),e}function PD(n){if(iv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});iv.set(n,e)}let sv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return iv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||t1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ND(n){sv=n(sv)}function DD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(mg(this),e,...t);return t1.set(r,e.sort?e.sort():[e]),Cs(r)}:AD().includes(n)?function(...e){return n.apply(mg(this),e),Cs(e1.get(this))}:function(...e){return Cs(n.apply(mg(this),e))}}function OD(n){return typeof n=="function"?DD(n):(n instanceof IDBTransaction&&PD(n),CD(n,kD())?new Proxy(n,sv):n)}function Cs(n){if(n instanceof IDBRequest)return RD(n);if(pg.has(n))return pg.get(n);const e=OD(n);return e!==n&&(pg.set(n,e),ly.set(e,n)),e}const mg=n=>ly.get(n);function MD(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),c=Cs(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Cs(l.result),f.oldVersion,f.newVersion,Cs(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const LD=["get","getKey","getAll","getAllKeys","count"],VD=["put","add","delete","clear"],gg=new Map;function EE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(gg.get(e))return gg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=VD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LD.includes(t)))return;const o=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&f.done]))[0]};return gg.set(e,o),o}ND(n=>({...n,get:(e,t,r)=>EE(e,t)||n.get(e,t,r),has:(e,t)=>!!EE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function FD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ov="@firebase/app",TE="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new ay("@firebase/app"),UD="@firebase/app-compat",zD="@firebase/analytics-compat",$D="@firebase/analytics",BD="@firebase/app-check-compat",WD="@firebase/app-check",HD="@firebase/auth",qD="@firebase/auth-compat",GD="@firebase/database",KD="@firebase/data-connect",YD="@firebase/database-compat",QD="@firebase/functions",ZD="@firebase/functions-compat",XD="@firebase/installations",JD="@firebase/installations-compat",eO="@firebase/messaging",tO="@firebase/messaging-compat",nO="@firebase/performance",rO="@firebase/performance-compat",iO="@firebase/remote-config",sO="@firebase/remote-config-compat",oO="@firebase/storage",aO="@firebase/storage-compat",lO="@firebase/firestore",uO="@firebase/vertexai",cO="@firebase/firestore-compat",dO="firebase",fO="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="[DEFAULT]",hO={[ov]:"fire-core",[UD]:"fire-core-compat",[$D]:"fire-analytics",[zD]:"fire-analytics-compat",[WD]:"fire-app-check",[BD]:"fire-app-check-compat",[HD]:"fire-auth",[qD]:"fire-auth-compat",[GD]:"fire-rtdb",[KD]:"fire-data-connect",[YD]:"fire-rtdb-compat",[QD]:"fire-fn",[ZD]:"fire-fn-compat",[XD]:"fire-iid",[JD]:"fire-iid-compat",[eO]:"fire-fcm",[tO]:"fire-fcm-compat",[nO]:"fire-perf",[rO]:"fire-perf-compat",[iO]:"fire-rc",[sO]:"fire-rc-compat",[oO]:"fire-gcs",[aO]:"fire-gcs-compat",[lO]:"fire-fst",[cO]:"fire-fst-compat",[uO]:"fire-vertex","fire-js":"fire-js",[dO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,pO=new Map,lv=new Map;function xE(n,e){try{n.container.addComponent(e)}catch(t){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function vl(n){const e=n.name;if(lv.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;lv.set(e,n);for(const t of ih.values())xE(t,n);for(const t of pO.values())xE(t,n);return!0}function uy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Bn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new zc("app","Firebase",mO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=fO;function cy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:av,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ks.create("bad-app-name",{appName:String(i)});if(t||(t=ZS()),!t)throw ks.create("no-options");const o=ih.get(i);if(o){if($o(t,o.options)&&$o(r,o.config))return o;throw ks.create("duplicate-app",{appName:i})}const l=new TD(i);for(const f of lv.values())l.addComponent(f);const c=new gO(t,r,l);return ih.set(i,c),c}function n1(n=av){const e=ih.get(n);if(!e&&n===av&&ZS())return cy();if(!e)throw ks.create("no-app",{appName:n});return e}function As(n,e,t){var r;let i=(r=hO[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(c.join(" "));return}vl(new Bo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="firebase-heartbeat-database",yO=1,lc="firebase-heartbeat-store";let vg=null;function r1(){return vg||(vg=MD(vO,yO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(lc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ks.create("idb-open",{originalErrorMessage:n.message})})),vg}async function _O(n){try{const t=(await r1()).transaction(lc),r=await t.objectStore(lc).get(i1(n));return await t.done,r}catch(e){if(e instanceof Ki)Fi.warn(e.message);else{const t=ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(t.message)}}}async function SE(n,e){try{const r=(await r1()).transaction(lc,"readwrite");await r.objectStore(lc).put(e,i1(n)),await r.done}catch(t){if(t instanceof Ki)Fi.warn(t.message);else{const r=ks.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fi.warn(r.message)}}}function i1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=1024,EO=30;class TO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new SO(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=IE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>EO){const l=IO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=IE(),{heartbeatsToSend:r,unsentEntries:i}=xO(this._heartbeatsCache.heartbeats),o=rh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Fi.warn(t),""}}}function IE(){return new Date().toISOString().substring(0,10)}function xO(n,e=wO){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),bE(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),bE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class SO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cD()?dD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _O(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return SE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return SE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bE(n){return rh(JSON.stringify({version:2,heartbeats:n})).length}function IO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(n){vl(new Bo("platform-logger",e=>new jD(e),"PRIVATE")),vl(new Bo("heartbeat",e=>new TO(e),"PRIVATE")),As(ov,TE,n),As(ov,TE,"esm2017"),As("fire-js","")}bO("");function s1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CO=s1,o1=new zc("auth","Firebase",s1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new ay("@firebase/auth");function kO(n,...e){sh.logLevel<=Xe.WARN&&sh.warn(`Auth (${Ml}): ${n}`,...e)}function Bf(n,...e){sh.logLevel<=Xe.ERROR&&sh.error(`Auth (${Ml}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(n,...e){throw fy(n,...e)}function Cr(n,...e){return fy(n,...e)}function dy(n,e,t){const r=Object.assign(Object.assign({},CO()),{[e]:t});return new zc("auth","Firebase",r).create(e,{appName:n.name})}function Li(n){return dy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AO(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&sr(n,"argument-error"),dy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return o1.create(n,...e)}function Me(n,e,...t){if(!n)throw fy(e,...t)}function Di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bf(e),new Error(e)}function Ui(n,e){n||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function RO(){return CE()==="http:"||CE()==="https:"}function CE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RO()||oD()||"connection"in navigator)?navigator.onLine:!0}function NO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ui(t>e,"Short delay should be less than long delay!"),this.isMobile=rD()||aD()}get(){return PO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(n,e){Ui(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MO=new Bc(3e4,6e4);function Gs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ks(n,e,t,r,i={}){return l1(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=$c(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},o);return sD()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Uc(n.emulatorConfig.host)&&(p.credentials="include"),a1.fetch()(await u1(n,n.config.apiHost,t,c),p)})}async function l1(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},DO),e);try{const i=new VO(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Pf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pf(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Pf(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Pf(n,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw dy(n,m,p);sr(n,m)}}catch(i){if(i instanceof Ki)throw i;sr(n,"network-request-failed",{message:String(i)})}}async function Wc(n,e,t,r,i={}){const o=await Ks(n,e,t,r,i);return"mfaPendingCredential"in o&&sr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function u1(n,e,t,r){const i=`${e}${t}?${r}`,o=n,l=o.config.emulator?hy(n.config,i):`${n.config.apiScheme}://${i}`;return OO.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function LO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),MO.get())})}}function Pf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Cr(n,e,r);return i.customData._tokenResponse=t,i}function kE(n){return n!==void 0&&n.enterprise!==void 0}class jO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return LO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FO(n,e){return Ks(n,"GET","/v2/recaptchaConfig",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(n,e){return Ks(n,"POST","/v1/accounts:delete",e)}async function oh(n,e){return Ks(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zO(n,e=!1){const t=Zt(n),r=await t.getIdToken(e),i=py(r);Me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ec(yg(i.auth_time)),issuedAtTime:ec(yg(i.iat)),expirationTime:ec(yg(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function yg(n){return Number(n)*1e3}function py(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Bf("JWT malformed, contained fewer than 3 sections"),null;try{const i=YS(t);return i?JSON.parse(i):(Bf("Failed to decode base64 JWT payload"),null)}catch(i){return Bf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function AE(n){const e=py(n);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ki&&$O(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function $O({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(n){var e;const t=n.auth,r=await n.getIdToken(),i=await uc(n,oh(t,{idToken:r}));Me(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?c1(o.providerUserInfo):[],c=HO(n.providerData,l),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),m=f?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new cv(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function WO(n){const e=Zt(n);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HO(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function c1(n){return n.map(e=>{var{providerId:t}=e,r=Fc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(n,e){const t=await l1(n,{},async()=>{const r=$c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=await u1(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",a1.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function GO(n,e){return Ks(n,"POST","/v2/accounts:revokeToken",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const t=AE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await qO(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new cl;return r&&(Me(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Me(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(n,e){Me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ir{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Fc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await uc(this,this.stsTokenManager.getToken(this.auth,e));return Me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return zO(this,e)}reload(){return WO(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await uc(this,UO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,c,f,p,m;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(i=t.email)!==null&&i!==void 0?i:void 0,x=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(l=t.photoURL)!==null&&l!==void 0?l:void 0,I=(c=t.tenantId)!==null&&c!==void 0?c:void 0,k=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,P=(p=t.createdAt)!==null&&p!==void 0?p:void 0,M=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:L,emailVerified:H,isAnonymous:Z,providerData:J,stsTokenManager:D}=t;Me(L&&D,e,"internal-error");const A=cl.fromJSON(this.name,D);Me(typeof L=="string",e,"internal-error"),ws(_,e.name),ws(w,e.name),Me(typeof H=="boolean",e,"internal-error"),Me(typeof Z=="boolean",e,"internal-error"),ws(x,e.name),ws(b,e.name),ws(I,e.name),ws(k,e.name),ws(P,e.name),ws(M,e.name);const O=new Ir({uid:L,auth:e,email:w,emailVerified:H,displayName:_,isAnonymous:Z,photoURL:b,phoneNumber:x,tenantId:I,stsTokenManager:A,createdAt:P,lastLoginAt:M});return J&&Array.isArray(J)&&(O.providerData=J.map(j=>Object.assign({},j))),k&&(O._redirectEventId=k),O}static async _fromIdTokenResponse(e,t,r=!1){const i=new cl;i.updateFromServerResponse(t);const o=new Ir({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ah(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?c1(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new cl;c.updateFromIdToken(r);const f=new Ir({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new cv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;function Oi(n){Ui(n instanceof Function,"Expected a class definition");let e=RE.get(n);return e?(Ui(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,RE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}d1.type="NONE";const PE=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(n,e,t){return`firebase:${n}:${e}:${t}`}class dl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Wf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Wf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await oh(this.auth,{idToken:e}).catch(()=>{});return t?Ir._fromGetAccountInfoResponse(this.auth,t,e):null}return Ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new dl(Oi(PE),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Oi(PE);const l=Wf(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const m=await p._get(l);if(m){let _;if(typeof m=="string"){const w=await oh(e,{idToken:m}).catch(()=>{});if(!w)break;_=await Ir._fromGetAccountInfoResponse(e,w,m)}else _=Ir._fromJSON(e,m);p!==o&&(c=_),o=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new dl(o,e,r):(o=f[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new dl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(m1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v1(e))return"Blackberry";if(y1(e))return"Webos";if(h1(e))return"Safari";if((e.includes("chrome/")||p1(e))&&!e.includes("edge/"))return"Chrome";if(g1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function f1(n=pn()){return/firefox\//i.test(n)}function h1(n=pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function p1(n=pn()){return/crios\//i.test(n)}function m1(n=pn()){return/iemobile/i.test(n)}function g1(n=pn()){return/android/i.test(n)}function v1(n=pn()){return/blackberry/i.test(n)}function y1(n=pn()){return/webos/i.test(n)}function my(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function KO(n=pn()){var e;return my(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YO(){return lD()&&document.documentMode===10}function _1(n=pn()){return my(n)||g1(n)||y1(n)||v1(n)||/windows phone/i.test(n)||m1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(n,e=[]){let t;switch(n){case"Browser":t=NE(pn());break;case"Worker":t=`${NE(pn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const f=e(o);l(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(n,e={}){return Ks(n,"GET","/v2/passwordPolicy",Gs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=6;class JO{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:XO,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DE(this),this.idTokenSubscription=new DE(this),this.beforeStateQueue=new QO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oi(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await oh(this,{idToken:e}),r=await Ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Bn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(Li(this));const t=e?Zt(e):null;return t&&Me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZO(this),t=new JO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await GO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oi(e)||this._popupRedirectResolver;Me(t,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[Oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&kO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ys(n){return Zt(n)}class DE{constructor(e){this.auth=e,this.observer=null,this.addObserver=gD(t=>this.observer=t)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tM(n){Hh=n}function E1(n){return Hh.loadJS(n)}function nM(){return Hh.recaptchaEnterpriseScript}function rM(){return Hh.gapiScript}function iM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class sM{constructor(){this.enterprise=new oM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class oM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const aM="recaptcha-enterprise",T1="NO_RECAPTCHA";class lM{constructor(e){this.type=aM,this.auth=Ys(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{FO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new jO(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(f=>{c(f)})})}function i(o,l,c){const f=window.grecaptcha;kE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(T1)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sM().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!t&&kE(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=nM();f.length!==0&&(f+=c),E1(f).then(()=>{i(c,o,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function OE(n,e,t,r=!1,i=!1){const o=new lM(n);let l;if(i)l=T1;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function dv(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await OE(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await OE(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(n,e){const t=uy(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if($o(o,e??{}))return i;sr(i,"already-initialized")}return t.initialize({options:e})}function cM(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Oi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dM(n,e,t){const r=Ys(n);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=x1(e),{host:l,port:c}=fM(e),f=c===null?"":`:${c}`,p={url:`${o}//${l}${f}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me($o(p,r.config.emulator)&&$o(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Uc(l)?(Wh("Auth",!0),JS(`${o}//${l}${f}`)):hM()}function x1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fM(n){const e=x1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:ME(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:ME(l)}}}function ME(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,t){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}async function pM(n,e){return Ks(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(n,e){return Wc(n,"POST","/v1/accounts:signInWithPassword",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(n,e){return Wc(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))}async function vM(n,e){return Wc(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends gy{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new cc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new cc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dv(e,t,"signInWithPassword",mM);case"emailLink":return gM(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dv(e,r,"signUpPassword",pM);case"emailLink":return vM(e,{idToken:t,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(n,e){return Wc(n,"POST","/v1/accounts:signInWithIdp",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="http://localhost";class Wo extends gy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Fc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Wo(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return fl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,fl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fl(e,t)}buildRequest(){const e={requestUri:yM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$c(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wM(n){const e=Wu(Hu(n)).link,t=e?Wu(Hu(e)).deep_link_id:null,r=Wu(Hu(n)).deep_link_id;return(r?Wu(Hu(r)).link:null)||r||t||e||n}class vy{constructor(e){var t,r,i,o,l,c;const f=Wu(Hu(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,m=(r=f.oobCode)!==null&&r!==void 0?r:null,_=_M((i=f.mode)!==null&&i!==void 0?i:null);Me(p&&m&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=m,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=f.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=wM(e);try{return new vy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.providerId=Ll.PROVIDER_ID}static credential(e,t){return cc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=vy.parseLink(t);return Me(r,"argument-error"),cc._fromEmailAndCode(e,r.code,r.tenantId)}}Ll.PROVIDER_ID="password";Ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends yy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Hc{constructor(){super("facebook.com")}static credential(e){return Wo._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wo._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Pi.credential(t,r)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Hc{constructor(){super("github.com")}static credential(e){return Wo._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Hc{constructor(){super("twitter.com")}static credential(e,t){return Wo._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Is.credential(t,r)}catch{return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com";Is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(n,e){return Wc(n,"POST","/v1/accounts:signUp",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Ir._fromIdTokenResponse(e,r,i),l=LE(r);return new Ho({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=LE(r);return new Ho({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function LE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends Ki{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new lh(e,t,r,i)}}function S1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(n,o,e,r):o})}async function TM(n,e,t=!1){const r=await uc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ho._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(n,e,t=!1){const{auth:r}=n;if(Bn(r.app))return Promise.reject(Li(r));const i="reauthenticate";try{const o=await uc(n,S1(r,i,e,n),t);Me(o.idToken,r,"internal-error");const l=py(o.idToken);Me(l,r,"internal-error");const{sub:c}=l;return Me(n.uid===c,r,"user-mismatch"),Ho._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&sr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(n,e,t=!1){if(Bn(n.app))return Promise.reject(Li(n));const r="signIn",i=await S1(n,r,e),o=await Ho._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function SM(n,e){return I1(Ys(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(n){const e=Ys(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IM(n,e,t){if(Bn(n.app))return Promise.reject(Li(n));const r=Ys(n),l=await dv(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EM).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&b1(n),f}),c=await Ho._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function bM(n,e,t){return Bn(n.app)?Promise.reject(Li(n)):SM(Zt(n),Ll.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&b1(n),r})}function CM(n,e,t,r){return Zt(n).onIdTokenChanged(e,t,r)}function kM(n,e,t){return Zt(n).beforeAuthStateChanged(e,t)}function C1(n,e,t,r){return Zt(n).onAuthStateChanged(e,t,r)}function AM(n){return Zt(n).signOut()}const uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=1e3,PM=10;class A1 extends k1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);YO()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,PM):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},RM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}A1.type="LOCAL";const NM=A1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends k1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}R1.type="SESSION";const P1=R1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new qh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,o)),f=await DM(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,f)=>{const p=_y("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function MM(n){Zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function LM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function jM(){return N1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="firebaseLocalStorageDb",FM=1,ch="firebaseLocalStorage",O1="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gh(n,e){return n.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function UM(){const n=indexedDB.deleteDatabase(D1);return new qc(n).toPromise()}function fv(){const n=indexedDB.open(D1,FM);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ch,{keyPath:O1})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ch)?e(r):(r.close(),await UM(),e(await fv()))})})}async function VE(n,e,t){const r=Gh(n,!0).put({[O1]:e,value:t});return new qc(r).toPromise()}async function zM(n,e){const t=Gh(n,!1).get(e),r=await new qc(t).toPromise();return r===void 0?null:r.value}function jE(n,e){const t=Gh(n,!0).delete(e);return new qc(t).toPromise()}const $M=800,BM=3;class M1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>BM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(jM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await LM(),!this.activeServiceWorker)return;this.sender=new OM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fv();return await VE(e,uh,"1"),await jE(e,uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>VE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>zM(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Gh(i,!1).getAll();return new qc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$M)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}M1.type="LOCAL";const WM=M1;new Bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(n,e){return e?Oi(e):(Me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy extends gy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HM(n){return I1(n.auth,new wy(n),n.bypassAuthState)}function qM(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),xM(t,new wy(n),n.bypassAuthState)}async function GM(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),TM(t,new wy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HM;case"linkViaPopup":case"linkViaRedirect":return GM;case"reauthViaPopup":case"reauthViaRedirect":return qM;default:sr(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new Bc(2e3,1e4);async function YM(n,e,t){if(Bn(n.app))return Promise.reject(Cr(n,"operation-not-supported-in-this-environment"));const r=Ys(n);AO(n,e,yy);const i=L1(r,t);return new Oo(r,"signInViaPopup",e,i).executeNotNull()}class Oo extends V1{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=_y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KM.get())};e()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="pendingRedirect",Hf=new Map;class ZM extends V1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Hf.get(this.auth._key());if(!e){try{const r=await XM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Hf.set(this.auth._key(),e)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XM(n,e){const t=tL(e),r=eL(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function JM(n,e){Hf.set(n._key(),e)}function eL(n){return Oi(n._redirectPersistence)}function tL(n){return Wf(QM,n.config.apiKey,n.name)}async function nL(n,e,t=!1){if(Bn(n.app))return Promise.reject(Li(n));const r=Ys(n),i=L1(r,e),l=await new ZM(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=10*60*1e3;class iL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!j1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Cr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rL&&this.cachedEventUids.clear(),this.cachedEventUids.has(FE(e))}saveEventToCache(e){this.cachedEventUids.add(FE(e)),this.lastProcessedEventTime=Date.now()}}function FE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function j1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(n,e={}){return Ks(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lL=/^https?/;async function uL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await oL(n);for(const t of e)try{if(cL(t))return}catch{}sr(n,"unauthorized-domain")}function cL(n){const e=uv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!lL.test(t))return!1;if(aL.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new Bc(3e4,6e4);function UE(){const n=Zr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fL(n){return new Promise((e,t)=>{var r,i,o;function l(){UE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UE(),t(Cr(n,"network-request-failed"))},timeout:dL.get()})}if(!((i=(r=Zr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Zr().gapi)===null||o===void 0)&&o.load)l();else{const c=iM("iframefcb");return Zr()[c]=()=>{gapi.load?l():t(Cr(n,"network-request-failed"))},E1(`${rM()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw qf=null,e})}let qf=null;function hL(n){return qf=qf||fL(n),qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new Bc(5e3,15e3),mL="__/auth/iframe",gL="emulator/auth/iframe",vL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _L(n){const e=n.config;Me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?hy(e,gL):`https://${n.config.authDomain}/${mL}`,r={apiKey:e.apiKey,appName:n.name,v:Ml},i=yL.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${$c(r).slice(1)}`}async function wL(n){const e=await hL(n),t=Zr().gapi;return Me(t,n,"internal-error"),e.open({where:document.body,url:_L(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vL,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Cr(n,"network-request-failed"),c=Zr().setTimeout(()=>{o(l)},pL.get());function f(){Zr().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TL=500,xL=600,SL="_blank",IL="http://localhost";class zE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bL(n,e,t,r=TL,i=xL){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},EL),{width:r.toString(),height:i.toString(),top:o,left:l}),p=pn().toLowerCase();t&&(c=p1(p)?SL:t),f1(p)&&(e=e||IL,f.scrollbars="yes");const m=Object.entries(f).reduce((w,[x,b])=>`${w}${x}=${b},`,"");if(KO(p)&&c!=="_self")return CL(e||"",c),new zE(null);const _=window.open(e||"",c,m);Me(_,n,"popup-blocked");try{_.focus()}catch{}return new zE(_)}function CL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="__/auth/handler",AL="emulator/auth/handler",RL=encodeURIComponent("fac");async function $E(n,e,t,r,i,o){Me(n.config.authDomain,n,"auth-domain-config-required"),Me(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ml,eventId:i};if(e instanceof yy){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",mD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))l[m]=_}if(e instanceof Hc){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const f=await n._getAppCheckToken(),p=f?`#${RL}=${encodeURIComponent(f)}`:"";return`${PL(n)}?${$c(c).slice(1)}${p}`}function PL({config:n}){return n.emulator?hy(n,AL):`https://${n.authDomain}/${kL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="webStorageSupport";class NL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P1,this._completeRedirectFn=nL,this._overrideRedirectResult=JM}async _openPopup(e,t,r,i){var o;Ui((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await $E(e,t,r,uv(),i);return bL(e,l,_y())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await $E(e,t,r,uv(),i);return MM(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ui(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await wL(e),r=new iL(e);return t.register("authEvent",i=>(Me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_g,{type:_g},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[_g];l!==void 0&&t(!!l),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _1()||h1()||my()}}const DL=NL;var BE="@firebase/auth",WE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LL(n){vl(new Bo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Me(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w1(n)},p=new eM(r,i,o,f);return cM(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),vl(new Bo("auth-internal",e=>{const t=Ys(e.getProvider("auth").getImmediate());return(r=>new OL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(BE,WE,ML(n)),As(BE,WE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=5*60,jL=XS("authIdTokenMaxAge")||VL;let HE=null;const FL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>jL)return;const i=t==null?void 0:t.token;HE!==i&&(HE=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ey(n=n1()){const e=uy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=uM(n,{popupRedirectResolver:DL,persistence:[WM,NM,P1]}),r=XS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=FL(o.toString());kM(t,l,()=>l(t.currentUser)),CM(t,c=>l(c))}}const i=QS("auth");return i?dM(t,`http://${i}`):Wh("Auth",!1),t}function UL(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}tM({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Cr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",UL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LL("Browser");var zL="firebase",$L="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(zL,$L,"app");const BL={apiKey:"AIzaSyC4FuAlwSVGXKTzFt3CCoe2RvJfhW8bFio",authDomain:"todolist-cd951.firebaseapp.com",projectId:"todolist-cd951",storageBucket:"todolist-cd951.firebasestorage.app",messagingSenderId:"339215811281",appId:"1:339215811281:web:8b564cb4627a9473357bf0",measurementId:"G-5D2H0V89GJ"},WL=cy(BL),Qs=Ey(WL),HL=async n=>{let e;switch(n){case"google":e=new Pi;break;case"github":e=new Ni;break;default:throw new Error("Unknown provider: "+n)}try{const r=(await YM(Qs,e)).user;localStorage.setItem("user_firebase",JSON.stringify({name:r.displayName,email:r.email,uid:r.uid})),console.log("登入成功：",r),window.location.href="/"}catch(t){console.error("登入失敗：",t.message)}},qL=async(n,e)=>{try{const t=Ey(),i=(await IM(t,n,e)).user;localStorage.setItem("user_firebase",JSON.stringify({name:i.displayName,email:i.email,uid:i.uid})),console.log("登入成功：",i),window.location.href="/"}catch(t){return console.error("註冊失敗：",t.message),!1}},GL=async(n,e)=>{try{const t=Ey(),i=(await bM(t,n,e)).user;localStorage.setItem("user_firebase",JSON.stringify({name:i.displayName,email:i.email,uid:i.uid})),console.log("登入成功：",i),window.location.href="/"}catch(t){return console.error("登入失敗：",t.message),!1}};function KL(){const n=Yv(),e=async()=>{try{await AM(Qs),localStorage.removeItem("user_firebase"),n("/login")}catch(t){console.error("登出失敗:",t)}};return T.useEffect(()=>{localStorage.getItem("user_firebase")||n("/login")},[n]),S.jsxs(O2,{children:[S.jsx(M2,{className:"mr-4 sm:mr-0 cursor-pointer inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 h-9 px-4 py-2 has-[>svg]:px-3 cursor-pointer",children:"登出"}),S.jsxs(j2,{children:[S.jsx(F2,{children:S.jsx(z2,{children:"確定要登出嗎?"})}),S.jsxs(U2,{children:[S.jsx(B2,{className:"cursor-pointer",children:"取消"}),S.jsx($2,{onClick:e,className:"cursor-pointer",children:"確定"})]})]})]})}function YL(){return S.jsxs("div",{className:"relative mx-auto my-2 sm:mx-6 flex items-center justify-between",children:[S.jsx("div",{className:"font-[Comic_Relief] font-bold text-2xl text-slate-500 text-left pl-4",children:"Todolist"}),S.jsx(KL,{})]})}var qE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,F1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function O(){}O.prototype=A.prototype,D.D=A.prototype,D.prototype=new O,D.prototype.constructor=D,D.C=function(j,U,$){for(var N=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)N[xe-2]=arguments[xe];return A.prototype[U].apply(j,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,A,O){O||(O=0);var j=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)j[U]=A.charCodeAt(O++)|A.charCodeAt(O++)<<8|A.charCodeAt(O++)<<16|A.charCodeAt(O++)<<24;else for(U=0;16>U;++U)j[U]=A[O++]|A[O++]<<8|A[O++]<<16|A[O++]<<24;A=D.g[0],O=D.g[1],U=D.g[2];var $=D.g[3],N=A+($^O&(U^$))+j[0]+3614090360&4294967295;A=O+(N<<7&4294967295|N>>>25),N=$+(U^A&(O^U))+j[1]+3905402710&4294967295,$=A+(N<<12&4294967295|N>>>20),N=U+(O^$&(A^O))+j[2]+606105819&4294967295,U=$+(N<<17&4294967295|N>>>15),N=O+(A^U&($^A))+j[3]+3250441966&4294967295,O=U+(N<<22&4294967295|N>>>10),N=A+($^O&(U^$))+j[4]+4118548399&4294967295,A=O+(N<<7&4294967295|N>>>25),N=$+(U^A&(O^U))+j[5]+1200080426&4294967295,$=A+(N<<12&4294967295|N>>>20),N=U+(O^$&(A^O))+j[6]+2821735955&4294967295,U=$+(N<<17&4294967295|N>>>15),N=O+(A^U&($^A))+j[7]+4249261313&4294967295,O=U+(N<<22&4294967295|N>>>10),N=A+($^O&(U^$))+j[8]+1770035416&4294967295,A=O+(N<<7&4294967295|N>>>25),N=$+(U^A&(O^U))+j[9]+2336552879&4294967295,$=A+(N<<12&4294967295|N>>>20),N=U+(O^$&(A^O))+j[10]+4294925233&4294967295,U=$+(N<<17&4294967295|N>>>15),N=O+(A^U&($^A))+j[11]+2304563134&4294967295,O=U+(N<<22&4294967295|N>>>10),N=A+($^O&(U^$))+j[12]+1804603682&4294967295,A=O+(N<<7&4294967295|N>>>25),N=$+(U^A&(O^U))+j[13]+4254626195&4294967295,$=A+(N<<12&4294967295|N>>>20),N=U+(O^$&(A^O))+j[14]+2792965006&4294967295,U=$+(N<<17&4294967295|N>>>15),N=O+(A^U&($^A))+j[15]+1236535329&4294967295,O=U+(N<<22&4294967295|N>>>10),N=A+(U^$&(O^U))+j[1]+4129170786&4294967295,A=O+(N<<5&4294967295|N>>>27),N=$+(O^U&(A^O))+j[6]+3225465664&4294967295,$=A+(N<<9&4294967295|N>>>23),N=U+(A^O&($^A))+j[11]+643717713&4294967295,U=$+(N<<14&4294967295|N>>>18),N=O+($^A&(U^$))+j[0]+3921069994&4294967295,O=U+(N<<20&4294967295|N>>>12),N=A+(U^$&(O^U))+j[5]+3593408605&4294967295,A=O+(N<<5&4294967295|N>>>27),N=$+(O^U&(A^O))+j[10]+38016083&4294967295,$=A+(N<<9&4294967295|N>>>23),N=U+(A^O&($^A))+j[15]+3634488961&4294967295,U=$+(N<<14&4294967295|N>>>18),N=O+($^A&(U^$))+j[4]+3889429448&4294967295,O=U+(N<<20&4294967295|N>>>12),N=A+(U^$&(O^U))+j[9]+568446438&4294967295,A=O+(N<<5&4294967295|N>>>27),N=$+(O^U&(A^O))+j[14]+3275163606&4294967295,$=A+(N<<9&4294967295|N>>>23),N=U+(A^O&($^A))+j[3]+4107603335&4294967295,U=$+(N<<14&4294967295|N>>>18),N=O+($^A&(U^$))+j[8]+1163531501&4294967295,O=U+(N<<20&4294967295|N>>>12),N=A+(U^$&(O^U))+j[13]+2850285829&4294967295,A=O+(N<<5&4294967295|N>>>27),N=$+(O^U&(A^O))+j[2]+4243563512&4294967295,$=A+(N<<9&4294967295|N>>>23),N=U+(A^O&($^A))+j[7]+1735328473&4294967295,U=$+(N<<14&4294967295|N>>>18),N=O+($^A&(U^$))+j[12]+2368359562&4294967295,O=U+(N<<20&4294967295|N>>>12),N=A+(O^U^$)+j[5]+4294588738&4294967295,A=O+(N<<4&4294967295|N>>>28),N=$+(A^O^U)+j[8]+2272392833&4294967295,$=A+(N<<11&4294967295|N>>>21),N=U+($^A^O)+j[11]+1839030562&4294967295,U=$+(N<<16&4294967295|N>>>16),N=O+(U^$^A)+j[14]+4259657740&4294967295,O=U+(N<<23&4294967295|N>>>9),N=A+(O^U^$)+j[1]+2763975236&4294967295,A=O+(N<<4&4294967295|N>>>28),N=$+(A^O^U)+j[4]+1272893353&4294967295,$=A+(N<<11&4294967295|N>>>21),N=U+($^A^O)+j[7]+4139469664&4294967295,U=$+(N<<16&4294967295|N>>>16),N=O+(U^$^A)+j[10]+3200236656&4294967295,O=U+(N<<23&4294967295|N>>>9),N=A+(O^U^$)+j[13]+681279174&4294967295,A=O+(N<<4&4294967295|N>>>28),N=$+(A^O^U)+j[0]+3936430074&4294967295,$=A+(N<<11&4294967295|N>>>21),N=U+($^A^O)+j[3]+3572445317&4294967295,U=$+(N<<16&4294967295|N>>>16),N=O+(U^$^A)+j[6]+76029189&4294967295,O=U+(N<<23&4294967295|N>>>9),N=A+(O^U^$)+j[9]+3654602809&4294967295,A=O+(N<<4&4294967295|N>>>28),N=$+(A^O^U)+j[12]+3873151461&4294967295,$=A+(N<<11&4294967295|N>>>21),N=U+($^A^O)+j[15]+530742520&4294967295,U=$+(N<<16&4294967295|N>>>16),N=O+(U^$^A)+j[2]+3299628645&4294967295,O=U+(N<<23&4294967295|N>>>9),N=A+(U^(O|~$))+j[0]+4096336452&4294967295,A=O+(N<<6&4294967295|N>>>26),N=$+(O^(A|~U))+j[7]+1126891415&4294967295,$=A+(N<<10&4294967295|N>>>22),N=U+(A^($|~O))+j[14]+2878612391&4294967295,U=$+(N<<15&4294967295|N>>>17),N=O+($^(U|~A))+j[5]+4237533241&4294967295,O=U+(N<<21&4294967295|N>>>11),N=A+(U^(O|~$))+j[12]+1700485571&4294967295,A=O+(N<<6&4294967295|N>>>26),N=$+(O^(A|~U))+j[3]+2399980690&4294967295,$=A+(N<<10&4294967295|N>>>22),N=U+(A^($|~O))+j[10]+4293915773&4294967295,U=$+(N<<15&4294967295|N>>>17),N=O+($^(U|~A))+j[1]+2240044497&4294967295,O=U+(N<<21&4294967295|N>>>11),N=A+(U^(O|~$))+j[8]+1873313359&4294967295,A=O+(N<<6&4294967295|N>>>26),N=$+(O^(A|~U))+j[15]+4264355552&4294967295,$=A+(N<<10&4294967295|N>>>22),N=U+(A^($|~O))+j[6]+2734768916&4294967295,U=$+(N<<15&4294967295|N>>>17),N=O+($^(U|~A))+j[13]+1309151649&4294967295,O=U+(N<<21&4294967295|N>>>11),N=A+(U^(O|~$))+j[4]+4149444226&4294967295,A=O+(N<<6&4294967295|N>>>26),N=$+(O^(A|~U))+j[11]+3174756917&4294967295,$=A+(N<<10&4294967295|N>>>22),N=U+(A^($|~O))+j[2]+718787259&4294967295,U=$+(N<<15&4294967295|N>>>17),N=O+($^(U|~A))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+$&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var O=A-this.blockSize,j=this.B,U=this.h,$=0;$<A;){if(U==0)for(;$<=O;)i(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<A;)if(j[U++]=D.charCodeAt($++),U==this.blockSize){i(this,j),U=0;break}}else for(;$<A;)if(j[U++]=D[$++],U==this.blockSize){i(this,j),U=0;break}}this.h=U,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var O=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=O&255,O/=256;for(this.u(D),D=Array(16),A=O=0;4>A;++A)for(var j=0;32>j;j+=8)D[O++]=this.g[A]>>>j&255;return D};function o(D,A){var O=c;return Object.prototype.hasOwnProperty.call(O,D)?O[D]:O[D]=A(D)}function l(D,A){this.h=A;for(var O=[],j=!0,U=D.length-1;0<=U;U--){var $=D[U]|0;j&&$==A||(O[U]=$,j=!1)}this.g=O}var c={};function f(D){return-128<=D&&128>D?o(D,function(A){return new l([A|0],0>A?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return k(p(-D));for(var A=[],O=1,j=0;D>=O;j++)A[j]=D/O|0,O*=4294967296;return new l(A,0)}function m(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return k(m(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=p(Math.pow(A,8)),j=_,U=0;U<D.length;U+=8){var $=Math.min(8,D.length-U),N=parseInt(D.substring(U,U+$),A);8>$?($=p(Math.pow(A,$)),j=j.j($).add(p(N))):(j=j.j(O),j=j.add(p(N)))}return j}var _=f(0),w=f(1),x=f(16777216);n=l.prototype,n.m=function(){if(I(this))return-k(this).m();for(var D=0,A=1,O=0;O<this.g.length;O++){var j=this.i(O);D+=(0<=j?j:4294967296+j)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(b(this))return"0";if(I(this))return"-"+k(this).toString(D);for(var A=p(Math.pow(D,6)),O=this,j="";;){var U=H(O,A).g;O=P(O,U.j(A));var $=((0<O.g.length?O.g[0]:O.h)>>>0).toString(D);if(O=U,b(O))return $+j;for(;6>$.length;)$="0"+$;j=$+j}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function b(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function I(D){return D.h==-1}n.l=function(D){return D=P(this,D),I(D)?-1:b(D)?0:1};function k(D){for(var A=D.g.length,O=[],j=0;j<A;j++)O[j]=~D.g[j];return new l(O,~D.h).add(w)}n.abs=function(){return I(this)?k(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),O=[],j=0,U=0;U<=A;U++){var $=j+(this.i(U)&65535)+(D.i(U)&65535),N=($>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);j=N>>>16,$&=65535,N&=65535,O[U]=N<<16|$}return new l(O,O[O.length-1]&-2147483648?-1:0)};function P(D,A){return D.add(k(A))}n.j=function(D){if(b(this)||b(D))return _;if(I(this))return I(D)?k(this).j(k(D)):k(k(this).j(D));if(I(D))return k(this.j(k(D)));if(0>this.l(x)&&0>D.l(x))return p(this.m()*D.m());for(var A=this.g.length+D.g.length,O=[],j=0;j<2*A;j++)O[j]=0;for(j=0;j<this.g.length;j++)for(var U=0;U<D.g.length;U++){var $=this.i(j)>>>16,N=this.i(j)&65535,xe=D.i(U)>>>16,Ae=D.i(U)&65535;O[2*j+2*U]+=N*Ae,M(O,2*j+2*U),O[2*j+2*U+1]+=$*Ae,M(O,2*j+2*U+1),O[2*j+2*U+1]+=N*xe,M(O,2*j+2*U+1),O[2*j+2*U+2]+=$*xe,M(O,2*j+2*U+2)}for(j=0;j<A;j++)O[j]=O[2*j+1]<<16|O[2*j];for(j=A;j<2*A;j++)O[j]=0;return new l(O,0)};function M(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function L(D,A){this.g=D,this.h=A}function H(D,A){if(b(A))throw Error("division by zero");if(b(D))return new L(_,_);if(I(D))return A=H(k(D),A),new L(k(A.g),k(A.h));if(I(A))return A=H(D,k(A)),new L(k(A.g),A.h);if(30<D.g.length){if(I(D)||I(A))throw Error("slowDivide_ only works with positive integers.");for(var O=w,j=A;0>=j.l(D);)O=Z(O),j=Z(j);var U=J(O,1),$=J(j,1);for(j=J(j,2),O=J(O,2);!b(j);){var N=$.add(j);0>=N.l(D)&&(U=U.add(O),$=N),j=J(j,1),O=J(O,1)}return A=P(D,U.j(A)),new L(U,A)}for(U=_;0<=D.l(A);){for(O=Math.max(1,Math.floor(D.m()/A.m())),j=Math.ceil(Math.log(O)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),$=p(O),N=$.j(A);I(N)||0<N.l(D);)O-=j,$=p(O),N=$.j(A);b($)&&($=w),U=U.add($),D=P(D,N)}return new L(U,D)}n.A=function(D){return H(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),O=[],j=0;j<A;j++)O[j]=this.i(j)&D.i(j);return new l(O,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),O=[],j=0;j<A;j++)O[j]=this.i(j)|D.i(j);return new l(O,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),O=[],j=0;j<A;j++)O[j]=this.i(j)^D.i(j);return new l(O,this.h^D.h)};function Z(D){for(var A=D.g.length+1,O=[],j=0;j<A;j++)O[j]=D.i(j)<<1|D.i(j-1)>>>31;return new l(O,D.h)}function J(D,A){var O=A>>5;A%=32;for(var j=D.g.length-O,U=[],$=0;$<j;$++)U[$]=0<A?D.i($+O)>>>A|D.i($+O+1)<<32-A:D.i($+O);return new l(U,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,F1=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Rs=l}).apply(typeof qE<"u"?qE:typeof self<"u"?self:typeof window<"u"?window:{});var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U1,qu,z1,Gf,hv,$1,B1,W1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nf=="object"&&Nf];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(d,v){if(v)e:{var E=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var q=d[R];if(!(q in E))break e;E=E[q]}d=d[d.length-1],R=E[d],v=v(R),v!=R&&v!=null&&e(E,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var E=0,R=!1,q={next:function(){if(!R&&E<d.length){var Q=E++;return{value:v(Q,d[Q]),done:!1}}return R=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(d){return d||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,E){return d.call.apply(d.bind,arguments)}function _(d,v,E){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,R),d.apply(v,q)}}return function(){return d.apply(v,arguments)}}function w(d,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,w.apply(null,arguments)}function x(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function b(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(R,q,Q){for(var de=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)de[ct-2]=arguments[ct];return v.prototype[q].apply(R,de)}}function I(d){const v=d.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=d[R];return E}return[]}function k(d,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(f(R)){const q=d.length||0,Q=R.length||0;d.length=q+Q;for(let de=0;de<Q;de++)d[q+de]=R[de]}else d.push(R)}}class P{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(d){return/^[\s\xa0]*$/.test(d)}function L(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function H(d){return H[" "](d),d}H[" "]=function(){};var Z=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function J(d,v,E){for(const R in d)v.call(E,d[R],R,d)}function D(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function A(d){const v={};for(const E in d)v[E]=d[E];return v}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(d,v){let E,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(E in R)d[E]=R[E];for(let Q=0;Q<O.length;Q++)E=O[Q],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function U(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function $(d){c.setTimeout(()=>{throw d},0)}function N(){var d=ce;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class xe{constructor(){this.h=this.g=null}add(v,E){const R=Ae.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Ae=new P(()=>new _e,d=>d.reset());class _e{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,F=!1,ce=new xe,se=()=>{const d=c.Promise.resolve(void 0);ee=()=>{d.then(W)}};var W=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(E){$(E)}var v=Ae;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}F=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return d}();function De(d,v){if(fe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(Z){e:{try{H(v.nodeName);var q=!0;break e}catch{}q=!1}q||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:$e[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&De.aa.h.call(this)}}b(De,fe);var $e={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),be=0;function je(d,v,E,R,q){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=q,this.key=++be,this.da=this.fa=!1}function Oe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function He(d){this.src=d,this.g={},this.h=0}He.prototype.add=function(d,v,E,R,q){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var de=kt(d,v,R,q);return-1<de?(v=d[de],E||(v.fa=!1)):(v=new je(v,this.src,Q,!!R,q),v.fa=E,d.push(v)),v};function Ge(d,v){var E=v.type;if(E in d.g){var R=d.g[E],q=Array.prototype.indexOf.call(R,v,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(R,q,1),Q&&(Oe(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function kt(d,v,E,R){for(var q=0;q<d.length;++q){var Q=d[q];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==R)return q}return-1}var Ht="closure_lm_"+(1e6*Math.random()|0),Kn={};function or(d,v,E,R,q){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)or(d,v[Q],E,R,q);return null}return E=Gl(E),d&&d[ae]?d.K(v,E,p(R)?!!R.capture:!1,q):ar(d,v,E,!1,R,q)}function ar(d,v,E,R,q,Q){if(!v)throw Error("Invalid event type");var de=p(q)?!!q.capture:!!q,ct=la(d);if(ct||(d[Ht]=ct=new He(d)),E=ct.add(v,E,R,de,Q),E.proxy)return E;if(R=aa(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)Se||(q=de),q===void 0&&(q=!1),d.addEventListener(v.toString(),R,q);else if(d.attachEvent)d.attachEvent(di(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function aa(){function d(E){return v.call(d.src,d.listener,E)}const v=ql;return d}function lr(d,v,E,R,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)lr(d,v[Q],E,R,q);else R=p(R)?!!R.capture:!!R,E=Gl(E),d&&d[ae]?(d=d.i,v=String(v).toString(),v in d.g&&(Q=d.g[v],E=kt(Q,E,R,q),-1<E&&(Oe(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete d.g[v],d.h--)))):d&&(d=la(d))&&(v=d.g[v.toString()],d=-1,v&&(d=kt(v,E,R,q)),(E=-1<d?v[d]:null)&&ci(E))}function ci(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[ae])Ge(v.i,d);else{var E=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(E,R,d.capture):v.detachEvent?v.detachEvent(di(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=la(v))?(Ge(E,d),E.h==0&&(E.src=null,v[Ht]=null)):Oe(d)}}}function di(d){return d in Kn?Kn[d]:Kn[d]="on"+d}function ql(d,v){if(d.da)d=!0;else{v=new De(v,this);var E=d.listener,R=d.ha||d.src;d.fa&&ci(d),d=E.call(R,v)}return d}function la(d){return d=d[Ht],d instanceof He?d:null}var ua="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gl(d){return typeof d=="function"?d:(d[ua]||(d[ua]=function(v){return d.handleEvent(v)}),d[ua])}function Vt(){X.call(this),this.i=new He(this),this.M=this,this.F=null}b(Vt,X),Vt.prototype[ae]=!0,Vt.prototype.removeEventListener=function(d,v,E,R){lr(this,d,v,E,R)};function jt(d,v){var E,R=d.F;if(R)for(E=[];R;R=R.F)E.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new fe(v,d);else if(v instanceof fe)v.target=v.target||d;else{var q=v;v=new fe(R,d),j(v,q)}if(q=!0,E)for(var Q=E.length-1;0<=Q;Q--){var de=v.g=E[Q];q=fi(de,R,!0,v)&&q}if(de=v.g=d,q=fi(de,R,!0,v)&&q,q=fi(de,R,!1,v)&&q,E)for(Q=0;Q<E.length;Q++)de=v.g=E[Q],q=fi(de,R,!1,v)&&q}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],R=0;R<E.length;R++)Oe(E[R]);delete d.g[v],d.h--}}this.F=null},Vt.prototype.K=function(d,v,E,R){return this.i.add(String(d),v,!1,E,R)},Vt.prototype.L=function(d,v,E,R){return this.i.add(String(d),v,!0,E,R)};function fi(d,v,E,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,Q=0;Q<v.length;++Q){var de=v[Q];if(de&&!de.da&&de.capture==E){var ct=de.listener,Ft=de.ha||de.src;de.fa&&Ge(d.i,de),q=ct.call(Ft,R)!==!1&&q}}return q&&!R.defaultPrevented}function Kl(d,v,E){if(typeof d=="function")E&&(d=w(d,E));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(d,v||0)}function Yi(d){d.g=Kl(()=>{d.g=null,d.i&&(d.i=!1,Yi(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class ro extends X{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Yi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function io(d){X.call(this),this.h=d,this.g={}}b(io,X);var Yl=[];function Ql(d){J(d.g,function(v,E){this.g.hasOwnProperty(E)&&ci(v)},d),d.g={}}io.prototype.N=function(){io.aa.N.call(this),Ql(this)},io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zl=c.JSON.stringify,Xl=c.JSON.parse,Jl=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function so(){}so.prototype.h=null;function ca(d){return d.h||(d.h=d.i())}function da(){}var Yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){fe.call(this,"d")}b(Vr,fe);function fa(){fe.call(this,"c")}b(fa,fe);var jr={},eu=null;function oo(){return eu=eu||new Vt}jr.La="serverreachability";function tu(d){fe.call(this,jr.La,d)}b(tu,fe);function hi(d){const v=oo();jt(v,new tu(v))}jr.STAT_EVENT="statevent";function nu(d,v){fe.call(this,jr.STAT_EVENT,d),this.stat=v}b(nu,fe);function Rt(d){const v=oo();jt(v,new nu(v,d))}jr.Ma="timingevent";function ha(d,v){fe.call(this,jr.Ma,d),this.size=v}b(ha,fe);function ur(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function ao(){this.g=!0}ao.prototype.xa=function(){this.g=!1};function lo(d,v,E,R,q,Q){d.info(function(){if(d.g)if(Q)for(var de="",ct=Q.split("&"),Ft=0;Ft<ct.length;Ft++){var tt=ct[Ft].split("=");if(1<tt.length){var qt=tt[0];tt=tt[1];var Dt=qt.split("_");de=2<=Dt.length&&Dt[1]=="type"?de+(qt+"="+tt+"&"):de+(qt+"=redacted&")}}else de=null;else de=Q;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+v+`
`+E+`
`+de})}function pa(d,v,E,R,q,Q,de){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+v+`
`+E+`
`+Q+" "+de})}function cr(d,v,E,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ip(d,E)+(R?" "+R:"")})}function ru(d,v){d.info(function(){return"TIMEOUT: "+v})}ao.prototype.info=function(){};function Ip(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var R=E[d];if(!(2>R.length)){var q=R[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var de=1;de<q.length;de++)q[de]=""}}}}return Zl(E)}catch{return v}}var ma={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},od={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dr;function uo(){}b(uo,so),uo.prototype.g=function(){return new XMLHttpRequest},uo.prototype.i=function(){return{}},dr=new uo;function fr(d,v,E,R){this.j=d,this.i=v,this.l=E,this.R=R||1,this.U=new io(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ad}function ad(){this.i=null,this.g="",this.h=!1}var iu={},ga={};function va(d,v,E){d.L=1,d.v=es(Ln(v)),d.m=E,d.P=!0,su(d,null)}function su(d,v){d.F=Date.now(),pt(d),d.A=Ln(d.v);var E=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),ns(E.i,"t",R),d.C=0,E=d.j.J,d.h=new ad,d.g=Id(d.j,E?v:null,!d.m),0<d.O&&(d.M=new ro(w(d.Y,d,d.g),d.O)),v=d.U,E=d.g,R=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(Yl[0]=q.toString()),q=Yl);for(var Q=0;Q<q.length;Q++){var de=or(E,q[Q],R||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),hi(),lo(d.i,d.u,d.A,d.l,d.R,d.m)}fr.prototype.ca=function(d){d=d.target;const v=this.M;v&&xn(d)==3?v.j():this.Y(d)},fr.prototype.Y=function(d){try{if(d==this.g)e:{const Dt=xn(this.g);var v=this.g.Ba();const Xn=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||du(this.g)))){this.J||Dt!=4||v==7||(v==8||0>=Xn?hi(3):hi(2)),co(this);var E=this.g.Z();this.X=E;t:if(ld(this)){var R=du(this.g);d="";var q=R.length,Q=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),Qi(this);var de="";break t}this.h.i=new c.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,d+=this.h.i.decode(R[v],{stream:!(Q&&v==q-1)});R.length=0,this.h.g+=d,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,pa(this.i,this.u,this.A,this.l,this.R,Dt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,Ft=this.g;if((ct=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(ct)){var tt=ct;break t}}tt=null}if(E=tt)cr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ou(this,E);else{this.o=!1,this.s=3,Rt(12),Qn(this),Qi(this);break e}}if(this.P){E=!0;let jn;for(;!this.J&&this.C<de.length;)if(jn=bp(this,de),jn==ga){Dt==4&&(this.s=4,Rt(14),E=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==iu){this.s=4,Rt(15),cr(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else cr(this.i,this.l,jn,null),ou(this,jn);if(ld(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||de.length!=0||this.h.h||(this.s=1,Rt(16),E=!1),this.o=this.o&&E,!E)cr(this.i,this.l,de,"[Invalid Chunked Response]"),Qn(this),Qi(this);else if(0<de.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),hu(qt),qt.M=!0,Rt(11))}}else cr(this.i,this.l,de,null),ou(this,de);Dt==4&&Qn(this),this.o&&!this.J&&(Dt==4?ka(this.j,this):(this.o=!1,pt(this)))}else xa(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Qn(this),Qi(this)}}}catch{}finally{}};function ld(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function bp(d,v){var E=d.C,R=v.indexOf(`
`,E);return R==-1?ga:(E=Number(v.substring(E,R)),isNaN(E)?iu:(R+=1,R+E>v.length?ga:(v=v.slice(R,R+E),d.C=R+E,v)))}fr.prototype.cancel=function(){this.J=!0,Qn(this)};function pt(d){d.S=Date.now()+d.I,ud(d,d.I)}function ud(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ur(w(d.ba,d),v)}function co(d){d.B&&(c.clearTimeout(d.B),d.B=null)}fr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ru(this.i,this.A),this.L!=2&&(hi(),Rt(17)),Qn(this),this.s=2,Qi(this)):ud(this,this.S-d)};function Qi(d){d.j.G==0||d.J||ka(d.j,d)}function Qn(d){co(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Ql(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function ou(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||gn(E.h,d))){if(!d.K&&gn(E.h,d)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Ca(E),vr(E);else break e;ba(E),Rt(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=ur(w(E.Za,E),6e3));if(1>=dd(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else yi(E,11)}else if((d.K||E.g==d)&&Ca(E),!M(v))for(q=E.Da.g.parse(v),v=0;v<q.length;v++){let tt=q[v];if(E.T=tt[0],tt=tt[1],E.G==2)if(tt[0]=="c"){E.K=tt[1],E.ia=tt[2];const qt=tt[3];qt!=null&&(E.la=qt,E.j.info("VER="+E.la));const Dt=tt[4];Dt!=null&&(E.Aa=Dt,E.j.info("SVER="+E.Aa));const Xn=tt[5];Xn!=null&&typeof Xn=="number"&&0<Xn&&(R=1.5*Xn,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const jn=d.g;if(jn){const yo=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yo){var Q=R.h;Q.g||yo.indexOf("spdy")==-1&&yo.indexOf("quic")==-1&&yo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(au(Q,Q.h),Q.h=null))}if(R.D){const Ra=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(R.ya=Ra,ht(R.I,R.D,Ra))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var de=d;if(R.qa=Sd(R,R.J?R.ia:null,R.W),de.K){fd(R.h,de);var ct=de,Ft=R.L;Ft&&(ct.I=Ft),ct.B&&(co(ct),pt(ct)),R.g=de}else vo(R);0<E.i.length&&$r(E)}else tt[0]!="stop"&&tt[0]!="close"||yi(E,7);else E.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?yi(E,7):Jt(E):tt[0]!="noop"&&E.l&&E.l.ta(tt),E.v=0)}}hi(4)}catch{}}var cd=class{constructor(d,v){this.g=d,this.map=v}};function fo(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function dd(d){return d.h?1:d.g?d.g.size:0}function gn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function au(d,v){d.g?d.g.add(v):d.h=v}function fd(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}fo.prototype.cancel=function(){if(this.i=hd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function hd(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return I(d.i)}function ya(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],E=d.length,R=0;R<E;R++)v.push(d[R]);return v}v=[],E=0;for(R in d)v[E++]=d[R];return v}function _a(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const R in d)v[E++]=R;return v}}}function Zi(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=_a(d),R=ya(d),q=R.length,Q=0;Q<q;Q++)v.call(void 0,R[Q],E&&E[Q],d)}var ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cp(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var R=d[E].indexOf("="),q=null;if(0<=R){var Q=d[E].substring(0,R);q=d[E].substring(R+1)}else Q=d[E];v(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof pi){this.h=d.h,po(this,d.j),this.o=d.o,this.g=d.g,Xi(this,d.s),this.l=d.l;var v=d.i,E=new Fr;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Ji(this,E),this.m=d.m}else d&&(v=String(d).match(ho))?(this.h=!1,po(this,v[1]||"",!0),this.o=et(v[2]||""),this.g=et(v[3]||"",!0),Xi(this,v[4]),this.l=et(v[5]||"",!0),Ji(this,v[6]||"",!0),this.m=et(v[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}pi.prototype.toString=function(){var d=[],v=this.j;v&&d.push(ts(v,wa,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(ts(v,wa,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(ts(E,E.charAt(0)=="/"?gd:md,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",ts(E,lu)),d.join("")};function Ln(d){return new pi(d)}function po(d,v,E){d.j=E?et(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Xi(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Ji(d,v,E){v instanceof Fr?(d.i=v,Ur(d.i,d.h)):(E||(v=ts(v,vd)),d.i=new Fr(v,d.h))}function ht(d,v,E){d.i.set(v,E)}function es(d){return ht(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function et(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ts(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,pd),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function pd(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var wa=/[#\/\?@]/g,md=/[#\?:]/g,gd=/[#\?]/g,vd=/[#\?@]/g,lu=/#/g;function Fr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Xt(d){d.g||(d.g=new Map,d.h=0,d.i&&Cp(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Fr.prototype,n.add=function(d,v){Xt(this),this.i=null,d=Zn(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function hr(d,v){Xt(d),v=Zn(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function pr(d,v){return Xt(d),v=Zn(d,v),d.g.has(v)}n.forEach=function(d,v){Xt(this),this.g.forEach(function(E,R){E.forEach(function(q){d.call(v,q,R,this)},this)},this)},n.na=function(){Xt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const q=d[R];for(let Q=0;Q<q.length;Q++)E.push(v[R])}return E},n.V=function(d){Xt(this);let v=[];if(typeof d=="string")pr(this,d)&&(v=v.concat(this.g.get(Zn(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},n.set=function(d,v){return Xt(this),this.i=null,d=Zn(this,d),pr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function ns(d,v,E){hr(d,v),0<E.length&&(d.i=null,d.g.set(Zn(d,v),I(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const Q=encodeURIComponent(String(R)),de=this.V(R);for(R=0;R<de.length;R++){var q=Q;de[R]!==""&&(q+="="+encodeURIComponent(String(de[R]))),d.push(q)}}return this.i=d.join("&")};function Zn(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Ur(d,v){v&&!d.j&&(Xt(d),d.i=null,d.g.forEach(function(E,R){var q=R.toLowerCase();R!=q&&(hr(this,R),ns(this,q,E))},d)),d.j=v}function kp(d,v){const E=new ao;if(c.Image){const R=new Image;R.onload=x(Tn,E,"TestLoadImage: loaded",!0,v,R),R.onerror=x(Tn,E,"TestLoadImage: error",!1,v,R),R.onabort=x(Tn,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=x(Tn,E,"TestLoadImage: timeout",!1,v,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function yd(d,v){const E=new ao,R=new AbortController,q=setTimeout(()=>{R.abort(),Tn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(Q=>{clearTimeout(q),Q.ok?Tn(E,"TestPingServer: ok",!0,v):Tn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Tn(E,"TestPingServer: error",!1,v)})}function Tn(d,v,E,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(E)}catch{}}function Ap(){this.g=new Jl}function _d(d,v,E){const R=E||"";try{Zi(d,function(q,Q){let de=q;p(q)&&(de=Zl(q)),v.push(R+Q+"="+encodeURIComponent(de))})}catch(q){throw v.push(R+"type="+encodeURIComponent("_badmap")),q}}function mi(d){this.l=d.Ub||null,this.j=d.eb||!1}b(mi,so),mi.prototype.g=function(){return new mo(this.l,this.j)},mi.prototype.i=function(d){return function(){return d}}({});function mo(d,v){Vt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(mo,Vt),n=mo.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,gr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wd(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function wd(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?mr(this):gr(this),this.readyState==3&&wd(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,mr(this))},n.Qa=function(d){this.g&&(this.response=d,mr(this))},n.ga=function(){this.g&&mr(this)};function mr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,gr(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function gr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(mo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function gi(d){let v="";return J(d,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function rs(d,v,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=gi(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):ht(d,v,E))}function wt(d){Vt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(wt,Vt);var Rp=/^https?$/i,uu=["POST","PUT"];n=wt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dr.g(),this.v=this.o?ca(this.o):ca(dr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Q){go(this,Q);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)E.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())E.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(uu,v,void 0))||R||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,de]of E)this.g.setRequestHeader(Q,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ta(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){go(this,Q)}};function go(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Ea(d),Vn(d)}function Ea(d){d.A||(d.A=!0,jt(d,"complete"),jt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,jt(this,"complete"),jt(this,"abort"),Vn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vn(this,!0)),wt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?cu(this):this.bb())},n.bb=function(){cu(this)};function cu(d){if(d.h&&typeof l<"u"&&(!d.v[1]||xn(d)!=4||d.Z()!=2)){if(d.u&&xn(d)==4)Kl(d.Ea,0,d);else if(jt(d,"readystatechange"),xn(d)==4){d.h=!1;try{const de=d.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var R;if(R=de===0){var q=String(d.D).match(ho)[1]||null;!q&&c.self&&c.self.location&&(q=c.self.location.protocol.slice(0,-1)),R=!Rp.test(q?q.toLowerCase():"")}E=R}if(E)jt(d,"complete"),jt(d,"success");else{d.m=6;try{var Q=2<xn(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",Ea(d)}}finally{Vn(d)}}}}function Vn(d,v){if(d.g){Ta(d);const E=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||jt(d,"ready");try{E.onreadystatechange=R}catch{}}}function Ta(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function xn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Xl(v)}};function du(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function xa(d){const v={};d=(d.g&&2<=xn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(M(d[R]))continue;var E=U(d[R]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[q]||[];v[q]=Q,Q.push(E)}D(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function fu(d){this.Aa=0,this.i=[],this.j=new ao,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,d),this.cb=zr("retryDelaySeedMs",1e4,d),this.Wa=zr("forwardChannelMaxRetries",2,d),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new fo(d&&d.concurrentRequestLimit),this.Da=new Ap,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fu.prototype,n.la=8,n.G=1,n.connect=function(d,v,E,R){Rt(0),this.W=d,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Sd(this,null,this.W),$r(this)};function Jt(d){if(Sa(d),d.G==3){var v=d.U++,E=Ln(d.I);if(ht(E,"SID",d.K),ht(E,"RID",v),ht(E,"TYPE","terminate"),vi(d,E),v=new fr(d,d.j,v),v.L=2,v.v=es(Ln(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.v,E=!0),E||(v.g=Id(v.j,null),v.g.ea(v.v)),v.F=Date.now(),pt(v)}xd(d)}function vr(d){d.g&&(hu(d),d.g.cancel(),d.g=null)}function Sa(d){vr(d),d.u&&(c.clearTimeout(d.u),d.u=null),Ca(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function $r(d){if(!Mn(d.h)&&!d.s){d.s=!0;var v=d.Ga;ee||se(),F||(ee(),F=!0),ce.add(v,d),d.B=0}}function Pp(d,v){return dd(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ur(w(d.Ga,d,v),Td(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new fr(this,this.j,d);let Q=this.o;if(this.S&&(Q?(Q=A(Q),j(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=is(this,q,v),E=Ln(this.I),ht(E,"RID",d),ht(E,"CVER",22),this.D&&ht(E,"X-HTTP-Session-Id",this.D),vi(this,E),Q&&(this.O?v="headers="+encodeURIComponent(String(gi(Q)))+"&"+v:this.m&&rs(E,this.m,Q)),au(this.h,q),this.Ua&&ht(E,"TYPE","init"),this.P?(ht(E,"$req",v),ht(E,"SID","null"),q.T=!0,va(q,E,null)):va(q,E,v),this.G=2}}else this.G==3&&(d?Ia(this,d):this.i.length==0||Mn(this.h)||Ia(this))};function Ia(d,v){var E;v?E=v.l:E=d.U++;const R=Ln(d.I);ht(R,"SID",d.K),ht(R,"RID",E),ht(R,"AID",d.T),vi(d,R),d.m&&d.o&&rs(R,d.m,d.o),E=new fr(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=is(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),au(d.h,E),va(E,R,v)}function vi(d,v){d.H&&J(d.H,function(E,R){ht(v,R,E)}),d.l&&Zi({},function(E,R){ht(v,R,E)})}function is(d,v,E){E=Math.min(d.i.length,E);var R=d.l?w(d.l.Na,d.l,d):null;e:{var q=d.i;let Q=-1;for(;;){const de=["count="+E];Q==-1?0<E?(Q=q[0].g,de.push("ofs="+Q)):Q=0:de.push("ofs="+Q);let ct=!0;for(let Ft=0;Ft<E;Ft++){let tt=q[Ft].g;const qt=q[Ft].map;if(tt-=Q,0>tt)Q=Math.max(0,q[Ft].g-100),ct=!1;else try{_d(qt,de,"req"+tt+"_")}catch{R&&R(qt)}}if(ct){R=de.join("&");break e}}}return d=d.i.splice(0,E),v.D=d,R}function vo(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;ee||se(),F||(ee(),F=!0),ce.add(v,d),d.v=0}}function ba(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ur(w(d.Fa,d),Td(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Ed(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ur(w(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),vr(this),Ed(this))};function hu(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function Ed(d){d.g=new fr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Ln(d.qa);ht(v,"RID","rpc"),ht(v,"SID",d.K),ht(v,"AID",d.T),ht(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ht(v,"TO",d.ja),ht(v,"TYPE","xmlhttp"),vi(d,v),d.m&&d.o&&rs(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=es(Ln(v)),E.m=null,E.P=!0,su(E,d)}n.Za=function(){this.C!=null&&(this.C=null,vr(this),ba(this),Rt(19))};function Ca(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function ka(d,v){var E=null;if(d.g==v){Ca(d),hu(d),d.g=null;var R=2}else if(gn(d.h,v))E=v.D,fd(d.h,v),R=1;else return;if(d.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var q=d.B;R=oo(),jt(R,new ha(R,E)),$r(d)}else vo(d);else if(q=v.s,q==3||q==0&&0<v.X||!(R==1&&Pp(d,v)||R==2&&ba(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),q){case 1:yi(d,5);break;case 4:yi(d,10);break;case 3:yi(d,6);break;default:yi(d,2)}}}function Td(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function yi(d,v){if(d.j.info("Error code "+v),v==2){var E=w(d.fb,d),R=d.Xa;const q=!R;R=new pi(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||po(R,"https"),es(R),q?kp(R.toString(),E):yd(R.toString(),E)}else Rt(2);d.G=0,d.l&&d.l.sa(v),xd(d),Sa(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function xd(d){if(d.G=0,d.ka=[],d.l){const v=hd(d.h);(v.length!=0||d.i.length!=0)&&(k(d.ka,v),k(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function Sd(d,v,E){var R=E instanceof pi?Ln(E):new pi(E);if(R.g!="")v&&(R.g=v+"."+R.g),Xi(R,R.s);else{var q=c.location;R=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var Q=new pi(null);R&&po(Q,R),v&&(Q.g=v),q&&Xi(Q,q),E&&(Q.l=E),R=Q}return E=d.D,v=d.ya,E&&v&&ht(R,E,v),ht(R,"VER",d.la),vi(d,R),R}function Id(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new wt(new mi({eb:E})):new wt(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}n=pu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Aa(){}Aa.prototype.g=function(d,v){return new vn(d,v)};function vn(d,v){Vt.call(this),this.g=new fu(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!M(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Br(this)}b(vn,Vt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Jt(this.g)},vn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Zl(d),d=E);v.i.push(new cd(v.Ya++,d)),v.G==3&&$r(v)},vn.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,vn.aa.N.call(this)};function bd(d){Vr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}b(bd,Vr);function Cd(){fa.call(this),this.status=1}b(Cd,fa);function Br(d){this.g=d}b(Br,pu),Br.prototype.ua=function(){jt(this.g,"a")},Br.prototype.ta=function(d){jt(this.g,new bd(d))},Br.prototype.sa=function(d){jt(this.g,new Cd)},Br.prototype.ra=function(){jt(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,W1=function(){return new Aa},B1=function(){return oo()},$1=jr,hv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,Gf=ma,od.COMPLETE="complete",z1=od,da.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,qu=da,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,U1=wt}).apply(typeof Nf<"u"?Nf:typeof self<"u"?self:typeof window<"u"?window:{});const GE="@firebase/firestore",KE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new ay("@firebase/firestore");function nl(){return qo.logLevel}function ge(n,...e){if(qo.logLevel<=Xe.DEBUG){const t=e.map(Ty);qo.debug(`Firestore (${Vl}): ${n}`,...t)}}function zi(n,...e){if(qo.logLevel<=Xe.ERROR){const t=e.map(Ty);qo.error(`Firestore (${Vl}): ${n}`,...t)}}function yl(n,...e){if(qo.logLevel<=Xe.WARN){const t=e.map(Ty);qo.warn(`Firestore (${Vl}): ${n}`,...t)}}function Ty(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,H1(n,r,t)}function H1(n,e,t){let r=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zi(r),new Error(r)}function ut(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||H1(e,i,r)}function We(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Ki{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class ZL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class XL{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ut(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ps,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ps)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new q1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class JL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e4{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new JL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ut(this.o===void 0,3512);const r=o=>{o.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new YE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new YE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=n4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Qe(n,e){return n<e?-1:n>e?1:0}function pv(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Qe(r,i);{const o=G1(),l=r4(o.encode(QE(n,t)),o.encode(QE(e,t)));return l!==0?l:Qe(r,i)}}t+=r>65535?2:1}return Qe(n.length,e.length)}function QE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function r4(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Qe(n[t],e[t]);return Qe(n.length,e.length)}function _l(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=-62135596800,XE=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*XE);return new Bt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ZE)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XE}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ZE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Bt(0,0))}static max(){return new Be(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="__name__";class Kr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Le(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Le(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Kr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Qe(e.length,t.length)}static compareSegments(e,t){const r=Kr.isNumericId(e),i=Kr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Kr.extractNumericId(e).compare(Kr.extractNumericId(t)):pv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class _t extends Kr{construct(e,t,r){return new _t(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new _t(t)}static emptyPath(){return new _t([])}}const i4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Kr{construct(e,t,r){return new rn(e,t,r)}static isValidIdentifier(e){return i4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JE}static keyField(){return new rn([JE])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(_t.fromString(e))}static fromName(e){return new Re(_t.fromString(e).popFirst(5))}static empty(){return new Re(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new _t(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=-1;function s4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(r===1e9?new Bt(t+1,0):new Bt(t,r));return new Os(i,Re.empty(),e)}function o4(n){return new Os(n.readTime,n.key,dc)}class Os{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Os(Be.min(),Re.empty(),dc)}static max(){return new Os(Be.max(),Re.empty(),dc)}}function a4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==l4)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},f=>r(f))}),l=!0,o===i&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(i=>i?te.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new te((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let f=0;f<o;f++){const p=f;t(e[p]).next(m=>{l[p]=m,++c,c===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new te((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function c4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Kh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=-1;function Yh(n){return n==null}function dh(n){return n===0&&1/n==-1/0}function d4(n){return typeof n=="number"&&Number.isInteger(n)&&!dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="";function f4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=eT(e)),e=h4(n.get(t),e);return eT(e)}function h4(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case Y1:t+="";break;default:t+=o}}return t}function eT(n){return n+Y1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Q1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new Ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Df(this.root,e,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Df(this.root,e,this.comparator,!0)}}class Df{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??nn.RED,this.left=i??nn.EMPTY,this.right=o??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new nn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(e){return new nT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class nT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Wn([])}unionWith(e){let t=new Wt(rn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _l(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Z1("Invalid base64 string: "+o):o}}(e);return new sn(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const p4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(n){if(ut(!!n,39018),typeof n=="string"){let e=0;const t=p4.exec(n);if(ut(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ls(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="server_timestamp",J1="__type__",eI="__previous_value__",tI="__local_write_time__";function Sy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[J1])===null||t===void 0?void 0:t.stringValue)===X1}function Qh(n){const e=n.mapValue.fields[eI];return Sy(e)?Qh(e):e}function fc(n){const e=Ms(n.mapValue.fields[tI].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t,r,i,o,l,c,f,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=m}}const fh="(default)";class hc{constructor(e,t){this.projectId=e,this.database=t||fh}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="__type__",g4="__max__",Of={mapValue:{}},rI="__vector__",hh="value";function Vs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sy(n)?4:y4(n)?9007199254740991:v4(n)?10:11:Le(28295,{value:n})}function ri(n,e){if(n===e)return!0;const t=Vs(n);if(t!==Vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fc(n).isEqual(fc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Ms(i.timestampValue),c=Ms(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ls(i.bytesValue).isEqual(Ls(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Nt(i.geoPointValue.latitude)===Nt(o.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Nt(i.integerValue)===Nt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Nt(i.doubleValue),c=Nt(o.doubleValue);return l===c?dh(l)===dh(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return _l(n.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(tT(l)!==tT(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!ri(l[f],c[f])))return!1;return!0}(n,e);default:return Le(52216,{left:n})}}function pc(n,e){return(n.values||[]).find(t=>ri(t,e))!==void 0}function wl(n,e){if(n===e)return 0;const t=Vs(n),r=Vs(e);if(t!==r)return Qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Nt(o.integerValue||o.doubleValue),f=Nt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return rT(n.timestampValue,e.timestampValue);case 4:return rT(fc(n),fc(e));case 5:return pv(n.stringValue,e.stringValue);case 6:return function(o,l){const c=Ls(o),f=Ls(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const m=Qe(c[p],f[p]);if(m!==0)return m}return Qe(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Qe(Nt(o.latitude),Nt(l.latitude));return c!==0?c:Qe(Nt(o.longitude),Nt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return iT(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,f,p,m;const _=o.fields||{},w=l.fields||{},x=(c=_[hh])===null||c===void 0?void 0:c.arrayValue,b=(f=w[hh])===null||f===void 0?void 0:f.arrayValue,I=Qe(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0);return I!==0?I:iT(x,b)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Of.mapValue&&l===Of.mapValue)return 0;if(o===Of.mapValue)return 1;if(l===Of.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),p=l.fields||{},m=Object.keys(p);f.sort(),m.sort();for(let _=0;_<f.length&&_<m.length;++_){const w=pv(f[_],m[_]);if(w!==0)return w;const x=wl(c[f[_]],p[m[_]]);if(x!==0)return x}return Qe(f.length,m.length)}(n.mapValue,e.mapValue);default:throw Le(23264,{Pe:t})}}function rT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const t=Ms(n),r=Ms(e),i=Qe(t.seconds,r.seconds);return i!==0?i:Qe(t.nanos,r.nanos)}function iT(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=wl(t[i],r[i]);if(o)return o}return Qe(t.length,r.length)}function El(n){return mv(n)}function mv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ms(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ls(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=mv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${mv(t.fields[l])}`;return i+"}"}(n.mapValue):Le(61005,{value:n})}function Kf(n){switch(Vs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(n);return e?16+Kf(e):16;case 5:return 2*n.stringValue.length;case 6:return Ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Kf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Zs(r.fields,(o,l)=>{i+=o.length+Kf(l)}),i}(n.mapValue);default:throw Le(13486,{value:n})}}function sT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gv(n){return!!n&&"integerValue"in n}function Iy(n){return!!n&&"arrayValue"in n}function oT(n){return!!n&&"nullValue"in n}function aT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yf(n){return!!n&&"mapValue"in n}function v4(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[nI])===null||t===void 0?void 0:t.stringValue)===rI}function tc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=tc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function y4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===g4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Yf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(t)}setAll(e){let t=rn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=tc(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Yf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Yf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Zs(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Pn(tc(this.value))}}function iI(n){const e=[];return Zs(n.fields,(t,r)=>{const i=new rn([t]);if(Yf(r)){const o=iI(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,r,i,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new fn(e,0,Be.min(),Be.min(),Be.min(),Pn.empty(),0)}static newFoundDocument(e,t,r,i){return new fn(e,1,t,Be.min(),r,i,0)}static newNoDocument(e,t){return new fn(e,2,t,Be.min(),Be.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Be.min(),Be.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t){this.position=e,this.inclusive=t}}function lT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=Re.comparator(Re.fromName(l.referenceValue),t.key):r=wl(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function uT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ri(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t="asc"){this.field=e,this.dir=t}}function _4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{}class Lt extends sI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new E4(e,t,r):t==="array-contains"?new S4(e,r):t==="in"?new I4(e,r):t==="not-in"?new b4(e,r):t==="array-contains-any"?new C4(e,r):new Lt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new T4(e,r):new x4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(wl(t,this.value)):t!==null&&Vs(this.value)===Vs(t)&&this.matchesComparison(wl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends sI{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Rr(e,t)}matches(e){return oI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function oI(n){return n.op==="and"}function aI(n){return w4(n)&&oI(n)}function w4(n){for(const e of n.filters)if(e instanceof Rr)return!1;return!0}function vv(n){if(n instanceof Lt)return n.field.canonicalString()+n.op.toString()+El(n.value);if(aI(n))return n.filters.map(e=>vv(e)).join(",");{const e=n.filters.map(t=>vv(t)).join(",");return`${n.op}(${e})`}}function lI(n,e){return n instanceof Lt?function(r,i){return i instanceof Lt&&r.op===i.op&&r.field.isEqual(i.field)&&ri(r.value,i.value)}(n,e):n instanceof Rr?function(r,i){return i instanceof Rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&lI(l,i.filters[c]),!0):!1}(n,e):void Le(19439)}function uI(n){return n instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${El(t.value)}`}(n):n instanceof Rr?function(t){return t.op.toString()+" {"+t.getFilters().map(uI).join(" ,")+"}"}(n):"Filter"}class E4 extends Lt{constructor(e,t,r){super(e,t,r),this.key=Re.fromName(r.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class T4 extends Lt{constructor(e,t){super(e,"in",t),this.keys=cI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class x4 extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=cI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Re.fromName(r.referenceValue))}class S4 extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Iy(t)&&pc(t.arrayValue,this.value)}}class I4 extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pc(this.value.arrayValue,t)}}class b4 extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pc(this.value.arrayValue,t)}}class C4 extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Iy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>pc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,t=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Ie=null}}function cT(n,e=null,t=[],r=[],i=null,o=null,l=null){return new k4(n,e,t,r,i,o,l)}function by(n){const e=We(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>vv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>El(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>El(r)).join(",")),e.Ie=t}return e.Ie}function Cy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uT(n.startAt,e.startAt)&&uT(n.endAt,e.endAt)}function yv(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,t=null,r=[],i=[],o=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function A4(n,e,t,r,i,o,l,c){return new Ul(n,e,t,r,i,o,l,c)}function dI(n){return new Ul(n)}function dT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function fI(n){return n.collectionGroup!==null}function nc(n){const e=We(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Wt(rn.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new mc(o,r))}),t.has(rn.keyField().canonicalString())||e.Ee.push(new mc(rn.keyField(),r))}return e.Ee}function Xr(n){const e=We(n);return e.de||(e.de=R4(e,nc(n))),e.de}function R4(n,e){if(n.limitType==="F")return cT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new mc(i.field,o)});const t=n.endAt?new ph(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ph(n.startAt.position,n.startAt.inclusive):null;return cT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _v(n,e){const t=n.filters.concat([e]);return new Ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wv(n,e,t){return new Ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zh(n,e){return Cy(Xr(n),Xr(e))&&n.limitType===e.limitType}function hI(n){return`${by(Xr(n))}|lt:${n.limitType}`}function rl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>uI(i)).join(", ")}]`),Yh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>El(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>El(i)).join(",")),`Target(${r})`}(Xr(n))}; limitType=${n.limitType})`}function Xh(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of nc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,f){const p=lT(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,nc(r),i)||r.endAt&&!function(l,c,f){const p=lT(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,nc(r),i))}(n,e)}function P4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pI(n){return(e,t)=>{let r=!1;for(const i of nc(n)){const o=N4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function N4(n,e,t){const r=n.field.isKeyField()?Re.comparator(e.key,t.key):function(o,l,c){const f=l.data.field(o),p=c.data.field(o);return f!==null&&p!==null?wl(f,p):Le(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Q1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=new Ct(Re.comparator);function $i(){return D4}const mI=new Ct(Re.comparator);function Gu(...n){let e=mI;for(const t of n)e=e.insert(t.key,t);return e}function gI(n){let e=mI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Mo(){return rc()}function vI(){return rc()}function rc(){return new ia(n=>n.toString(),(n,e)=>n.isEqual(e))}const O4=new Ct(Re.comparator),M4=new Wt(Re.comparator);function Je(...n){let e=M4;for(const t of n)e=e.add(t);return e}const L4=new Wt(Qe);function V4(){return L4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function yI(n){return{integerValue:""+n}}function j4(n,e){return d4(e)?yI(e):ky(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function F4(n,e,t){return n instanceof gc?function(i,o){const l={fields:{[J1]:{stringValue:X1},[tI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Sy(o)&&(o=Qh(o)),o&&(l.fields[eI]=o),{mapValue:l}}(t,e):n instanceof vc?wI(n,e):n instanceof yc?EI(n,e):function(i,o){const l=_I(i,o),c=fT(l)+fT(i.Re);return gv(l)&&gv(i.Re)?yI(c):ky(i.serializer,c)}(n,e)}function U4(n,e,t){return n instanceof vc?wI(n,e):n instanceof yc?EI(n,e):t}function _I(n,e){return n instanceof mh?function(r){return gv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class gc extends Jh{}class vc extends Jh{constructor(e){super(),this.elements=e}}function wI(n,e){const t=TI(e);for(const r of n.elements)t.some(i=>ri(i,r))||t.push(r);return{arrayValue:{values:t}}}class yc extends Jh{constructor(e){super(),this.elements=e}}function EI(n,e){let t=TI(e);for(const r of n.elements)t=t.filter(i=>!ri(i,r));return{arrayValue:{values:t}}}class mh extends Jh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function fT(n){return Nt(n.integerValue||n.doubleValue)}function TI(n){return Iy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t){this.field=e,this.transform=t}}function $4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof vc&&i instanceof vc||r instanceof yc&&i instanceof yc?_l(r.elements,i.elements,ri):r instanceof mh&&i instanceof mh?ri(r.Re,i.Re):r instanceof gc&&i instanceof gc}(n.transform,e.transform)}class B4{constructor(e,t){this.version=e,this.transformResults=t}}class kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ep{}function xI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ay(n.key,kr.none()):new Gc(n.key,n.data,kr.none());{const t=n.data,r=Pn.empty();let i=new Wt(rn.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Xs(n.key,r,new Wn(i.toArray()),kr.none())}}function W4(n,e,t){n instanceof Gc?function(i,o,l){const c=i.value.clone(),f=pT(i.fieldTransforms,o,l.transformResults);c.setAll(f),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Xs?function(i,o,l){if(!Qf(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=pT(i.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(SI(i)),f.setAll(c),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function ic(n,e,t,r){return n instanceof Gc?function(o,l,c,f){if(!Qf(o.precondition,l))return c;const p=o.value.clone(),m=mT(o.fieldTransforms,f,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Xs?function(o,l,c,f){if(!Qf(o.precondition,l))return c;const p=mT(o.fieldTransforms,f,l),m=l.data;return m.setAll(SI(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,l,c){return Qf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function H4(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=_I(r.transform,i||null);o!=null&&(t===null&&(t=Pn.empty()),t.set(r.field,o))}return t||null}function hT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_l(r,i,(o,l)=>$4(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gc extends ep{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xs extends ep{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function SI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function pT(n,e,t){const r=new Map;ut(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,U4(l,c,t[i]))}return r}function mT(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,F4(o,l,e))}return r}class Ay extends ep{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q4 extends ep{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&W4(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ic(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ic(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=vI();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const f=xI(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Je())}isEqual(e){return this.batchId===e.batchId&&_l(this.mutations,e.mutations,(t,r)=>hT(t,r))&&_l(this.baseMutations,e.baseMutations,(t,r)=>hT(t,r))}}class Ry{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ut(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return O4}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Ry(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,nt;function Q4(n){switch(n){case ne.OK:return Le(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Le(15467,{code:n})}}function II(n){if(n===void 0)return zi("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Mt.OK:return ne.OK;case Mt.CANCELLED:return ne.CANCELLED;case Mt.UNKNOWN:return ne.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ne.INTERNAL;case Mt.UNAVAILABLE:return ne.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ne.NOT_FOUND;case Mt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Mt.ABORTED:return ne.ABORTED;case Mt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Mt.DATA_LOSS:return ne.DATA_LOSS;default:return Le(39323,{code:n})}}(nt=Mt||(Mt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=new Rs([4294967295,4294967295],0);function gT(n){const e=G1().encode(n),t=new F1;return t.update(e),new Uint8Array(t.digest())}function vT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rs([t,r],0),new Rs([i,o],0)]}class Py{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ku(`Invalid padding: ${t}`);if(r<0)throw new Ku(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ku(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ku(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Rs.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Rs.fromNumber(r)));return i.compare(Z4)===1&&(i=new Rs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=gT(e),[r,i]=vT(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Py(o,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=gT(e),[r,i]=vT(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new tp(Be.min(),i,new Ct(Qe),$i(),Je())}}class Kc{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Kc(r,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class bI{constructor(e,t){this.targetId=e,this.Ce=t}}class CI{constructor(e,t,r=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class yT{constructor(){this.Fe=0,this.Me=_T(),this.xe=sn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Je(),t=Je(),r=Je();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Le(38017,{changeType:o})}}),new Kc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=_T()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ut(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class X4{constructor(e){this.ze=e,this.je=new Map,this.He=$i(),this.Je=Mf(),this.Ye=Mf(),this.Ze=new Ct(Qe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Le(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const o=i.target;if(yv(o))if(r===0){const l=new Re(o.path);this.tt(t,l,fn.newNoDocument(l,Be.min()))}else ut(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const c=this.ct(e),f=c?this.lt(c,e,l):1;if(f!==0){this.st(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=Ls(r).toUint8Array()}catch(f){if(f instanceof Z1)return yl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Py(l,i,o)}catch(f){return yl(f instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,o,null),i++)}),i}It(e){const t=new Map;this.je.forEach((o,l)=>{const c=this._t(l);if(c){if(o.current&&yv(c.target)){const f=new Re(c.target.path);this.Et(f).has(l)||this.dt(l,f)||this.tt(l,f,fn.newNoDocument(f,e))}o.Le&&(t.set(l,o.qe()),o.Qe())}});let r=Je();this.Ye.forEach((o,l)=>{let c=!0;l.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const i=new tp(e,t,this.Ze,this.He,r);return this.He=$i(),this.Je=Mf(),this.Ye=Mf(),this.Ze=new Ct(Qe),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new yT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Wt(Qe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Wt(Qe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new yT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Mf(){return new Ct(Re.comparator)}function _T(){return new Ct(Re.comparator)}const J4={asc:"ASCENDING",desc:"DESCENDING"},eV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tV={and:"AND",or:"OR"};class nV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ev(n,e){return n.useProto3Json||Yh(e)?e:{value:e}}function gh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rV(n,e){return gh(n,e.toTimestamp())}function Jr(n){return ut(!!n,49232),Be.fromTimestamp(function(t){const r=Ms(t);return new Bt(r.seconds,r.nanos)}(n))}function Ny(n,e){return Tv(n,e).canonicalString()}function Tv(n,e){const t=function(i){return new _t(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function AI(n){const e=_t.fromString(n);return ut(OI(e),10190,{key:e.toString()}),e}function xv(n,e){return Ny(n.databaseId,e.path)}function wg(n,e){const t=AI(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(PI(t))}function RI(n,e){return Ny(n.databaseId,e)}function iV(n){const e=AI(n);return e.length===4?_t.emptyPath():PI(e)}function Sv(n){return new _t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PI(n){return ut(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function wT(n,e,t){return{name:xv(n,e),fields:t.value.mapValue.fields}}function sV(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Le(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(ut(m===void 0||typeof m=="string",58123),sn.fromBase64String(m||"")):(ut(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),sn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?ne.UNKNOWN:II(p.code);return new ye(m,p.message||"")}(l);t=new CI(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wg(n,r.document.name),o=Jr(r.document.updateTime),l=r.document.createTime?Jr(r.document.createTime):Be.min(),c=new Pn({mapValue:{fields:r.document.fields}}),f=fn.newFoundDocument(i,o,l,c),p=r.targetIds||[],m=r.removedTargetIds||[];t=new Zf(p,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wg(n,r.document),o=r.readTime?Jr(r.readTime):Be.min(),l=fn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new Zf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wg(n,r.document),o=r.removedTargetIds||[];t=new Zf([],o,i,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new Y4(i,o),c=r.targetId;t=new bI(c,l)}}return t}function oV(n,e){let t;if(e instanceof Gc)t={update:wT(n,e.key,e.value)};else if(e instanceof Ay)t={delete:xv(n,e.key)};else if(e instanceof Xs)t={update:wT(n,e.key,e.data),updateMask:mV(e.fieldMask)};else{if(!(e instanceof q4))return Le(16599,{ft:e.type});t={verify:xv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof gc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof vc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof mh)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Le(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:rV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le(27497)}(n,e.precondition)),t}function aV(n,e){return n&&n.length>0?(ut(e!==void 0,14353),n.map(t=>function(i,o){let l=i.updateTime?Jr(i.updateTime):Jr(o);return l.isEqual(Be.min())&&(l=Jr(o)),new B4(l,i.transformResults||[])}(t,e))):[]}function lV(n,e){return{documents:[RI(n,e.path)]}}function uV(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=RI(n,i);const o=function(p){if(p.length!==0)return DI(Rr.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(m=>function(w){return{field:il(w.field),direction:fV(w.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Ev(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:i}}function cV(n){let e=iV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ut(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(_){const w=NI(_);return w instanceof Rr&&aI(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(w=>function(b){return new mc(sl(b.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(_){let w;return w=typeof _=="object"?_.value:_,Yh(w)?null:w}(t.limit));let f=null;t.startAt&&(f=function(_){const w=!!_.before,x=_.values||[];return new ph(x,w)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const w=!_.before,x=_.values||[];return new ph(x,w)}(t.endAt)),A4(e,i,l,o,c,"F",f,p)}function dV(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function NI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=sl(t.unaryFilter.field);return Lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sl(t.unaryFilter.field);return Lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=sl(t.unaryFilter.field);return Lt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=sl(t.unaryFilter.field);return Lt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}}(n):n.fieldFilter!==void 0?function(t){return Lt.create(sl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Rr.create(t.compositeFilter.filters.map(r=>NI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Le(1026)}}(t.compositeFilter.op))}(n):Le(30097,{filter:n})}function fV(n){return J4[n]}function hV(n){return eV[n]}function pV(n){return tV[n]}function il(n){return{fieldPath:n.canonicalString()}}function sl(n){return rn.fromServerFormat(n.fieldPath)}function DI(n){return n instanceof Lt?function(t){if(t.op==="=="){if(aT(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NAN"}};if(oT(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(aT(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NAN"}};if(oT(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(t.field),op:hV(t.op),value:t.value}}}(n):n instanceof Rr?function(t){const r=t.getFilters().map(i=>DI(i));return r.length===1?r[0]:{compositeFilter:{op:pV(t.op),filters:r}}}(n):Le(54877,{filter:n})}function mV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function OI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,r,i,o=Be.min(),l=Be.min(),c=sn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.wt=e}}function vV(n){const e=cV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(){this.yn=new _V}addToCollectionParentIndex(e,t){return this.yn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Os.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class _V{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Wt(_t.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wt(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MI=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(MI,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Tl(0)}static ir(){return new Tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="LruGarbageCollector",wV=1048576;function xT([n,e],[t,r]){const i=Qe(n,t);return i===0?Qe(e,r):i}class EV{constructor(e){this.cr=e,this.buffer=new Wt(xT),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();xT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class TV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ge(TT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fl(t)?ge(TT,"Ignoring IndexedDB error during garbage collection: ",t):await jl(t)}await this.Ir(3e5)})}}class xV{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Kh.le);const r=new EV(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(ET)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ET):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,o,l,c,f,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),nl()<=Xe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-m}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function SV(n,e){return new xV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.changes=new ia(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ic(r.mutation,i,Wn.empty(),Bt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Je()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Je()){const i=Mo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=Gu();return o.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Mo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Je()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let o=$i();const l=rc(),c=function(){return rc()}();return t.forEach((f,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Xs)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),ic(m.mutation,p,m.mutation.getFieldMask(),Bt.now())):l.set(p.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((p,m)=>l.set(p,m)),t.forEach((p,m)=>{var _;return c.set(p,new bV(m,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const r=rc();let i=new Ct((l,c)=>l-c),o=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let m=r.get(f)||Wn.empty();m=c.applyToLocalView(p,m),r.set(f,m);const _=(i.get(c.batchId)||Je()).add(f);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,m=f.value,_=vI();m.forEach(w=>{if(!o.has(w)){const x=xI(t.get(w),r.get(w));x!==null&&_.set(w,x),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return te.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Re.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):te.resolve(Mo());let c=dc,f=o;return l.next(p=>te.forEach(p,(m,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),o.get(m)?te.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{f=f.insert(m,w)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,f,p,Je())).next(m=>({batchId:c,changes:gI(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(r=>{let i=Gu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Gu();return this.indexManager.getCollectionParents(e,o).next(c=>te.forEach(c,f=>{const p=function(_,w){return new Ul(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((_,w)=>{l=l.insert(_,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((f,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,fn.newInvalidDocument(m)))});let c=Gu();return l.forEach((f,p)=>{const m=o.get(f);m!==void 0&&ic(m.mutation,p,Wn.empty(),Bt.now()),Xh(t,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return te.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Jr(i.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:vV(i.bundledQuery),readTime:Jr(i.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.overlays=new Ct(Re.comparator),this.Or=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Mo();return te.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const i=Mo(),o=t.length+1,l=new Re(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ct((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=o.get(p.largestBatchId);m===null&&(m=Mo(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=Mo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=i)););return te.resolve(c)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new K4(t,r));let o=this.Or.get(t);o===void 0&&(o=Je(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.Nr=new Wt(Qt.Br),this.Lr=new Wt(Qt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Qt(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Qt(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Re(new _t([])),r=new Qt(t,e),i=new Qt(t,e+1),o=[];return this.Lr.forEachInRange([r,i],l=>{this.Qr(l),o.push(l.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Re(new _t([])),r=new Qt(t,e),i=new Qt(t,e+1);let o=Je();return this.Lr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Qt(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Re.comparator(e.key,t.key)||Qe(e.Gr,t.Gr)}static kr(e,t){return Qe(e.Gr,t.Gr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Wt(Qt.Br)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new G4(o,t,r,i);this.mutationQueue.push(l);for(const c of i)this.zr=this.zr.add(new Qt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,t){return te.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Hr(r),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?xy:this.Jn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qt(t,0),i=new Qt(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],l=>{const c=this.jr(l.Gr);o.push(c)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wt(Qe);return t.forEach(i=>{const o=new Qt(i,0),l=new Qt(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,l],c=>{r=r.add(c.Gr)})}),te.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Re.isDocumentKey(o)||(o=o.child(""));const l=new Qt(new Re(o),0);let c=new Wt(Qe);return this.zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(f.Gr)),!0)},l),te.resolve(this.Jr(c))}Jr(e){const t=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ut(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return te.forEach(t.mutations,i=>{const o=new Qt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Qt(t,0),i=this.zr.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.Zr=e,this.docs=function(){return new Ct(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let r=$i();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():fn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=$i();const l=t.path,c=new Re(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:m}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||a4(o4(m),r)<=0||(i.has(m.key)||Xh(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Le(9500)}Xr(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new DV(this)}getSize(e){return te.resolve(this.size)}}class DV extends IV{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.persistence=e,this.ei=new ia(t=>by(t),Cy),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.ti=0,this.ni=new Dy,this.targetCount=0,this.ri=Tl.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),te.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Tl(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.ar(t),te.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.ei.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ei.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),te.waitFor(o).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,t){this.ii={},this.overlays={},this.si=new Kh(0),this.oi=!1,this.oi=!0,this._i=new RV,this.referenceDelegate=e(this),this.ai=new OV(this),this.indexManager=new yV,this.remoteDocumentCache=function(i){return new NV(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new gV(t),this.ci=new kV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new PV(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){ge("MemoryPersistence","Starting transaction:",e);const i=new MV(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,t){return te.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class MV extends u4{constructor(e){super(),this.currentSequenceNumber=e}}class Oy{constructor(e){this.persistence=e,this.Ti=new Dy,this.Ii=null}static Ei(e){return new Oy(e)}get di(){if(this.Ii)return this.Ii;throw Le(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,r=>{const i=Re.fromPath(r);return this.Ai(e,i).next(o=>{o||t.removeEntry(i,Be.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return te.or([()=>te.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class vh{constructor(e,t){this.persistence=e,this.Ri=new ia(r=>f4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=SV(this,t)}static Ei(e,t){return new vh(e,t)}li(){}hi(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return te.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?te.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,l=>this.gr(e,l,t).next(c=>{c||(r++,o.removeEntry(l,Be.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),te.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kf(e.data.value)),t}gr(e,t,r){return te.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.Ri.get(t);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=Je(),i=Je();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new My(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return uD()?8:c4(pn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Vs(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new LV;return this.fs(e,t,l).next(c=>{if(o.result=c,this.Is)return this.gs(e,t,l,c.size)})}).next(()=>o.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(nl()<=Xe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",rl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),te.resolve()):(nl()<=Xe.DEBUG&&ge("QueryEngine","Query:",rl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(nl()<=Xe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",rl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(t))):te.resolve())}Rs(e,t){if(dT(t))return te.resolve(null);let r=Xr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=wv(t,null,"F"),r=Xr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Je(...o);return this.As.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.ps(t,c);return this.ys(t,p,l,f.readTime)?this.Rs(e,wv(t,null,"F")):this.ws(e,p,t,f)}))})))}Vs(e,t,r,i){return dT(t)||i.isEqual(Be.min())?te.resolve(null):this.As.getDocuments(e,r).next(o=>{const l=this.ps(t,o);return this.ys(t,l,r,i)?te.resolve(null):(nl()<=Xe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rl(t)),this.ws(e,l,t,s4(i,dc)).next(c=>c))})}ps(e,t){let r=new Wt(pI(e));return t.forEach((i,o)=>{Xh(e,o)&&(r=r.add(o))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,t,r){return nl()<=Xe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",rl(t)),this.As.getDocumentsMatchingQuery(e,t,Os.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="LocalStore",jV=3e8;class FV{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new Ct(Qe),this.Ds=new ia(o=>by(o),Cy),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CV(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function UV(n,e,t,r){return new FV(n,e,t,r)}async function VI(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let f=Je();for(const p of i){l.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}for(const p of o){c.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ms:p,removedBatchIds:l,addedBatchIds:c}))})})}function zV(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(c,f,p,m){const _=p.batch,w=_.keys();let x=te.resolve();return w.forEach(b=>{x=x.next(()=>m.getEntry(f,b)).next(I=>{const k=p.docVersions.get(b);ut(k!==null,48541),I.version.compareTo(k)<0&&(_.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),m.addEntry(I)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(f,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Je();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function jI(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function $V(n,e){const t=We(n),r=e.snapshotVersion;let i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;const c=[];e.targetChanges.forEach((m,_)=>{const w=i.get(_);if(!w)return;c.push(t.ai.removeMatchingKeys(o,m.removedDocuments,_).next(()=>t.ai.addMatchingKeys(o,m.addedDocuments,_)));let x=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken(sn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),i=i.insert(_,x),function(I,k,P){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=jV?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(w,x,m)&&c.push(t.ai.updateTargetData(o,x))});let f=$i(),p=Je();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(BV(o,l,e.documentUpdates).next(m=>{f=m.xs,p=m.Os})),!r.isEqual(Be.min())){const m=t.ai.getLastRemoteSnapshotVersion(o).next(_=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return te.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,p)).next(()=>f)}).then(o=>(t.Ss=i,o))}function BV(n,e,t){let r=Je(),i=Je();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=$i();return t.forEach((c,f)=>{const p=o.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(Be.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):ge(Ly,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{xs:l,Os:i}})}function WV(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=xy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function HV(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(o=>o?(i=o,te.resolve(i)):t.ai.allocateTargetId(r).next(l=>(i=new bs(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function Iv(n,e,t){const r=We(n),i=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Fl(l))throw l;ge(Ly,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function ST(n,e,t){const r=We(n);let i=Be.min(),o=Je();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,m){const _=We(f),w=_.Ds.get(m);return w!==void 0?te.resolve(_.Ss.get(w)):_.ai.getTargetData(p,m)}(r,l,Xr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(l,c.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(l,e,t?i:Be.min(),t?o:Je())).next(c=>(qV(r,P4(e),c),{documents:c,Ns:o})))}function qV(n,e,t){let r=n.vs.get(e)||Be.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class IT{constructor(){this.activeTargetIds=V4()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GV{constructor(){this.So=new IT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new IT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="ConnectivityMonitor";class CT{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ge(bT,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ge(bT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf=null;function bv(){return Lf===null?Lf=function(){return 268435456+Math.round(2147483648*Math.random())}():Lf++,"0x"+Lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="RestConnection",YV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QV{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===fh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,o){const l=bv(),c=this.$o(e,t.toUriEncodedString());ge(Eg,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(f,i,o);const{host:p}=new URL(c),m=Uc(p);return this.Ko(e,c,f,r,m).then(_=>(ge(Eg,`Received RPC '${e}' ${l}: `,_),_),_=>{throw yl(Eg,`RPC '${e}' ${l} failed with error: `,_,"url: ",c,"request:",r),_})}Wo(e,t,r,i,o,l){return this.Qo(e,t,r,i,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,t){const r=YV[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class XV extends QV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i,o){const l=bv();return new Promise((c,f)=>{const p=new U1;p.setWithCredentials(!0),p.listenOnce(z1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Gf.NO_ERROR:const _=p.getResponseJson();ge(cn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case Gf.TIMEOUT:ge(cn,`RPC '${e}' ${l} timed out`),f(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Gf.HTTP_ERROR:const w=p.getStatus();if(ge(cn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const b=x==null?void 0:x.error;if(b&&b.status&&b.message){const I=function(P){const M=P.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(M)>=0?M:ne.UNKNOWN}(b.status);f(new ye(I,b.message))}else f(new ye(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{s_:e,streamId:l,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{ge(cn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);ge(cn,`RPC '${e}' ${l} sending request:`,i),p.send(t,"POST",m,r,15)})}a_(e,t,r){const i=bv(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=W1(),c=B1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=o.join("");ge(cn,`Creating RPC '${e}' stream ${i}: ${m}`,f);const _=l.createWebChannel(m,f);let w=!1,x=!1;const b=new ZV({Go:k=>{x?ge(cn,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(w||(ge(cn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),w=!0),ge(cn,`RPC '${e}' stream ${i} sending:`,k),_.send(k))},zo:()=>_.close()}),I=(k,P,M)=>{k.listen(P,L=>{try{M(L)}catch(H){setTimeout(()=>{throw H},0)}})};return I(_,qu.EventType.OPEN,()=>{x||(ge(cn,`RPC '${e}' stream ${i} transport opened.`),b.t_())}),I(_,qu.EventType.CLOSE,()=>{x||(x=!0,ge(cn,`RPC '${e}' stream ${i} transport closed`),b.r_())}),I(_,qu.EventType.ERROR,k=>{x||(x=!0,yl(cn,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),b.r_(new ye(ne.UNAVAILABLE,"The operation could not be completed")))}),I(_,qu.EventType.MESSAGE,k=>{var P;if(!x){const M=k.data[0];ut(!!M,16349);const L=M,H=(L==null?void 0:L.error)||((P=L[0])===null||P===void 0?void 0:P.error);if(H){ge(cn,`RPC '${e}' stream ${i} received error:`,H);const Z=H.status;let J=function(O){const j=Mt[O];if(j!==void 0)return II(j)}(Z),D=H.message;J===void 0&&(J=ne.INTERNAL,D="Unknown error status: "+Z+" with message "+H.message),x=!0,b.r_(new ye(J,D)),_.close()}else ge(cn,`RPC '${e}' stream ${i} received:`,M),b.i_(M)}}),I(c,$1.STAT_EVENT,k=>{k.stat===hv.PROXY?ge(cn,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===hv.NOPROXY&&ge(cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.n_()},0),b}}function Tg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(n){return new nV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,t,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="PersistentStream";class UI{constructor(e,t,r,i,o,l,c,f){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new FI(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(zi(t.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{const i=new ye(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ge(kT,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ge(kT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JV extends UI{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=sV(this.serializer,e),r=function(o){if(!("targetChange"in o))return Be.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Be.min():l.readTime?Jr(l.readTime):Be.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=Sv(this.serializer),t.addTarget=function(o,l){let c;const f=l.target;if(c=yv(f)?{documents:lV(o,f)}:{query:uV(o,f).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=kI(o,l.resumeToken);const p=Ev(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Be.min())>0){c.readTime=gh(o,l.snapshotVersion.toTimestamp());const p=Ev(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=dV(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=Sv(this.serializer),t.removeTarget=e,this.F_(t)}}class e3 extends UI{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=aV(e.writeResults,e.commitTime),r=Jr(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=Sv(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>oV(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{}class n3 extends t3{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Qo(e,Tv(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(ne.UNKNOWN,o.toString())})}Wo(e,t,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,Tv(t,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(ne.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class r3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(zi(t),this.ea=!1):ge("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="RemoteStore";class i3{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(l=>{r.enqueueAndForget(async()=>{sa(this)&&(ge(Go,"Restarting streams for network reachability change."),await async function(f){const p=We(f);p.aa.add(4),await Yc(p),p.la.set("Unknown"),p.aa.delete(4),await rp(p)}(this))})}),this.la=new r3(r,i)}}async function rp(n){if(sa(n))for(const e of n.ua)await e(!0)}async function Yc(n){for(const e of n.ua)await e(!1)}function zI(n,e){const t=We(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Uy(t)?Fy(t):zl(t).b_()&&jy(t,e))}function Vy(n,e){const t=We(n),r=zl(t);t._a.delete(e),r.b_()&&$I(t,e),t._a.size===0&&(r.b_()?r.v_():sa(t)&&t.la.set("Unknown"))}function jy(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zl(n).U_(e)}function $I(n,e){n.ha.Ke(e),zl(n).K_(e)}function Fy(n){n.ha=new X4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),zl(n).start(),n.la.ta()}function Uy(n){return sa(n)&&!zl(n).w_()&&n._a.size>0}function sa(n){return We(n).aa.size===0}function BI(n){n.ha=void 0}async function s3(n){n.la.set("Online")}async function o3(n){n._a.forEach((e,t)=>{jy(n,e)})}async function a3(n,e){BI(n),Uy(n)?(n.la.ia(e),Fy(n)):n.la.set("Unknown")}async function l3(n,e,t){if(n.la.set("Online"),e instanceof CI&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i._a.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i._a.delete(c),i.ha.removeTarget(c))}(n,e)}catch(r){ge(Go,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yh(n,r)}else if(e instanceof Zf?n.ha.Xe(e):e instanceof bI?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Be.min()))try{const r=await jI(n.localStore);t.compareTo(r)>=0&&await function(o,l){const c=o.ha.It(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const m=o._a.get(p);m&&o._a.set(p,m.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const m=o._a.get(f);if(!m)return;o._a.set(f,m.withResumeToken(sn.EMPTY_BYTE_STRING,m.snapshotVersion)),$I(o,f);const _=new bs(m.target,f,p,m.sequenceNumber);jy(o,_)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){ge(Go,"Failed to raise snapshot:",r),await yh(n,r)}}async function yh(n,e,t){if(!Fl(e))throw e;n.aa.add(1),await Yc(n),n.la.set("Offline"),t||(t=()=>jI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge(Go,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await rp(n)})}function WI(n,e){return e().catch(t=>yh(n,t,e))}async function ip(n){const e=We(n),t=js(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:xy;for(;u3(e);)try{const i=await WV(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,c3(e,i)}catch(i){await yh(e,i)}HI(e)&&qI(e)}function u3(n){return sa(n)&&n.oa.length<10}function c3(n,e){n.oa.push(e);const t=js(n);t.b_()&&t.W_&&t.G_(e.mutations)}function HI(n){return sa(n)&&!js(n).w_()&&n.oa.length>0}function qI(n){js(n).start()}async function d3(n){js(n).H_()}async function f3(n){const e=js(n);for(const t of n.oa)e.G_(t.mutations)}async function h3(n,e,t){const r=n.oa.shift(),i=Ry.from(r,e,t);await WI(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await ip(n)}async function p3(n,e){e&&js(n).W_&&await async function(r,i){if(function(l){return Q4(l)&&l!==ne.ABORTED}(i.code)){const o=r.oa.shift();js(r).D_(),await WI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ip(r)}}(n,e),HI(n)&&qI(n)}async function AT(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),ge(Go,"RemoteStore received new credentials");const r=sa(t);t.aa.add(3),await Yc(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await rp(t)}async function m3(n,e){const t=We(n);e?(t.aa.delete(2),await rp(t)):e||(t.aa.add(2),await Yc(t),t.la.set("Unknown"))}function zl(n){return n.Pa||(n.Pa=function(t,r,i){const o=We(t);return o.Y_(),new JV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:s3.bind(null,n),Jo:o3.bind(null,n),Zo:a3.bind(null,n),Q_:l3.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Uy(n)?Fy(n):n.la.set("Unknown")):(await n.Pa.stop(),BI(n))})),n.Pa}function js(n){return n.Ta||(n.Ta=function(t,r,i){const o=We(t);return o.Y_(),new e3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:d3.bind(null,n),Zo:p3.bind(null,n),z_:f3.bind(null,n),j_:h3.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await ip(n)):(await n.Ta.stop(),n.oa.length>0&&(ge(Go,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,c=new zy(e,t,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $y(n,e){if(zi("AsyncQueue",`${e}: ${n}`),Fl(n))return new ye(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{static emptySet(e){return new hl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Re.comparator(t.key,r.key):(t,r)=>Re.comparator(t.key,r.key),this.keyedMap=Gu(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.Ia=new Ct(Re.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Le(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class xl{constructor(e,t,r,i,o,l,c,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new xl(e,t,hl.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class v3{constructor(){this.queries=PT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const i=We(t),o=i.queries;i.queries=PT(),o.forEach((l,c)=>{for(const f of c.Ra)f.onError(r)})})(this,new ye(ne.ABORTED,"Firestore shutting down"))}}function PT(){return new ia(n=>hI(n),Zh)}async function y3(n,e){const t=We(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new g3,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(i,!0);break;case 1:o.Aa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=$y(l,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&By(t)}async function _3(n,e){const t=We(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.Ra.indexOf(e);l>=0&&(o.Ra.splice(l,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function w3(n,e){const t=We(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.Ra)c.pa(i)&&(r=!0);l.Aa=i}}r&&By(t)}function E3(n,e,t){const r=We(n),i=r.queries.get(e);if(i)for(const o of i.Ra)o.onError(t);r.queries.delete(e)}function By(n){n.fa.forEach(e=>{e.next()})}var Cv,NT;(NT=Cv||(Cv={})).ya="default",NT.Cache="cache";class T3{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Cv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.key=e}}class KI{constructor(e){this.key=e}}class x3{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Je(),this.mutatedKeys=Je(),this.Ua=pI(e),this.Ka=new hl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new RT,i=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,_)=>{const w=i.get(m),x=Xh(this.query,_)?_:null,b=!!w&&this.mutatedKeys.has(w.key),I=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;w&&x?w.data.isEqual(x.data)?b!==I&&(r.track({type:3,doc:x}),k=!0):this.ja(w,x)||(r.track({type:2,doc:x}),k=!0,(f&&this.Ua(x,f)>0||p&&this.Ua(x,p)<0)&&(c=!0)):!w&&x?(r.track({type:0,doc:x}),k=!0):w&&!x&&(r.track({type:1,doc:w}),k=!0,(f||p)&&(c=!0)),k&&(x?(l=l.add(x),o=I?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Ka:l,za:r,ys:c,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((m,_)=>function(x,b){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:k})}};return I(x)-I(b)}(m.type,_.type)||this.Ua(m.doc,_.doc)),this.Ha(r),i=i!=null&&i;const c=t&&!i?this.Ja():[],f=this.$a.size===0&&this.current&&!i?1:0,p=f!==this.Qa;return this.Qa=f,l.length!==0||p?{snapshot:new xl(this.query,e.Ka,o,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new RT,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Je(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new KI(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new GI(r))}),t}Xa(e){this.qa=e.Ns,this.$a=Je();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return xl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Wy="SyncEngine";class S3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class I3{constructor(e){this.key=e,this.tu=!1}}class b3{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new ia(c=>hI(c),Zh),this.iu=new Map,this.su=new Set,this.ou=new Ct(Re.comparator),this._u=new Map,this.au=new Dy,this.uu={},this.cu=new Map,this.lu=Tl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function C3(n,e,t=!0){const r=eb(n);let i;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=await YI(r,e,t,!0),i}async function k3(n,e){const t=eb(n);await YI(t,e,!0,!1)}async function YI(n,e,t,r){const i=await HV(n.localStore,Xr(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await A3(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&zI(n.remoteStore,i),c}async function A3(n,e,t,r,i){n.Pu=(_,w,x)=>async function(I,k,P,M){let L=k.view.Ga(P);L.ys&&(L=await ST(I.localStore,k.query,!1).then(({documents:D})=>k.view.Ga(D,L)));const H=M&&M.targetChanges.get(k.targetId),Z=M&&M.targetMismatches.get(k.targetId)!=null,J=k.view.applyChanges(L,I.isPrimaryClient,H,Z);return OT(I,k.targetId,J.Ya),J.snapshot}(n,_,w,x);const o=await ST(n.localStore,e,!0),l=new x3(e,o.Ns),c=l.Ga(o.documents),f=Kc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,f);OT(n,t,p.Ya);const m=new S3(e,t,l);return n.ru.set(e,m),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function R3(n,e,t){const r=We(n),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(l=>!Zh(l,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Iv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Vy(r.remoteStore,i.targetId),kv(r,i.targetId)}).catch(jl)):(kv(r,i.targetId),await Iv(r.localStore,i.targetId,!0))}async function P3(n,e){const t=We(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Vy(t.remoteStore,r.targetId))}async function N3(n,e,t){const r=F3(n);try{const i=await function(l,c){const f=We(l),p=Bt.now(),m=c.reduce((x,b)=>x.add(b.key),Je());let _,w;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let b=$i(),I=Je();return f.Cs.getEntries(x,m).next(k=>{b=k,b.forEach((P,M)=>{M.isValidDocument()||(I=I.add(P))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,b)).next(k=>{_=k;const P=[];for(const M of c){const L=H4(M,_.get(M.key).overlayedDocument);L!=null&&P.push(new Xs(M.key,L,iI(L.value.mapValue),kr.exists(!0)))}return f.mutationQueue.addMutationBatch(x,p,P,c)}).next(k=>{w=k;const P=k.applyToLocalDocumentSet(_,I);return f.documentOverlayCache.saveOverlays(x,k.batchId,P)})}).then(()=>({batchId:w.batchId,changes:gI(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let p=l.uu[l.currentUser.toKey()];p||(p=new Ct(Qe)),p=p.insert(c,f),l.uu[l.currentUser.toKey()]=p}(r,i.batchId,t),await Qc(r,i.changes),await ip(r.remoteStore)}catch(i){const o=$y(i,"Failed to persist write");t.reject(o)}}async function QI(n,e){const t=We(n);try{const r=await $V(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t._u.get(o);l&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.tu=!0:i.modifiedDocuments.size>0?ut(l.tu,14607):i.removedDocuments.size>0&&(ut(l.tu,42227),l.tu=!1))}),await Qc(t,r,e)}catch(r){await jl(r)}}function DT(n,e,t){const r=We(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ru.forEach((o,l)=>{const c=l.view.ga(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const f=We(l);f.onlineState=c;let p=!1;f.queries.forEach((m,_)=>{for(const w of _.Ra)w.ga(c)&&(p=!0)}),p&&By(f)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D3(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r._u.get(e),o=i&&i.key;if(o){let l=new Ct(Re.comparator);l=l.insert(o,fn.newNoDocument(o,Be.min()));const c=Je().add(o),f=new tp(Be.min(),new Map,new Ct(Qe),l,c);await QI(r,f),r.ou=r.ou.remove(o),r._u.delete(e),Hy(r)}else await Iv(r.localStore,e,!1).then(()=>kv(r,e,t)).catch(jl)}async function O3(n,e){const t=We(n),r=e.batch.batchId;try{const i=await zV(t.localStore,e);XI(t,r,null),ZI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Qc(t,i)}catch(i){await jl(i)}}async function M3(n,e,t){const r=We(n);try{const i=await function(l,c){const f=We(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return f.mutationQueue.lookupMutationBatch(p,c).next(_=>(ut(_!==null,37113),m=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>f.localDocuments.getDocuments(p,m))})}(r.localStore,e);XI(r,e,t),ZI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Qc(r,i)}catch(i){await jl(i)}}function ZI(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function XI(n,e,t){const r=We(n);let i=r.uu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function kv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||JI(n,r)})}function JI(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Vy(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Hy(n))}function OT(n,e,t){for(const r of t)r instanceof GI?(n.au.addReference(r.key,e),L3(n,r)):r instanceof KI?(ge(Wy,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||JI(n,r.key)):Le(19791,{Iu:r})}function L3(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(ge(Wy,"New document in limbo: "+t),n.su.add(r),Hy(n))}function Hy(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Re(_t.fromString(e)),r=n.lu.next();n._u.set(r,new I3(t)),n.ou=n.ou.insert(t,r),zI(n.remoteStore,new bs(Xr(dI(t.path)),r,"TargetPurposeLimboResolution",Kh.le))}}async function Qc(n,e,t){const r=We(n),i=[],o=[],l=[];r.ru.isEmpty()||(r.ru.forEach((c,f)=>{l.push(r.Pu(f,e,t).then(p=>{var m;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){i.push(p);const _=My.Ps(f.targetId,p);o.push(_)}}))}),await Promise.all(l),r.nu.Q_(i),await async function(f,p){const m=We(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>te.forEach(p,w=>te.forEach(w.ls,x=>m.persistence.referenceDelegate.addReference(_,w.targetId,x)).next(()=>te.forEach(w.hs,x=>m.persistence.referenceDelegate.removeReference(_,w.targetId,x)))))}catch(_){if(!Fl(_))throw _;ge(Ly,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const x=m.Ss.get(w),b=x.snapshotVersion,I=x.withLastLimboFreeSnapshotVersion(b);m.Ss=m.Ss.insert(w,I)}}}(r.localStore,o))}async function V3(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){ge(Wy,"User change. New user:",e.toKey());const r=await VI(t.localStore,e);t.currentUser=e,function(o,l){o.cu.forEach(c=>{c.forEach(f=>{f.reject(new ye(ne.CANCELLED,l))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qc(t,r.Ms)}}function j3(n,e){const t=We(n),r=t._u.get(e);if(r&&r.tu)return Je().add(r.key);{let i=Je();const o=t.iu.get(e);if(!o)return i;for(const l of o){const c=t.ru.get(l);i=i.unionWith(c.view.Wa)}return i}}function eb(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=QI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D3.bind(null,e),e.nu.Q_=w3.bind(null,e.eventManager),e.nu.Tu=E3.bind(null,e.eventManager),e}function F3(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M3.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=np(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return UV(this.persistence,new VV,e.initialUser,this.serializer)}Ru(e){return new LI(Oy.Ei,this.serializer)}Au(e){return new GV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class U3 extends _h{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){ut(this.persistence.referenceDelegate instanceof vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TV(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new LI(r=>vh.Ei(r,t),this.serializer)}}class Av{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=V3.bind(null,this.syncEngine),await m3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new v3}()}createDatastore(e){const t=np(e.databaseInfo.databaseId),r=function(o){return new XV(o)}(e.databaseInfo);return function(o,l,c,f){return new n3(o,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,c){return new i3(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>DT(this.syncEngine,t,0),function(){return CT.C()?new CT:new KV}())}createSyncEngine(e,t){return function(i,o,l,c,f,p,m){const _=new b3(i,o,l,c,f,p);return m&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=We(i);ge(Go,"RemoteStore shutting down."),o.aa.add(5),await Yc(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Av.provider={build:()=>new Av};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="FirestoreClient";class $3{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=K1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{ge(Fs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ge(Fs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=$y(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xg(n,e){n.asyncQueue.verifyOperationInProgress(),ge(Fs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await VI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function MT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await B3(n);ge(Fs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>AT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>AT(e.remoteStore,i)),n._onlineComponents=e}async function B3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(Fs,"Using user provided OfflineComponentProvider");try{await xg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;yl("Error using user provided cache. Falling back to memory cache: "+t),await xg(n,new _h)}}else ge(Fs,"Using default OfflineComponentProvider"),await xg(n,new U3(void 0));return n._offlineComponents}async function tb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(Fs,"Using user provided OnlineComponentProvider"),await MT(n,n._uninitializedComponentsProvider._online)):(ge(Fs,"Using default OnlineComponentProvider"),await MT(n,new Av))),n._onlineComponents}function W3(n){return tb(n).then(e=>e.syncEngine)}async function H3(n){const e=await tb(n),t=e.eventManager;return t.onListen=C3.bind(null,e.syncEngine),t.onUnlisten=R3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=k3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=P3.bind(null,e.syncEngine),t}function q3(n,e,t={}){const r=new Ps;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,f,p){const m=new z3({next:w=>{m.yu(),l.enqueueAndForget(()=>_3(o,_)),w.fromCache&&f.source==="server"?p.reject(new ye(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new T3(c,m,{includeMetadataChanges:!0,Fa:!0});return y3(o,_)}(await H3(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(n,e,t){if(!t)throw new ye(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function G3(n,e,t,r){if(e===!0&&r===!0)throw new ye(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VT(n){if(!Re.isDocumentKey(n))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jT(n){if(Re.isDocumentKey(n))throw new ye(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Le(12329,{type:typeof n})}function Us(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sp(n);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="firestore.googleapis.com",FT=!0;class UT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ib,this.ssl=FT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:FT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wV)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class op{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new QL;switch(r.type){case"firstParty":return new e4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Wh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=LT.get(t);r&&(ge("ComponentProvider","Removing Datastore"),LT.delete(t),r.terminate())}(this),Promise.resolve()}}function K3(n,e,t,r={}){var i;n=Us(n,op);const o=Uc(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;l.host!==ib&&l.host!==f&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:f,ssl:o,emulatorOptions:r});if(!$o(p,c)&&(n._setSettings(p),o&&(JS(`https://${f}`),Wh("Firestore",!0)),r.mockUserToken)){let m,_;if(typeof r.mockUserToken=="string")m=r.mockUserToken,_=dn.MOCK_USER;else{m=eD(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new dn(w)}n._authCredentials=new ZL(new q1(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class Dn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class Ns extends oa{constructor(e,t,r){super(e,t,dI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new Re(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function sb(n,e,...t){if(n=Zt(n),rb("collection","path",e),n instanceof op){const r=_t.fromString(e,...t);return jT(r),new Ns(n,null,r)}{if(!(n instanceof Dn||n instanceof Ns))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_t.fromString(e,...t));return jT(r),new Ns(n.firestore,null,r)}}function qy(n,e,...t){if(n=Zt(n),arguments.length===1&&(e=K1.newId()),rb("doc","path",e),n instanceof op){const r=_t.fromString(e,...t);return VT(r),new Dn(n,null,new Re(r))}{if(!(n instanceof Dn||n instanceof Ns))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_t.fromString(e,...t));return VT(r),new Dn(n.firestore,n instanceof Ns?n.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="AsyncQueue";class $T{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new FI(this,"async_queue_retry"),this.ju=()=>{const r=Tg();r&&ge(zT,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=Tg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Tg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Ps;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Fl(e))throw e;ge(zT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,zi("INTERNAL UNHANDLED ERROR: ",BT(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const i=zy.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&Le(47125,{ec:BT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function BT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Zc extends op{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new $T,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $T(e),this._firestoreClient=void 0,await e}}}function Y3(n,e){const t=typeof n=="object"?n:n1(),r=typeof n=="string"?n:fh,i=uy(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=X2("firestore");o&&K3(i,...o)}return i}function ob(n){if(n._terminated)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Q3(n),n._firestoreClient}function Q3(n){var e,t,r;const i=n._freezeSettings(),o=function(c,f,p,m){return new m4(c,f,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,nb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new $3(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sl(sn.fromBase64String(e))}catch(t){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sl(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=/^__.*__$/;class X3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gc(e,this.data,t,this.fieldTransforms)}}class ab{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{oc:n})}}class Yy{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Yy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return wh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(lb(this.oc)&&Z3.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class J3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||np(e)}dc(e,t,r,i=!1){return new Yy({oc:e,methodName:t,Ec:r,path:rn.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qy(n){const e=n._freezeSettings(),t=np(n._databaseId);return new J3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ej(n,e,t,r,i,o={}){const l=n.dc(o.merge||o.mergeFields?2:0,e,t,i);Xy("Data must be an object, but it was:",l,r);const c=ub(r,l);let f,p;if(o.merge)f=new Wn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const _ of o.mergeFields){const w=Rv(e,_,t);if(!l.contains(w))throw new ye(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);db(m,w)||m.push(w)}f=new Wn(m),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new X3(new Pn(c),f,p)}class up extends lp{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof up}}class Zy extends lp{_toFieldTransform(e){return new z4(e.path,new gc)}isEqual(e){return e instanceof Zy}}function tj(n,e,t,r){const i=n.dc(1,e,t);Xy("Data must be an object, but it was:",i,r);const o=[],l=Pn.empty();Zs(r,(f,p)=>{const m=Jy(e,f,t);p=Zt(p);const _=i.hc(m);if(p instanceof up)o.push(m);else{const w=Xc(p,_);w!=null&&(o.push(m),l.set(m,w))}});const c=new Wn(o);return new ab(l,c,i.fieldTransforms)}function nj(n,e,t,r,i,o){const l=n.dc(1,e,t),c=[Rv(e,r,t)],f=[i];if(o.length%2!=0)throw new ye(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)c.push(Rv(e,o[w])),f.push(o[w+1]);const p=[],m=Pn.empty();for(let w=c.length-1;w>=0;--w)if(!db(p,c[w])){const x=c[w];let b=f[w];b=Zt(b);const I=l.hc(x);if(b instanceof up)p.push(x);else{const k=Xc(b,I);k!=null&&(p.push(x),m.set(x,k))}}const _=new Wn(p);return new ab(m,_,l.fieldTransforms)}function rj(n,e,t,r=!1){return Xc(t,n.dc(r?4:3,e))}function Xc(n,e){if(cb(n=Zt(n)))return Xy("Unsupported field value:",e,n),ub(n,e);if(n instanceof lp)return function(r,i){if(!lb(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let f=Xc(c,i.Pc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return j4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Bt.fromDate(r);return{timestampValue:gh(i.serializer,o)}}if(r instanceof Bt){const o=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gh(i.serializer,o)}}if(r instanceof Gy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sl)return{bytesValue:kI(i.serializer,r._byteString)};if(r instanceof Dn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ny(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ky)return function(l,c){return{mapValue:{fields:{[nI]:{stringValue:rI},[hh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Tc("VectorValues must only contain numeric values.");return ky(c.serializer,p)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${sp(r)}`)}(n,e)}function ub(n,e){const t={};return Q1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(n,(r,i)=>{const o=Xc(i,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function cb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Bt||n instanceof Gy||n instanceof Sl||n instanceof Dn||n instanceof lp||n instanceof Ky)}function Xy(n,e,t){if(!cb(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=sp(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function Rv(n,e,t){if((e=Zt(e))instanceof ap)return e._internalPath;if(typeof e=="string")return Jy(n,e);throw wh("Field path arguments must be of type string or ",n,!1,void 0,t)}const ij=new RegExp("[~\\*/\\[\\]]");function Jy(n,e,t){if(e.search(ij)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ap(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wh(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new ye(ne.INVALID_ARGUMENT,c+n+f)}function db(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class sj extends fb{data(){return super.data()}}function cp(n,e){return typeof e=="string"?Jy(n,e):e instanceof ap?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e_{}class hb extends e_{}function aj(n,e,...t){let r=[];e instanceof e_&&r.push(e),r=r.concat(t),function(o){const l=o.filter(f=>f instanceof t_).length,c=o.filter(f=>f instanceof dp).length;if(l>1||l>0&&c>0)throw new ye(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class dp extends hb{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new dp(e,t,r)}_apply(e){const t=this._parse(e);return pb(e._query,t),new oa(e.firestore,e.converter,_v(e._query,t))}_parse(e){const t=Qy(e.firestore);return function(o,l,c,f,p,m,_){let w;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){HT(_,m);const b=[];for(const I of _)b.push(WT(f,o,I));w={arrayValue:{values:b}}}else w=WT(f,o,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||HT(_,m),w=rj(c,l,_,m==="in"||m==="not-in");return Lt.create(p,m,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function lj(n,e,t){const r=e,i=cp("where",n);return dp._create(i,r,t)}class t_ extends e_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new t_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Rr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const f of c)pb(l,f),l=_v(l,f)}(e._query,t),new oa(e.firestore,e.converter,_v(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class n_ extends hb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n_(e,t)}_apply(e){const t=function(i,o,l){if(i.startAt!==null)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mc(o,l)}(e._query,this._field,this._direction);return new oa(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new Ul(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function uj(n,e="asc"){const t=e,r=cp("orderBy",n);return n_._create(r,t)}function WT(n,e,t){if(typeof(t=Zt(t))=="string"){if(t==="")throw new ye(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fI(e)&&t.indexOf("/")!==-1)throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(_t.fromString(t));if(!Re.isDocumentKey(r))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sT(n,new Re(r))}if(t instanceof Dn)return sT(n,t._key);throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sp(t)}.`)}function HT(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pb(n,e){const t=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class cj{convertValue(e,t="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Zs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[hh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Nt(l.doubleValue));return new Ky(o)}convertGeoPoint(e){return new Gy(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const t=Ms(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_t.fromString(e);ut(OI(r),9688,{name:e});const i=new hc(r.get(1),r.get(3)),o=new Re(r.popFirst(5));return i.isEqual(t)||zi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fj extends fb{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(cp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Xf extends fj{data(e={}){return super.data(e)}}class hj{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Vf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Xf(this._firestore,this._userDataWriter,r.key,r,new Vf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const f=new Xf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Vf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const f=new Xf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Vf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:pj(c.type),doc:f,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function pj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:n})}}class mj extends cj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,t)}}function gj(n){n=Us(n,oa);const e=Us(n.firestore,Zc),t=ob(e),r=new mj(e);return oj(n._query),q3(t,n._query).then(i=>new hj(e,r,n,i))}function vj(n,e,t){n=Us(n,Dn);const r=Us(n.firestore,Zc),i=dj(n.converter,e);return r_(r,[ej(Qy(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,kr.none())])}function yj(n,e,t,...r){n=Us(n,Dn);const i=Us(n.firestore,Zc),o=Qy(i);let l;return l=typeof(e=Zt(e))=="string"||e instanceof ap?nj(o,"updateDoc",n._key,e,t,r):tj(o,"updateDoc",n._key,e),r_(i,[l.toMutation(n._key,kr.exists(!0))])}function _j(n){return r_(Us(n.firestore,Zc),[new Ay(n._key,kr.none())])}function r_(n,e){return function(r,i){const o=new Ps;return r.asyncQueue.enqueueAndForget(async()=>N3(await W3(r),i,o)),o.promise}(ob(n),e)}function qT(){return new Zy("serverTimestamp")}(function(e,t=!0){(function(i){Vl=i})(Ml),vl(new Bo("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Zc(new XL(r.getProvider("auth-internal")),new t4(l,r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(p.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),As(GE,KE,e),As(GE,KE,"esm2017")})();const wj={apiKey:"AIzaSyC4FuAlwSVGXKTzFt3CCoe2RvJfhW8bFio",authDomain:"todolist-cd951.firebaseapp.com",projectId:"todolist-cd951",storageBucket:"todolist-cd951.firebasestorage.app",messagingSenderId:"339215811281",appId:"1:339215811281:web:8b564cb4627a9473357bf0",measurementId:"G-5D2H0V89GJ"},Ej=cy(wj),fp=Y3(Ej),Tj=async(n,e)=>{var r;const t=(r=Qs.currentUser)==null?void 0:r.uid;if(!t)throw new Error("User not logged in");try{const i=qy(sb(fp,"todo")),o={id:i.id,uid:t,title:n,expireDate:e,isDone:!1,created_at:qT(),updated_at:qT()};await vj(i,o),console.log("新增資料成功")}catch(i){console.error("Error adding document: ",i)}},xj=async()=>{var e;const n=(e=Qs.currentUser)==null?void 0:e.uid;try{const t=aj(sb(fp,"todo"),lj("uid","==",n),uj("created_at","asc")),r=await gj(t),i=[];return r.forEach(o=>{const{id:l,title:c,expireDate:f,isDone:p}=o.data();i.push({id:l,title:c,expireDate:f,isDone:p})}),i}catch(t){console.error("Error getting todos: ",t)}},Sg=async(n,e,t,r)=>{var o;if(!((o=Qs.currentUser)==null?void 0:o.uid))throw new Error("User not logged in");try{const l=qy(fp,"todo",n);await yj(l,{title:e,expireDate:t,isDone:r}),console.log("更新資料成功")}catch(l){console.error("Error updating todos: ",l)}},Sj=async n=>{var t;if(!((t=Qs.currentUser)==null?void 0:t.uid))throw new Error("User not logged in");try{const r=qy(fp,"todo",n);await _j(r),console.log("刪除資料成功")}catch(r){console.error("Error updating todos: ",r)}},mb=T.createContext({todos:[],selectedStatus:null,handleSelect:()=>{},AddTodo:()=>{},GetTodos:()=>{},ToggleIsDone:()=>{},EditTodoTitle:()=>{},EditExpireDate:()=>{},DeleteTodo:()=>{}}),Ij=({children:n})=>{const[e,t]=T.useState([]),[r,i]=T.useState(null),o=w=>{i(w)},l=async()=>{const w=await xj();w&&t(w)},c=async(w,x)=>{await Tj(w,x),l()},f=async w=>{const x=e==null?void 0:e.find(M=>M.id===w);if(!x)return;x.isDone=!x.isDone;const{id:b,title:I,expireDate:k,isDone:P}=x;await Sg(b,I,k,P),l()},p=async(w,x)=>{const b=e==null?void 0:e.find(L=>L.id===w);if(!b)return;b.title=x;const{id:I,title:k,expireDate:P,isDone:M}=b;await Sg(I,k,P,M),l()},m=async(w,x)=>{const b=e==null?void 0:e.find(L=>L.id===w);if(!b)return;b.expireDate=x;const{id:I,title:k,expireDate:P,isDone:M}=b;await Sg(I,k,P,M),l()},_=async w=>{await Sj(w),l()};return S.jsx(mb.Provider,{value:{todos:e,selectedStatus:r,handleSelect:o,AddTodo:c,GetTodos:l,ToggleIsDone:f,EditTodoTitle:p,EditExpireDate:m,DeleteTodo:_},children:n})},hp=()=>T.useContext(mb);function pl({className:n,type:e,...t}){return S.jsx("input",{type:e,"data-slot":"input",className:It("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}function GT(n,[e,t]){return Math.min(t,Math.max(e,n))}function bj(n){const e=n+"CollectionProvider",[t,r]=na(e),[i,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=I=>{const{scope:k,children:P}=I,M=Ts.useRef(null),L=Ts.useRef(new Map).current;return S.jsx(i,{scope:k,itemMap:L,collectionRef:M,children:P})};l.displayName=e;const c=n+"CollectionSlot",f=Fo(c),p=Ts.forwardRef((I,k)=>{const{scope:P,children:M}=I,L=o(c,P),H=ft(k,L.collectionRef);return S.jsx(f,{ref:H,children:M})});p.displayName=c;const m=n+"CollectionItemSlot",_="data-radix-collection-item",w=Fo(m),x=Ts.forwardRef((I,k)=>{const{scope:P,children:M,...L}=I,H=Ts.useRef(null),Z=ft(k,H),J=o(m,P);return Ts.useEffect(()=>(J.itemMap.set(H,{ref:H,...L}),()=>void J.itemMap.delete(H))),S.jsx(w,{[_]:"",ref:Z,children:M})});x.displayName=m;function b(I){const k=o(n+"CollectionConsumer",I);return Ts.useCallback(()=>{const M=k.collectionRef.current;if(!M)return[];const L=Array.from(M.querySelectorAll(`[${_}]`));return Array.from(k.itemMap.values()).sort((J,D)=>L.indexOf(J.ref.current)-L.indexOf(D.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:l,Slot:p,ItemSlot:x},b,r]}var Cj=T.createContext(void 0);function kj(n){const e=T.useContext(Cj);return n||e||"ltr"}const Aj=["top","right","bottom","left"],zs=Math.min,$n=Math.max,Eh=Math.round,jf=Math.floor,ei=n=>({x:n,y:n}),Rj={left:"right",right:"left",bottom:"top",top:"bottom"},Pj={start:"end",end:"start"};function Pv(n,e,t){return $n(n,zs(e,t))}function Bi(n,e){return typeof n=="function"?n(e):n}function Wi(n){return n.split("-")[0]}function $l(n){return n.split("-")[1]}function i_(n){return n==="x"?"y":"x"}function s_(n){return n==="y"?"height":"width"}function Vi(n){return["top","bottom"].includes(Wi(n))?"y":"x"}function o_(n){return i_(Vi(n))}function Nj(n,e,t){t===void 0&&(t=!1);const r=$l(n),i=o_(n),o=s_(i);let l=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Th(l)),[l,Th(l)]}function Dj(n){const e=Th(n);return[Nv(n),e,Nv(e)]}function Nv(n){return n.replace(/start|end/g,e=>Pj[e])}function Oj(n,e,t){const r=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?o:l;default:return[]}}function Mj(n,e,t,r){const i=$l(n);let o=Oj(Wi(n),t==="start",r);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(Nv)))),o}function Th(n){return n.replace(/left|right|bottom|top/g,e=>Rj[e])}function Lj(n){return{top:0,right:0,bottom:0,left:0,...n}}function gb(n){return typeof n!="number"?Lj(n):{top:n,right:n,bottom:n,left:n}}function xh(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function KT(n,e,t){let{reference:r,floating:i}=n;const o=Vi(e),l=o_(e),c=s_(l),f=Wi(e),p=o==="y",m=r.x+r.width/2-i.width/2,_=r.y+r.height/2-i.height/2,w=r[c]/2-i[c]/2;let x;switch(f){case"top":x={x:m,y:r.y-i.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:_};break;case"left":x={x:r.x-i.width,y:_};break;default:x={x:r.x,y:r.y}}switch($l(e)){case"start":x[l]-=w*(t&&p?-1:1);break;case"end":x[l]+=w*(t&&p?-1:1);break}return x}const Vj=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=t,c=o.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:m,y:_}=KT(p,r,f),w=r,x={},b=0;for(let I=0;I<c.length;I++){const{name:k,fn:P}=c[I],{x:M,y:L,data:H,reset:Z}=await P({x:m,y:_,initialPlacement:r,placement:w,strategy:i,middlewareData:x,rects:p,platform:l,elements:{reference:n,floating:e}});m=M??m,_=L??_,x={...x,[k]:{...x[k],...H}},Z&&b<=50&&(b++,typeof Z=="object"&&(Z.placement&&(w=Z.placement),Z.rects&&(p=Z.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):Z.rects),{x:m,y:_}=KT(p,w,f)),I=-1)}return{x:m,y:_,placement:w,strategy:i,middlewareData:x}};async function _c(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:l,elements:c,strategy:f}=n,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:_="floating",altBoundary:w=!1,padding:x=0}=Bi(e,n),b=gb(x),k=c[w?_==="floating"?"reference":"floating":_],P=xh(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(k)))==null||t?k:k.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:p,rootBoundary:m,strategy:f})),M=_==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),H=await(o.isElement==null?void 0:o.isElement(L))?await(o.getScale==null?void 0:o.getScale(L))||{x:1,y:1}:{x:1,y:1},Z=xh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:M,offsetParent:L,strategy:f}):M);return{top:(P.top-Z.top+b.top)/H.y,bottom:(Z.bottom-P.bottom+b.bottom)/H.y,left:(P.left-Z.left+b.left)/H.x,right:(Z.right-P.right+b.right)/H.x}}const jj=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:o,platform:l,elements:c,middlewareData:f}=e,{element:p,padding:m=0}=Bi(n,e)||{};if(p==null)return{};const _=gb(m),w={x:t,y:r},x=o_(i),b=s_(x),I=await l.getDimensions(p),k=x==="y",P=k?"top":"left",M=k?"bottom":"right",L=k?"clientHeight":"clientWidth",H=o.reference[b]+o.reference[x]-w[x]-o.floating[b],Z=w[x]-o.reference[x],J=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let D=J?J[L]:0;(!D||!await(l.isElement==null?void 0:l.isElement(J)))&&(D=c.floating[L]||o.floating[b]);const A=H/2-Z/2,O=D/2-I[b]/2-1,j=zs(_[P],O),U=zs(_[M],O),$=j,N=D-I[b]-U,xe=D/2-I[b]/2+A,Ae=Pv($,xe,N),_e=!f.arrow&&$l(i)!=null&&xe!==Ae&&o.reference[b]/2-(xe<$?j:U)-I[b]/2<0,ee=_e?xe<$?xe-$:xe-N:0;return{[x]:w[x]+ee,data:{[x]:Ae,centerOffset:xe-Ae-ee,..._e&&{alignmentOffset:ee}},reset:_e}}}),Fj=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:f,elements:p}=e,{mainAxis:m=!0,crossAxis:_=!0,fallbackPlacements:w,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:I=!0,...k}=Bi(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const P=Wi(i),M=Vi(c),L=Wi(c)===c,H=await(f.isRTL==null?void 0:f.isRTL(p.floating)),Z=w||(L||!I?[Th(c)]:Dj(c)),J=b!=="none";!w&&J&&Z.push(...Mj(c,I,b,H));const D=[c,...Z],A=await _c(e,k),O=[];let j=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&O.push(A[P]),_){const Ae=Nj(i,l,H);O.push(A[Ae[0]],A[Ae[1]])}if(j=[...j,{placement:i,overflows:O}],!O.every(Ae=>Ae<=0)){var U,$;const Ae=(((U=o.flip)==null?void 0:U.index)||0)+1,_e=D[Ae];if(_e){var N;const F=_==="alignment"?M!==Vi(_e):!1,ce=((N=j[0])==null?void 0:N.overflows[0])>0;if(!F||ce)return{data:{index:Ae,overflows:j},reset:{placement:_e}}}let ee=($=j.filter(F=>F.overflows[0]<=0).sort((F,ce)=>F.overflows[1]-ce.overflows[1])[0])==null?void 0:$.placement;if(!ee)switch(x){case"bestFit":{var xe;const F=(xe=j.filter(ce=>{if(J){const se=Vi(ce.placement);return se===M||se==="y"}return!0}).map(ce=>[ce.placement,ce.overflows.filter(se=>se>0).reduce((se,W)=>se+W,0)]).sort((ce,se)=>ce[1]-se[1])[0])==null?void 0:xe[0];F&&(ee=F);break}case"initialPlacement":ee=c;break}if(i!==ee)return{reset:{placement:ee}}}return{}}}};function YT(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function QT(n){return Aj.some(e=>n[e]>=0)}const Uj=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Bi(n,e);switch(r){case"referenceHidden":{const o=await _c(e,{...i,elementContext:"reference"}),l=YT(o,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:QT(l)}}}case"escaped":{const o=await _c(e,{...i,altBoundary:!0}),l=YT(o,t.floating);return{data:{escapedOffsets:l,escaped:QT(l)}}}default:return{}}}}};async function zj(n,e){const{placement:t,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Wi(t),c=$l(t),f=Vi(t)==="y",p=["left","top"].includes(l)?-1:1,m=o&&f?-1:1,_=Bi(e,n);let{mainAxis:w,crossAxis:x,alignmentAxis:b}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return c&&typeof b=="number"&&(x=c==="end"?b*-1:b),f?{x:x*m,y:w*p}:{x:w*p,y:x*m}}const $j=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:o,placement:l,middlewareData:c}=e,f=await zj(e,n);return l===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:o+f.y,data:{...f,placement:l}}}}},Bj=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:k=>{let{x:P,y:M}=k;return{x:P,y:M}}},...f}=Bi(n,e),p={x:t,y:r},m=await _c(e,f),_=Vi(Wi(i)),w=i_(_);let x=p[w],b=p[_];if(o){const k=w==="y"?"top":"left",P=w==="y"?"bottom":"right",M=x+m[k],L=x-m[P];x=Pv(M,x,L)}if(l){const k=_==="y"?"top":"left",P=_==="y"?"bottom":"right",M=b+m[k],L=b-m[P];b=Pv(M,b,L)}const I=c.fn({...e,[w]:x,[_]:b});return{...I,data:{x:I.x-t,y:I.y-r,enabled:{[w]:o,[_]:l}}}}}},Wj=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:f=!0,crossAxis:p=!0}=Bi(n,e),m={x:t,y:r},_=Vi(i),w=i_(_);let x=m[w],b=m[_];const I=Bi(c,e),k=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(f){const L=w==="y"?"height":"width",H=o.reference[w]-o.floating[L]+k.mainAxis,Z=o.reference[w]+o.reference[L]-k.mainAxis;x<H?x=H:x>Z&&(x=Z)}if(p){var P,M;const L=w==="y"?"width":"height",H=["top","left"].includes(Wi(i)),Z=o.reference[_]-o.floating[L]+(H&&((P=l.offset)==null?void 0:P[_])||0)+(H?0:k.crossAxis),J=o.reference[_]+o.reference[L]+(H?0:((M=l.offset)==null?void 0:M[_])||0)-(H?k.crossAxis:0);b<Z?b=Z:b>J&&(b=J)}return{[w]:x,[_]:b}}}},Hj=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:o,platform:l,elements:c}=e,{apply:f=()=>{},...p}=Bi(n,e),m=await _c(e,p),_=Wi(i),w=$l(i),x=Vi(i)==="y",{width:b,height:I}=o.floating;let k,P;_==="top"||_==="bottom"?(k=_,P=w===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(P=_,k=w==="end"?"top":"bottom");const M=I-m.top-m.bottom,L=b-m.left-m.right,H=zs(I-m[k],M),Z=zs(b-m[P],L),J=!e.middlewareData.shift;let D=H,A=Z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=L),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=M),J&&!w){const j=$n(m.left,0),U=$n(m.right,0),$=$n(m.top,0),N=$n(m.bottom,0);x?A=b-2*(j!==0||U!==0?j+U:$n(m.left,m.right)):D=I-2*($!==0||N!==0?$+N:$n(m.top,m.bottom))}await f({...e,availableWidth:A,availableHeight:D});const O=await l.getDimensions(c.floating);return b!==O.width||I!==O.height?{reset:{rects:!0}}:{}}}};function pp(){return typeof window<"u"}function Bl(n){return vb(n)?(n.nodeName||"").toLowerCase():"#document"}function Hn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ui(n){var e;return(e=(vb(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function vb(n){return pp()?n instanceof Node||n instanceof Hn(n).Node:!1}function Pr(n){return pp()?n instanceof Element||n instanceof Hn(n).Element:!1}function ii(n){return pp()?n instanceof HTMLElement||n instanceof Hn(n).HTMLElement:!1}function ZT(n){return!pp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Hn(n).ShadowRoot}function Jc(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Nr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function qj(n){return["table","td","th"].includes(Bl(n))}function mp(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function a_(n){const e=l_(),t=Pr(n)?Nr(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Gj(n){let e=$s(n);for(;ii(e)&&!Il(e);){if(a_(e))return e;if(mp(e))return null;e=$s(e)}return null}function l_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Il(n){return["html","body","#document"].includes(Bl(n))}function Nr(n){return Hn(n).getComputedStyle(n)}function gp(n){return Pr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function $s(n){if(Bl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||ZT(n)&&n.host||ui(n);return ZT(e)?e.host:e}function yb(n){const e=$s(n);return Il(e)?n.ownerDocument?n.ownerDocument.body:n.body:ii(e)&&Jc(e)?e:yb(e)}function wc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=yb(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),l=Hn(i);if(o){const c=Dv(l);return e.concat(l,l.visualViewport||[],Jc(i)?i:[],c&&t?wc(c):[])}return e.concat(i,wc(i,[],t))}function Dv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function _b(n){const e=Nr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ii(n),o=i?n.offsetWidth:t,l=i?n.offsetHeight:r,c=Eh(t)!==o||Eh(r)!==l;return c&&(t=o,r=l),{width:t,height:r,$:c}}function u_(n){return Pr(n)?n:n.contextElement}function ml(n){const e=u_(n);if(!ii(e))return ei(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:o}=_b(e);let l=(o?Eh(t.width):t.width)/r,c=(o?Eh(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const Kj=ei(0);function wb(n){const e=Hn(n);return!l_()||!e.visualViewport?Kj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Yj(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Hn(n)?!1:e}function Ko(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=u_(n);let l=ei(1);e&&(r?Pr(r)&&(l=ml(r)):l=ml(n));const c=Yj(o,t,r)?wb(o):ei(0);let f=(i.left+c.x)/l.x,p=(i.top+c.y)/l.y,m=i.width/l.x,_=i.height/l.y;if(o){const w=Hn(o),x=r&&Pr(r)?Hn(r):r;let b=w,I=Dv(b);for(;I&&r&&x!==b;){const k=ml(I),P=I.getBoundingClientRect(),M=Nr(I),L=P.left+(I.clientLeft+parseFloat(M.paddingLeft))*k.x,H=P.top+(I.clientTop+parseFloat(M.paddingTop))*k.y;f*=k.x,p*=k.y,m*=k.x,_*=k.y,f+=L,p+=H,b=Hn(I),I=Dv(b)}}return xh({width:m,height:_,x:f,y:p})}function c_(n,e){const t=gp(n).scrollLeft;return e?e.left+t:Ko(ui(n)).left+t}function Eb(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:c_(n,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function Qj(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const o=i==="fixed",l=ui(r),c=e?mp(e.floating):!1;if(r===l||c&&o)return t;let f={scrollLeft:0,scrollTop:0},p=ei(1);const m=ei(0),_=ii(r);if((_||!_&&!o)&&((Bl(r)!=="body"||Jc(l))&&(f=gp(r)),ii(r))){const x=Ko(r);p=ml(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const w=l&&!_&&!o?Eb(l,f,!0):ei(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-f.scrollLeft*p.x+m.x+w.x,y:t.y*p.y-f.scrollTop*p.y+m.y+w.y}}function Zj(n){return Array.from(n.getClientRects())}function Xj(n){const e=ui(n),t=gp(n),r=n.ownerDocument.body,i=$n(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=$n(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+c_(n);const c=-t.scrollTop;return Nr(r).direction==="rtl"&&(l+=$n(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:c}}function Jj(n,e){const t=Hn(n),r=ui(n),i=t.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,f=0;if(i){o=i.width,l=i.height;const p=l_();(!p||p&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:o,height:l,x:c,y:f}}function eF(n,e){const t=Ko(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,o=ii(n)?ml(n):ei(1),l=n.clientWidth*o.x,c=n.clientHeight*o.y,f=i*o.x,p=r*o.y;return{width:l,height:c,x:f,y:p}}function XT(n,e,t){let r;if(e==="viewport")r=Jj(n,t);else if(e==="document")r=Xj(ui(n));else if(Pr(e))r=eF(e,t);else{const i=wb(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return xh(r)}function Tb(n,e){const t=$s(n);return t===e||!Pr(t)||Il(t)?!1:Nr(t).position==="fixed"||Tb(t,e)}function tF(n,e){const t=e.get(n);if(t)return t;let r=wc(n,[],!1).filter(c=>Pr(c)&&Bl(c)!=="body"),i=null;const o=Nr(n).position==="fixed";let l=o?$s(n):n;for(;Pr(l)&&!Il(l);){const c=Nr(l),f=a_(l);!f&&c.position==="fixed"&&(i=null),(o?!f&&!i:!f&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Jc(l)&&!f&&Tb(n,l))?r=r.filter(m=>m!==l):i=c,l=$s(l)}return e.set(n,r),r}function nF(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const l=[...t==="clippingAncestors"?mp(e)?[]:tF(e,this._c):[].concat(t),r],c=l[0],f=l.reduce((p,m)=>{const _=XT(e,m,i);return p.top=$n(_.top,p.top),p.right=zs(_.right,p.right),p.bottom=zs(_.bottom,p.bottom),p.left=$n(_.left,p.left),p},XT(e,c,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function rF(n){const{width:e,height:t}=_b(n);return{width:e,height:t}}function iF(n,e,t){const r=ii(e),i=ui(e),o=t==="fixed",l=Ko(n,!0,o,e);let c={scrollLeft:0,scrollTop:0};const f=ei(0);function p(){f.x=c_(i)}if(r||!r&&!o)if((Bl(e)!=="body"||Jc(i))&&(c=gp(e)),r){const x=Ko(e,!0,o,e);f.x=x.x+e.clientLeft,f.y=x.y+e.clientTop}else i&&p();o&&!r&&i&&p();const m=i&&!r&&!o?Eb(i,c):ei(0),_=l.left+c.scrollLeft-f.x-m.x,w=l.top+c.scrollTop-f.y-m.y;return{x:_,y:w,width:l.width,height:l.height}}function Ig(n){return Nr(n).position==="static"}function JT(n,e){if(!ii(n)||Nr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ui(n)===t&&(t=t.ownerDocument.body),t}function xb(n,e){const t=Hn(n);if(mp(n))return t;if(!ii(n)){let i=$s(n);for(;i&&!Il(i);){if(Pr(i)&&!Ig(i))return i;i=$s(i)}return t}let r=JT(n,e);for(;r&&qj(r)&&Ig(r);)r=JT(r,e);return r&&Il(r)&&Ig(r)&&!a_(r)?t:r||Gj(n)||t}const sF=async function(n){const e=this.getOffsetParent||xb,t=this.getDimensions,r=await t(n.floating);return{reference:iF(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function oF(n){return Nr(n).direction==="rtl"}const aF={convertOffsetParentRelativeRectToViewportRelativeRect:Qj,getDocumentElement:ui,getClippingRect:nF,getOffsetParent:xb,getElementRects:sF,getClientRects:Zj,getDimensions:rF,getScale:ml,isElement:Pr,isRTL:oF};function Sb(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function lF(n,e){let t=null,r;const i=ui(n);function o(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),o();const p=n.getBoundingClientRect(),{left:m,top:_,width:w,height:x}=p;if(c||e(),!w||!x)return;const b=jf(_),I=jf(i.clientWidth-(m+w)),k=jf(i.clientHeight-(_+x)),P=jf(m),L={rootMargin:-b+"px "+-I+"px "+-k+"px "+-P+"px",threshold:$n(0,zs(1,f))||1};let H=!0;function Z(J){const D=J[0].intersectionRatio;if(D!==f){if(!H)return l();D?l(!1,D):r=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!Sb(p,n.getBoundingClientRect())&&l(),H=!1}try{t=new IntersectionObserver(Z,{...L,root:i.ownerDocument})}catch{t=new IntersectionObserver(Z,L)}t.observe(n)}return l(!0),o}function uF(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=u_(n),m=i||o?[...p?wc(p):[],...wc(e)]:[];m.forEach(P=>{i&&P.addEventListener("scroll",t,{passive:!0}),o&&P.addEventListener("resize",t)});const _=p&&c?lF(p,t):null;let w=-1,x=null;l&&(x=new ResizeObserver(P=>{let[M]=P;M&&M.target===p&&x&&(x.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var L;(L=x)==null||L.observe(e)})),t()}),p&&!f&&x.observe(p),x.observe(e));let b,I=f?Ko(n):null;f&&k();function k(){const P=Ko(n);I&&!Sb(I,P)&&t(),I=P,b=requestAnimationFrame(k)}return t(),()=>{var P;m.forEach(M=>{i&&M.removeEventListener("scroll",t),o&&M.removeEventListener("resize",t)}),_==null||_(),(P=x)==null||P.disconnect(),x=null,f&&cancelAnimationFrame(b)}}const cF=$j,dF=Bj,fF=Fj,hF=Hj,pF=Uj,ex=jj,mF=Wj,gF=(n,e,t)=>{const r=new Map,i={platform:aF,...t},o={...i.platform,_c:r};return Vj(n,e,{...i,platform:o})};var Jf=typeof document<"u"?T.useLayoutEffect:T.useEffect;function Sh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Sh(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const o=i[r];if(!(o==="_owner"&&n.$$typeof)&&!Sh(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function Ib(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function tx(n,e){const t=Ib(n);return Math.round(e*t)/t}function bg(n){const e=T.useRef(n);return Jf(()=>{e.current=n}),e}function vF(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:f,open:p}=n,[m,_]=T.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,x]=T.useState(r);Sh(w,r)||x(r);const[b,I]=T.useState(null),[k,P]=T.useState(null),M=T.useCallback(F=>{F!==J.current&&(J.current=F,I(F))},[]),L=T.useCallback(F=>{F!==D.current&&(D.current=F,P(F))},[]),H=o||b,Z=l||k,J=T.useRef(null),D=T.useRef(null),A=T.useRef(m),O=f!=null,j=bg(f),U=bg(i),$=bg(p),N=T.useCallback(()=>{if(!J.current||!D.current)return;const F={placement:e,strategy:t,middleware:w};U.current&&(F.platform=U.current),gF(J.current,D.current,F).then(ce=>{const se={...ce,isPositioned:$.current!==!1};xe.current&&!Sh(A.current,se)&&(A.current=se,jc.flushSync(()=>{_(se)}))})},[w,e,t,U,$]);Jf(()=>{p===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,_(F=>({...F,isPositioned:!1})))},[p]);const xe=T.useRef(!1);Jf(()=>(xe.current=!0,()=>{xe.current=!1}),[]),Jf(()=>{if(H&&(J.current=H),Z&&(D.current=Z),H&&Z){if(j.current)return j.current(H,Z,N);N()}},[H,Z,N,j,O]);const Ae=T.useMemo(()=>({reference:J,floating:D,setReference:M,setFloating:L}),[M,L]),_e=T.useMemo(()=>({reference:H,floating:Z}),[H,Z]),ee=T.useMemo(()=>{const F={position:t,left:0,top:0};if(!_e.floating)return F;const ce=tx(_e.floating,m.x),se=tx(_e.floating,m.y);return c?{...F,transform:"translate("+ce+"px, "+se+"px)",...Ib(_e.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ce,top:se}},[t,c,_e.floating,m.x,m.y]);return T.useMemo(()=>({...m,update:N,refs:Ae,elements:_e,floatingStyles:ee}),[m,N,Ae,_e,ee])}const yF=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?ex({element:r.current,padding:i}).fn(t):{}:r?ex({element:r,padding:i}).fn(t):{}}}},_F=(n,e)=>({...cF(n),options:[n,e]}),wF=(n,e)=>({...dF(n),options:[n,e]}),EF=(n,e)=>({...mF(n),options:[n,e]}),TF=(n,e)=>({...fF(n),options:[n,e]}),xF=(n,e)=>({...hF(n),options:[n,e]}),SF=(n,e)=>({...pF(n),options:[n,e]}),IF=(n,e)=>({...yF(n),options:[n,e]});var bF="Arrow",bb=T.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...o}=n;return S.jsx(lt.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});bb.displayName=bF;var CF=bb;function Cb(n){const[e,t]=T.useState(void 0);return hn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,c;if("borderBoxSize"in o){const f=o.borderBoxSize,p=Array.isArray(f)?f[0]:f;l=p.inlineSize,c=p.blockSize}else l=n.offsetWidth,c=n.offsetHeight;t({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var d_="Popper",[kb,vp]=na(d_),[kF,Ab]=kb(d_),Rb=n=>{const{__scopePopper:e,children:t}=n,[r,i]=T.useState(null);return S.jsx(kF,{scope:e,anchor:r,onAnchorChange:i,children:t})};Rb.displayName=d_;var Pb="PopperAnchor",Nb=T.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,o=Ab(Pb,t),l=T.useRef(null),c=ft(e,l);return T.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:S.jsx(lt.div,{...i,ref:c})});Nb.displayName=Pb;var f_="PopperContent",[AF,RF]=kb(f_),Db=T.forwardRef((n,e)=>{var ae,be,je,Oe,He,Ge;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:_="partial",hideWhenDetached:w=!1,updatePositionStrategy:x="optimized",onPlaced:b,...I}=n,k=Ab(f_,t),[P,M]=T.useState(null),L=ft(e,kt=>M(kt)),[H,Z]=T.useState(null),J=Cb(H),D=(J==null?void 0:J.width)??0,A=(J==null?void 0:J.height)??0,O=r+(o!=="center"?"-"+o:""),j=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},U=Array.isArray(p)?p:[p],$=U.length>0,N={padding:j,boundary:U.filter(NF),altBoundary:$},{refs:xe,floatingStyles:Ae,placement:_e,isPositioned:ee,middlewareData:F}=vF({strategy:"fixed",placement:O,whileElementsMounted:(...kt)=>uF(...kt,{animationFrame:x==="always"}),elements:{reference:k.anchor},middleware:[_F({mainAxis:i+A,alignmentAxis:l}),f&&wF({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?EF():void 0,...N}),f&&TF({...N}),xF({...N,apply:({elements:kt,rects:Ht,availableWidth:Kn,availableHeight:or})=>{const{width:ar,height:aa}=Ht.reference,lr=kt.floating.style;lr.setProperty("--radix-popper-available-width",`${Kn}px`),lr.setProperty("--radix-popper-available-height",`${or}px`),lr.setProperty("--radix-popper-anchor-width",`${ar}px`),lr.setProperty("--radix-popper-anchor-height",`${aa}px`)}}),H&&IF({element:H,padding:c}),DF({arrowWidth:D,arrowHeight:A}),w&&SF({strategy:"referenceHidden",...N})]}),[ce,se]=Lb(_e),W=Uo(b);hn(()=>{ee&&(W==null||W())},[ee,W]);const X=(ae=F.arrow)==null?void 0:ae.x,fe=(be=F.arrow)==null?void 0:be.y,Se=((je=F.arrow)==null?void 0:je.centerOffset)!==0,[De,$e]=T.useState();return hn(()=>{P&&$e(window.getComputedStyle(P).zIndex)},[P]),S.jsx("div",{ref:xe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ae,transform:ee?Ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(Oe=F.transformOrigin)==null?void 0:Oe.x,(He=F.transformOrigin)==null?void 0:He.y].join(" "),...((Ge=F.hide)==null?void 0:Ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:S.jsx(AF,{scope:t,placedSide:ce,onArrowChange:Z,arrowX:X,arrowY:fe,shouldHideArrow:Se,children:S.jsx(lt.div,{"data-side":ce,"data-align":se,...I,ref:L,style:{...I.style,animation:ee?void 0:"none"}})})})});Db.displayName=f_;var Ob="PopperArrow",PF={top:"bottom",right:"left",bottom:"top",left:"right"},Mb=T.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,o=RF(Ob,r),l=PF[o.placedSide];return S.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:S.jsx(CF,{...i,ref:t,style:{...i.style,display:"block"}})})});Mb.displayName=Ob;function NF(n){return n!==null}var DF=n=>({name:"transformOrigin",options:n,fn(e){var k,P,M;const{placement:t,rects:r,middlewareData:i}=e,l=((k=i.arrow)==null?void 0:k.centerOffset)!==0,c=l?0:n.arrowWidth,f=l?0:n.arrowHeight,[p,m]=Lb(t),_={start:"0%",center:"50%",end:"100%"}[m],w=(((P=i.arrow)==null?void 0:P.x)??0)+c/2,x=(((M=i.arrow)==null?void 0:M.y)??0)+f/2;let b="",I="";return p==="bottom"?(b=l?_:`${w}px`,I=`${-f}px`):p==="top"?(b=l?_:`${w}px`,I=`${r.floating.height+f}px`):p==="right"?(b=`${-f}px`,I=l?_:`${x}px`):p==="left"&&(b=`${r.floating.width+f}px`,I=l?_:`${x}px`),{data:{x:b,y:I}}}});function Lb(n){const[e,t="center"]=n.split("-");return[e,t]}var Vb=Rb,h_=Nb,jb=Db,Fb=Mb;function Ub(n){const e=T.useRef({value:n,previous:n});return T.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var zb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OF="VisuallyHidden",MF=T.forwardRef((n,e)=>S.jsx(lt.span,{...n,ref:e,style:{...zb,...n.style}}));MF.displayName=OF;var LF=[" ","Enter","ArrowUp","ArrowDown"],VF=[" ","Enter"],Yo="Select",[yp,_p,jF]=bj(Yo),[Wl,bz]=na(Yo,[jF,vp]),wp=vp(),[FF,Js]=Wl(Yo),[UF,zF]=Wl(Yo),$b=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:o,value:l,defaultValue:c,onValueChange:f,dir:p,name:m,autoComplete:_,disabled:w,required:x,form:b}=n,I=wp(e),[k,P]=T.useState(null),[M,L]=T.useState(null),[H,Z]=T.useState(!1),J=kj(p),[D,A]=oc({prop:r,defaultProp:i??!1,onChange:o,caller:Yo}),[O,j]=oc({prop:l,defaultProp:c,onChange:f,caller:Yo}),U=T.useRef(null),$=k?b||!!k.closest("form"):!0,[N,xe]=T.useState(new Set),Ae=Array.from(N).map(_e=>_e.props.value).join(";");return S.jsx(Vb,{...I,children:S.jsxs(FF,{required:x,scope:e,trigger:k,onTriggerChange:P,valueNode:M,onValueNodeChange:L,valueNodeHasChildren:H,onValueNodeHasChildrenChange:Z,contentId:Vo(),value:O,onValueChange:j,open:D,onOpenChange:A,dir:J,triggerPointerDownPosRef:U,disabled:w,children:[S.jsx(yp.Provider,{scope:e,children:S.jsx(UF,{scope:n.__scopeSelect,onNativeOptionAdd:T.useCallback(_e=>{xe(ee=>new Set(ee).add(_e))},[]),onNativeOptionRemove:T.useCallback(_e=>{xe(ee=>{const F=new Set(ee);return F.delete(_e),F})},[]),children:t})}),$?S.jsxs(cC,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:_,value:O,onChange:_e=>j(_e.target.value),disabled:w,form:b,children:[O===void 0?S.jsx("option",{value:""}):null,Array.from(N)]},Ae):null]})})};$b.displayName=Yo;var Bb="SelectTrigger",Wb=T.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,o=wp(t),l=Js(Bb,t),c=l.disabled||r,f=ft(e,l.onTriggerChange),p=_p(t),m=T.useRef("touch"),[_,w,x]=fC(I=>{const k=p().filter(L=>!L.disabled),P=k.find(L=>L.value===l.value),M=hC(k,I,P);M!==void 0&&l.onValueChange(M.value)}),b=I=>{c||(l.onOpenChange(!0),x()),I&&(l.triggerPointerDownPosRef.current={x:Math.round(I.pageX),y:Math.round(I.pageY)})};return S.jsx(h_,{asChild:!0,...o,children:S.jsx(lt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":dC(l.value)?"":void 0,...i,ref:f,onClick:st(i.onClick,I=>{I.currentTarget.focus(),m.current!=="mouse"&&b(I)}),onPointerDown:st(i.onPointerDown,I=>{m.current=I.pointerType;const k=I.target;k.hasPointerCapture(I.pointerId)&&k.releasePointerCapture(I.pointerId),I.button===0&&I.ctrlKey===!1&&I.pointerType==="mouse"&&(b(I),I.preventDefault())}),onKeyDown:st(i.onKeyDown,I=>{const k=_.current!=="";!(I.ctrlKey||I.altKey||I.metaKey)&&I.key.length===1&&w(I.key),!(k&&I.key===" ")&&LF.includes(I.key)&&(b(),I.preventDefault())})})})});Wb.displayName=Bb;var Hb="SelectValue",qb=T.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:o,placeholder:l="",...c}=n,f=Js(Hb,t),{onValueNodeHasChildrenChange:p}=f,m=o!==void 0,_=ft(e,f.onValueNodeChange);return hn(()=>{p(m)},[p,m]),S.jsx(lt.span,{...c,ref:_,style:{pointerEvents:"none"},children:dC(f.value)?S.jsx(S.Fragment,{children:l}):o})});qb.displayName=Hb;var $F="SelectIcon",Gb=T.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return S.jsx(lt.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});Gb.displayName=$F;var BF="SelectPortal",Kb=n=>S.jsx(Fh,{asChild:!0,...n});Kb.displayName=BF;var Qo="SelectContent",Yb=T.forwardRef((n,e)=>{const t=Js(Qo,n.__scopeSelect),[r,i]=T.useState();if(hn(()=>{i(new DocumentFragment)},[]),!t.open){const o=r;return o?jc.createPortal(S.jsx(Qb,{scope:n.__scopeSelect,children:S.jsx(yp.Slot,{scope:n.__scopeSelect,children:S.jsx("div",{children:n.children})})}),o):null}return S.jsx(Zb,{...n,ref:e})});Yb.displayName=Qo;var Sr=10,[Qb,eo]=Wl(Qo),WF="SelectContentImpl",HF=Fo("SelectContent.RemoveScroll"),Zb=T.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:f,align:p,alignOffset:m,arrowPadding:_,collisionBoundary:w,collisionPadding:x,sticky:b,hideWhenDetached:I,avoidCollisions:k,...P}=n,M=Js(Qo,t),[L,H]=T.useState(null),[Z,J]=T.useState(null),D=ft(e,ae=>H(ae)),[A,O]=T.useState(null),[j,U]=T.useState(null),$=_p(t),[N,xe]=T.useState(!1),Ae=T.useRef(!1);T.useEffect(()=>{if(L)return ny(L)},[L]),ty();const _e=T.useCallback(ae=>{const[be,...je]=$().map(Ge=>Ge.ref.current),[Oe]=je.slice(-1),He=document.activeElement;for(const Ge of ae)if(Ge===He||(Ge==null||Ge.scrollIntoView({block:"nearest"}),Ge===be&&Z&&(Z.scrollTop=0),Ge===Oe&&Z&&(Z.scrollTop=Z.scrollHeight),Ge==null||Ge.focus(),document.activeElement!==He))return},[$,Z]),ee=T.useCallback(()=>_e([A,L]),[_e,A,L]);T.useEffect(()=>{N&&ee()},[N,ee]);const{onOpenChange:F,triggerPointerDownPosRef:ce}=M;T.useEffect(()=>{if(L){let ae={x:0,y:0};const be=Oe=>{var He,Ge;ae={x:Math.abs(Math.round(Oe.pageX)-(((He=ce.current)==null?void 0:He.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((Ge=ce.current)==null?void 0:Ge.y)??0))}},je=Oe=>{ae.x<=10&&ae.y<=10?Oe.preventDefault():L.contains(Oe.target)||F(!1),document.removeEventListener("pointermove",be),ce.current=null};return ce.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",je,{capture:!0})}}},[L,F,ce]),T.useEffect(()=>{const ae=()=>F(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[F]);const[se,W]=fC(ae=>{const be=$().filter(He=>!He.disabled),je=be.find(He=>He.ref.current===document.activeElement),Oe=hC(be,ae,je);Oe&&setTimeout(()=>Oe.ref.current.focus())}),X=T.useCallback((ae,be,je)=>{const Oe=!Ae.current&&!je;(M.value!==void 0&&M.value===be||Oe)&&(O(ae),Oe&&(Ae.current=!0))},[M.value]),fe=T.useCallback(()=>L==null?void 0:L.focus(),[L]),Se=T.useCallback((ae,be,je)=>{const Oe=!Ae.current&&!je;(M.value!==void 0&&M.value===be||Oe)&&U(ae)},[M.value]),De=r==="popper"?Ov:Xb,$e=De===Ov?{side:c,sideOffset:f,align:p,alignOffset:m,arrowPadding:_,collisionBoundary:w,collisionPadding:x,sticky:b,hideWhenDetached:I,avoidCollisions:k}:{};return S.jsx(Qb,{scope:t,content:L,viewport:Z,onViewportChange:J,itemRefCallback:X,selectedItem:A,onItemLeave:fe,itemTextRefCallback:Se,focusSelectedItem:ee,selectedItemText:j,position:r,isPositioned:N,searchRef:se,children:S.jsx(zh,{as:HF,allowPinchZoom:!0,children:S.jsx(jh,{asChild:!0,trapped:M.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:st(i,ae=>{var be;(be=M.trigger)==null||be.focus({preventScroll:!0}),ae.preventDefault()}),children:S.jsx(Vh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:S.jsx(De,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:ae=>ae.preventDefault(),...P,...$e,onPlaced:()=>xe(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:st(P.onKeyDown,ae=>{const be=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!be&&ae.key.length===1&&W(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Oe=$().filter(He=>!He.disabled).map(He=>He.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const He=ae.target,Ge=Oe.indexOf(He);Oe=Oe.slice(Ge+1)}setTimeout(()=>_e(Oe)),ae.preventDefault()}})})})})})})});Zb.displayName=WF;var qF="SelectItemAlignedPosition",Xb=T.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,o=Js(Qo,t),l=eo(Qo,t),[c,f]=T.useState(null),[p,m]=T.useState(null),_=ft(e,D=>m(D)),w=_p(t),x=T.useRef(!1),b=T.useRef(!0),{viewport:I,selectedItem:k,selectedItemText:P,focusSelectedItem:M}=l,L=T.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&p&&I&&k&&P){const D=o.trigger.getBoundingClientRect(),A=p.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),j=P.getBoundingClientRect();if(o.dir!=="rtl"){const He=j.left-A.left,Ge=O.left-He,kt=D.left-Ge,Ht=D.width+kt,Kn=Math.max(Ht,A.width),or=window.innerWidth-Sr,ar=GT(Ge,[Sr,Math.max(Sr,or-Kn)]);c.style.minWidth=Ht+"px",c.style.left=ar+"px"}else{const He=A.right-j.right,Ge=window.innerWidth-O.right-He,kt=window.innerWidth-D.right-Ge,Ht=D.width+kt,Kn=Math.max(Ht,A.width),or=window.innerWidth-Sr,ar=GT(Ge,[Sr,Math.max(Sr,or-Kn)]);c.style.minWidth=Ht+"px",c.style.right=ar+"px"}const U=w(),$=window.innerHeight-Sr*2,N=I.scrollHeight,xe=window.getComputedStyle(p),Ae=parseInt(xe.borderTopWidth,10),_e=parseInt(xe.paddingTop,10),ee=parseInt(xe.borderBottomWidth,10),F=parseInt(xe.paddingBottom,10),ce=Ae+_e+N+F+ee,se=Math.min(k.offsetHeight*5,ce),W=window.getComputedStyle(I),X=parseInt(W.paddingTop,10),fe=parseInt(W.paddingBottom,10),Se=D.top+D.height/2-Sr,De=$-Se,$e=k.offsetHeight/2,ae=k.offsetTop+$e,be=Ae+_e+ae,je=ce-be;if(be<=Se){const He=U.length>0&&k===U[U.length-1].ref.current;c.style.bottom="0px";const Ge=p.clientHeight-I.offsetTop-I.offsetHeight,kt=Math.max(De,$e+(He?fe:0)+Ge+ee),Ht=be+kt;c.style.height=Ht+"px"}else{const He=U.length>0&&k===U[0].ref.current;c.style.top="0px";const kt=Math.max(Se,Ae+I.offsetTop+(He?X:0)+$e)+je;c.style.height=kt+"px",I.scrollTop=be-Se+I.offsetTop}c.style.margin=`${Sr}px 0`,c.style.minHeight=se+"px",c.style.maxHeight=$+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[w,o.trigger,o.valueNode,c,p,I,k,P,o.dir,r]);hn(()=>L(),[L]);const[H,Z]=T.useState();hn(()=>{p&&Z(window.getComputedStyle(p).zIndex)},[p]);const J=T.useCallback(D=>{D&&b.current===!0&&(L(),M==null||M(),b.current=!1)},[L,M]);return S.jsx(KF,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:J,children:S.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:H},children:S.jsx(lt.div,{...i,ref:_,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Xb.displayName=qF;var GF="SelectPopperPosition",Ov=T.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Sr,...o}=n,l=wp(t);return S.jsx(jb,{...l,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ov.displayName=GF;var[KF,p_]=Wl(Qo,{}),Mv="SelectViewport",Jb=T.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,o=eo(Mv,t),l=p_(Mv,t),c=ft(e,o.onViewportChange),f=T.useRef(0);return S.jsxs(S.Fragment,{children:[S.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),S.jsx(yp.Slot,{scope:t,children:S.jsx(lt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:st(i.onScroll,p=>{const m=p.currentTarget,{contentWrapper:_,shouldExpandOnScrollRef:w}=l;if(w!=null&&w.current&&_){const x=Math.abs(f.current-m.scrollTop);if(x>0){const b=window.innerHeight-Sr*2,I=parseFloat(_.style.minHeight),k=parseFloat(_.style.height),P=Math.max(I,k);if(P<b){const M=P+x,L=Math.min(b,M),H=M-L;_.style.height=L+"px",_.style.bottom==="0px"&&(m.scrollTop=H>0?H:0,_.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});Jb.displayName=Mv;var eC="SelectGroup",[YF,QF]=Wl(eC),ZF=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Vo();return S.jsx(YF,{scope:t,id:i,children:S.jsx(lt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});ZF.displayName=eC;var tC="SelectLabel",XF=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=QF(tC,t);return S.jsx(lt.div,{id:i.id,...r,ref:e})});XF.displayName=tC;var Ih="SelectItem",[JF,nC]=Wl(Ih),rC=T.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:o,...l}=n,c=Js(Ih,t),f=eo(Ih,t),p=c.value===r,[m,_]=T.useState(o??""),[w,x]=T.useState(!1),b=ft(e,M=>{var L;return(L=f.itemRefCallback)==null?void 0:L.call(f,M,r,i)}),I=Vo(),k=T.useRef("touch"),P=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return S.jsx(JF,{scope:t,value:r,disabled:i,textId:I,isSelected:p,onItemTextChange:T.useCallback(M=>{_(L=>L||((M==null?void 0:M.textContent)??"").trim())},[]),children:S.jsx(yp.ItemSlot,{scope:t,value:r,disabled:i,textValue:m,children:S.jsx(lt.div,{role:"option","aria-labelledby":I,"data-highlighted":w?"":void 0,"aria-selected":p&&w,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:b,onFocus:st(l.onFocus,()=>x(!0)),onBlur:st(l.onBlur,()=>x(!1)),onClick:st(l.onClick,()=>{k.current!=="mouse"&&P()}),onPointerUp:st(l.onPointerUp,()=>{k.current==="mouse"&&P()}),onPointerDown:st(l.onPointerDown,M=>{k.current=M.pointerType}),onPointerMove:st(l.onPointerMove,M=>{var L;k.current=M.pointerType,i?(L=f.onItemLeave)==null||L.call(f):k.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(l.onPointerLeave,M=>{var L;M.currentTarget===document.activeElement&&((L=f.onItemLeave)==null||L.call(f))}),onKeyDown:st(l.onKeyDown,M=>{var H;((H=f.searchRef)==null?void 0:H.current)!==""&&M.key===" "||(VF.includes(M.key)&&P(),M.key===" "&&M.preventDefault())})})})})});rC.displayName=Ih;var Yu="SelectItemText",iC=T.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...o}=n,l=Js(Yu,t),c=eo(Yu,t),f=nC(Yu,t),p=zF(Yu,t),[m,_]=T.useState(null),w=ft(e,P=>_(P),f.onItemTextChange,P=>{var M;return(M=c.itemTextRefCallback)==null?void 0:M.call(c,P,f.value,f.disabled)}),x=m==null?void 0:m.textContent,b=T.useMemo(()=>S.jsx("option",{value:f.value,disabled:f.disabled,children:x},f.value),[f.disabled,f.value,x]),{onNativeOptionAdd:I,onNativeOptionRemove:k}=p;return hn(()=>(I(b),()=>k(b)),[I,k,b]),S.jsxs(S.Fragment,{children:[S.jsx(lt.span,{id:f.textId,...o,ref:w}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?jc.createPortal(o.children,l.valueNode):null]})});iC.displayName=Yu;var sC="SelectItemIndicator",oC=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return nC(sC,t).isSelected?S.jsx(lt.span,{"aria-hidden":!0,...r,ref:e}):null});oC.displayName=sC;var Lv="SelectScrollUpButton",aC=T.forwardRef((n,e)=>{const t=eo(Lv,n.__scopeSelect),r=p_(Lv,n.__scopeSelect),[i,o]=T.useState(!1),l=ft(e,r.onScrollButtonChange);return hn(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=f.scrollTop>0;o(p)};const f=t.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?S.jsx(uC,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=t;c&&f&&(c.scrollTop=c.scrollTop-f.offsetHeight)}}):null});aC.displayName=Lv;var Vv="SelectScrollDownButton",lC=T.forwardRef((n,e)=>{const t=eo(Vv,n.__scopeSelect),r=p_(Vv,n.__scopeSelect),[i,o]=T.useState(!1),l=ft(e,r.onScrollButtonChange);return hn(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<p;o(m)};const f=t.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?S.jsx(uC,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=t;c&&f&&(c.scrollTop=c.scrollTop+f.offsetHeight)}}):null});lC.displayName=Vv;var uC=T.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,o=eo("SelectScrollButton",t),l=T.useRef(null),c=_p(t),f=T.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return T.useEffect(()=>()=>f(),[f]),hn(()=>{var m;const p=c().find(_=>_.ref.current===document.activeElement);(m=p==null?void 0:p.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),S.jsx(lt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:st(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:st(i.onPointerMove,()=>{var p;(p=o.onItemLeave)==null||p.call(o),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:st(i.onPointerLeave,()=>{f()})})}),e5="SelectSeparator",t5=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return S.jsx(lt.div,{"aria-hidden":!0,...r,ref:e})});t5.displayName=e5;var jv="SelectArrow",n5=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=wp(t),o=Js(jv,t),l=eo(jv,t);return o.open&&l.position==="popper"?S.jsx(Fb,{...i,...r,ref:e}):null});n5.displayName=jv;var r5="SelectBubbleInput",cC=T.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=T.useRef(null),o=ft(r,i),l=Ub(e);return T.useEffect(()=>{const c=i.current;if(!c)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&m){const _=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(_)}},[l,e]),S.jsx(lt.select,{...t,style:{...zb,...t.style},ref:o,defaultValue:e})});cC.displayName=r5;function dC(n){return n===""||n===void 0}function fC(n){const e=Uo(n),t=T.useRef(""),r=T.useRef(0),i=T.useCallback(l=>{const c=t.current+l;e(c),function f(p){t.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(c)},[e]),o=T.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,o]}function hC(n,e,t){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let l=i5(n,Math.max(o,0));i.length===1&&(l=l.filter(p=>p!==t));const f=l.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==t?f:void 0}function i5(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var s5=$b,o5=Wb,a5=qb,l5=Gb,u5=Kb,c5=Yb,d5=Jb,f5=rC,h5=iC,p5=oC,m5=aC,g5=lC;/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),nx=n=>{const e=y5(n);return e.charAt(0).toUpperCase()+e.slice(1)},pC=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),_5=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=T.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},f)=>T.createElement("svg",{ref:f,...w5,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:pC("lucide",i),...!o&&!_5(c)&&{"aria-hidden":"true"},...c},[...l.map(([p,m])=>T.createElement(p,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=(n,e)=>{const t=T.forwardRef(({className:r,...i},o)=>T.createElement(E5,{ref:o,iconNode:e,className:pC(`lucide-${v5(nx(n))}`,`lucide-${n}`,r),...i}));return t.displayName=nx(n),t};/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],x5=Hl("calendar",T5);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mC=Hl("check",S5);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gC=Hl("chevron-down",I5);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],C5=Hl("chevron-left",b5);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],A5=Hl("chevron-right",k5);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],P5=Hl("chevron-up",R5);function N5({...n}){return S.jsx(s5,{"data-slot":"select",...n})}function D5({...n}){return S.jsx(a5,{"data-slot":"select-value",...n})}function O5({className:n,size:e="default",children:t,...r}){return S.jsxs(o5,{"data-slot":"select-trigger","data-size":e,className:It("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,S.jsx(l5,{asChild:!0,children:S.jsx(gC,{className:"size-4 opacity-50"})})]})}function M5({className:n,children:e,position:t="popper",...r}){return S.jsx(u5,{children:S.jsxs(c5,{"data-slot":"select-content",className:It("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[S.jsx(L5,{}),S.jsx(d5,{className:It("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),S.jsx(V5,{})]})})}function Cg({className:n,children:e,...t}){return S.jsxs(f5,{"data-slot":"select-item",className:It("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[S.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:S.jsx(p5,{children:S.jsx(mC,{className:"size-4"})})}),S.jsx(h5,{children:e})]})}function L5({className:n,...e}){return S.jsx(m5,{"data-slot":"select-scroll-up-button",className:It("flex cursor-default items-center justify-center py-1",n),...e,children:S.jsx(P5,{className:"size-4"})})}function V5({className:n,...e}){return S.jsx(g5,{"data-slot":"select-scroll-down-button",className:It("flex cursor-default items-center justify-center py-1",n),...e,children:S.jsx(gC,{className:"size-4"})})}function j5(){const[n,e]=T.useState(""),[t,r]=T.useState(new Date),{AddTodo:i,handleSelect:o}=hp(),l=n.trim()!=="",c=()=>{const _=t.toISOString();i(n,_),e("")},f=_=>{e(_.target.value)},p=_=>{_.key==="Enter"&&l&&c()},m=()=>{c()};return S.jsxs("div",{className:"p-4 sm:px-6 flex flex-col gap-4 items-start justify-center sm:justify-between",children:[S.jsxs("div",{className:"flex gap-2 w-full",children:[S.jsx(pl,{placeholder:"新增待辦事項",type:"text",value:n,onChange:f,onKeyDown:p,className:"max-w-[325px] focus-visible:ring-ring/0"}),S.jsx("div",{className:"flex items-center rounded-md hover:bg-gray-200",children:S.jsx(pk,{id:null,date:t,setDate:r})})]}),S.jsxs("div",{className:"flex flex-wrap justify-between w-full sm:justify-between",children:[S.jsx(Xu,{onClick:m,className:"cursor-pointer bg-cyan-500 hover:bg-cyan-400 text-white font-bold rounded-md",disabled:!l,children:"加入清單"}),S.jsxs(N5,{onValueChange:_=>o(_),children:[S.jsx(O5,{className:"w-[110px] focus-visible:ring-ring/0",children:S.jsx(D5,{placeholder:"選擇分類"})}),S.jsxs(M5,{children:[S.jsx(Cg,{value:"all",children:"全部"}),S.jsx(Cg,{value:"not_done",children:"未完成"}),S.jsx(Cg,{value:"is_done",children:"已完成"})]})]})]})]})}var Ep="Checkbox",[F5,Cz]=na(Ep),[U5,m_]=F5(Ep);function z5(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:i,disabled:o,form:l,name:c,onCheckedChange:f,required:p,value:m="on",internal_do_not_use_render:_}=n,[w,x]=oc({prop:t,defaultProp:i??!1,onChange:f,caller:Ep}),[b,I]=T.useState(null),[k,P]=T.useState(null),M=T.useRef(!1),L=b?!!l||!!b.closest("form"):!0,H={checked:w,disabled:o,setChecked:x,control:b,setControl:I,name:c,form:l,value:m,hasConsumerStoppedPropagationRef:M,required:p,defaultChecked:Ds(i)?!1:i,isFormControl:L,bubbleInput:k,setBubbleInput:P};return S.jsx(U5,{scope:e,...H,children:$5(_)?_(H):r})}var vC="CheckboxTrigger",yC=T.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},i)=>{const{control:o,value:l,disabled:c,checked:f,required:p,setControl:m,setChecked:_,hasConsumerStoppedPropagationRef:w,isFormControl:x,bubbleInput:b}=m_(vC,n),I=ft(i,m),k=T.useRef(f);return T.useEffect(()=>{const P=o==null?void 0:o.form;if(P){const M=()=>_(k.current);return P.addEventListener("reset",M),()=>P.removeEventListener("reset",M)}},[o,_]),S.jsx(lt.button,{type:"button",role:"checkbox","aria-checked":Ds(f)?"mixed":f,"aria-required":p,"data-state":SC(f),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:I,onKeyDown:st(e,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:st(t,P=>{_(M=>Ds(M)?!0:!M),b&&x&&(w.current=P.isPropagationStopped(),w.current||P.stopPropagation())})})});yC.displayName=vC;var _C=T.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:o,required:l,disabled:c,value:f,onCheckedChange:p,form:m,..._}=n;return S.jsx(z5,{__scopeCheckbox:t,checked:i,defaultChecked:o,disabled:c,required:l,onCheckedChange:p,name:r,form:m,value:f,internal_do_not_use_render:({isFormControl:w})=>S.jsxs(S.Fragment,{children:[S.jsx(yC,{..._,ref:e,__scopeCheckbox:t}),w&&S.jsx(xC,{__scopeCheckbox:t})]})})});_C.displayName=Ep;var wC="CheckboxIndicator",EC=T.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=n,o=m_(wC,t);return S.jsx(ra,{present:r||Ds(o.checked)||o.checked===!0,children:S.jsx(lt.span,{"data-state":SC(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...n.style}})})});EC.displayName=wC;var TC="CheckboxBubbleInput",xC=T.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:l,required:c,disabled:f,name:p,value:m,form:_,bubbleInput:w,setBubbleInput:x}=m_(TC,n),b=ft(t,x),I=Ub(o),k=Cb(r);T.useEffect(()=>{const M=w;if(!M)return;const L=window.HTMLInputElement.prototype,Z=Object.getOwnPropertyDescriptor(L,"checked").set,J=!i.current;if(I!==o&&Z){const D=new Event("click",{bubbles:J});M.indeterminate=Ds(o),Z.call(M,Ds(o)?!1:o),M.dispatchEvent(D)}},[w,I,o,i]);const P=T.useRef(Ds(o)?!1:o);return S.jsx(lt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??P.current,required:c,disabled:f,name:p,value:m,form:_,...e,tabIndex:-1,ref:b,style:{...e.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});xC.displayName=TC;function $5(n){return typeof n=="function"}function Ds(n){return n==="indeterminate"}function SC(n){return Ds(n)?"indeterminate":n?"checked":"unchecked"}function B5({className:n,...e}){return S.jsx(_C,{"data-slot":"checkbox",className:It("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:S.jsx(EC,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:S.jsx(mC,{className:"size-3.5"})})})}var kg,rx;function IC(){if(rx)return kg;rx=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return kg=n,kg}var Ag,ix;function W5(){if(ix)return Ag;ix=1;var n=typeof Ef=="object"&&Ef&&Ef.Object===Object&&Ef;return Ag=n,Ag}var Rg,sx;function bC(){if(sx)return Rg;sx=1;var n=W5(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return Rg=t,Rg}var Pg,ox;function H5(){if(ox)return Pg;ox=1;var n=bC(),e=function(){return n.Date.now()};return Pg=e,Pg}var Ng,ax;function q5(){if(ax)return Ng;ax=1;var n=/\s/;function e(t){for(var r=t.length;r--&&n.test(t.charAt(r)););return r}return Ng=e,Ng}var Dg,lx;function G5(){if(lx)return Dg;lx=1;var n=q5(),e=/^\s+/;function t(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return Dg=t,Dg}var Og,ux;function CC(){if(ux)return Og;ux=1;var n=bC(),e=n.Symbol;return Og=e,Og}var Mg,cx;function K5(){if(cx)return Mg;cx=1;var n=CC(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,i=n?n.toStringTag:void 0;function o(l){var c=t.call(l,i),f=l[i];try{l[i]=void 0;var p=!0}catch{}var m=r.call(l);return p&&(c?l[i]=f:delete l[i]),m}return Mg=o,Mg}var Lg,dx;function Y5(){if(dx)return Lg;dx=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return Lg=t,Lg}var Vg,fx;function Q5(){if(fx)return Vg;fx=1;var n=CC(),e=K5(),t=Y5(),r="[object Null]",i="[object Undefined]",o=n?n.toStringTag:void 0;function l(c){return c==null?c===void 0?i:r:o&&o in Object(c)?e(c):t(c)}return Vg=l,Vg}var jg,hx;function Z5(){if(hx)return jg;hx=1;function n(e){return e!=null&&typeof e=="object"}return jg=n,jg}var Fg,px;function X5(){if(px)return Fg;px=1;var n=Q5(),e=Z5(),t="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&n(i)==t}return Fg=r,Fg}var Ug,mx;function J5(){if(mx)return Ug;mx=1;var n=G5(),e=IC(),t=X5(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function f(p){if(typeof p=="number")return p;if(t(p))return r;if(e(p)){var m=typeof p.valueOf=="function"?p.valueOf():p;p=e(m)?m+"":m}if(typeof p!="string")return p===0?p:+p;p=n(p);var _=o.test(p);return _||l.test(p)?c(p.slice(2),_?2:8):i.test(p)?r:+p}return Ug=f,Ug}var zg,gx;function e6(){if(gx)return zg;gx=1;var n=IC(),e=H5(),t=J5(),r="Expected a function",i=Math.max,o=Math.min;function l(c,f,p){var m,_,w,x,b,I,k=0,P=!1,M=!1,L=!0;if(typeof c!="function")throw new TypeError(r);f=t(f)||0,n(p)&&(P=!!p.leading,M="maxWait"in p,w=M?i(t(p.maxWait)||0,f):w,L="trailing"in p?!!p.trailing:L);function H(N){var xe=m,Ae=_;return m=_=void 0,k=N,x=c.apply(Ae,xe),x}function Z(N){return k=N,b=setTimeout(A,f),P?H(N):x}function J(N){var xe=N-I,Ae=N-k,_e=f-xe;return M?o(_e,w-Ae):_e}function D(N){var xe=N-I,Ae=N-k;return I===void 0||xe>=f||xe<0||M&&Ae>=w}function A(){var N=e();if(D(N))return O(N);b=setTimeout(A,J(N))}function O(N){return b=void 0,L&&m?H(N):(m=_=void 0,x)}function j(){b!==void 0&&clearTimeout(b),k=0,m=I=_=b=void 0}function U(){return b===void 0?x:O(e())}function $(){var N=e(),xe=D(N);if(m=arguments,_=this,I=N,xe){if(b===void 0)return Z(I);if(M)return clearTimeout(b),b=setTimeout(A,f),H(I)}return b===void 0&&(b=setTimeout(A,f)),x}return $.cancel=j,$.flush=U,$}return zg=l,zg}var t6=e6();const vx=qv(t6);function n6({id:n,title:e,expireDate:t,isDone:r}){const{ToggleIsDone:i,EditTodoTitle:o,DeleteTodo:l}=hp(),[c,f]=T.useState(e),[p,m]=T.useState(new Date(t)),[_,w]=T.useState(r),[x,b]=T.useState(!1),I=T.useRef(vx(H=>{i(H)},1e3)).current,k=()=>{w(!_),I(n)},P=H=>{f(H.target.value)},M=()=>{l(n)},L=T.useRef(null);return T.useEffect(()=>{const H=J=>{L.current&&!L.current.contains(J.target)&&b(!1)},Z=J=>{var D;(J.key==="Escape"||J.key==="Enter")&&(b(!1),(D=L.current)==null||D.blur())};return document.addEventListener("mousedown",H),document.addEventListener("keydown",Z),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("keydown",Z)}},[]),T.useEffect(()=>{!x&&c!==e&&vx(()=>{o(n,c)},2e3)()},[x]),S.jsxs("div",{className:`
      flex items-center justify-between gap:4 sm:gap-6 rounded-md px-4 sm:px-3 py-2 group hover:bg-gray-200 
      `,children:[S.jsxs("div",{className:"flex grow items-center gap-3",children:[S.jsx(B5,{onCheckedChange:k,checked:_,className:`rounded-full border-gray-400 focus-visible:ring-ring/0
        data-[state=checked]:bg-amber-500 data-[state=checked]:border-amber-500 data-[state=checked]:text-white`}),S.jsx("input",{type:"text",ref:L,value:c,onChange:P,onClick:()=>b(!0),className:`w-full p-1 border-transparent shadow-none focus:outline-none focus:ring-0 focus:border-stone-400 
            ${x?"border-b":""}
            ${_?"line-through text-gray-400":""}`})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(pk,{id:n,date:p,setDate:m}),S.jsx("i",{onClick:M,className:"fa-solid fa-xmark text-zinc-400 hover:text-black cursor-pointer lg:opacity-0 lg:group-hover:opacity-100 lg:pb-0.5"})]})]})}function r6(){const{GetTodos:n,todos:e,selectedStatus:t}=hp();let r=[];switch(t){case"all":r=e;break;case"not_done":r=e.filter(i=>!i.isDone);break;case"is_done":r=e.filter(i=>i.isDone);break;default:r=e;break}return T.useEffect(()=>{C1(Qs,async i=>{i&&n()})},[e.length]),S.jsx("div",{className:"sm:px-4 max-h-[60vh] overflow-y-auto scrollbar-thin scrollbar-thumb-transparent scrollbar-track-transparent hover:scrollbar-thumb-stone-300",children:r==null?void 0:r.map(i=>{const{id:o,title:l,expireDate:c,isDone:f}=i;return S.jsx(n6,{id:o,title:l,expireDate:c,isDone:f},o)})})}const i6="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20width='100px'%20height='100px'%3e%3cpath%20fill='%2378a0cf'%20d='M13%2027A2%202%200%201%200%2013%2031A2%202%200%201%200%2013%2027Z'/%3e%3cpath%20fill='%23f1bc19'%20d='M77%2012A1%201%200%201%200%2077%2014A1%201%200%201%200%2077%2012Z'/%3e%3cpath%20fill='%23cee1f4'%20d='M50%2013A37%2037%200%201%200%2050%2087A37%2037%200%201%200%2050%2013Z'/%3e%3cpath%20fill='%23f1bc19'%20d='M83%2011A4%204%200%201%200%2083%2019A4%204%200%201%200%2083%2011Z'/%3e%3cpath%20fill='%2378a0cf'%20d='M87%2022A2%202%200%201%200%2087%2026A2%202%200%201%200%2087%2022Z'/%3e%3cpath%20fill='%23fbcd59'%20d='M81%2074A2%202%200%201%200%2081%2078%202%202%200%201%200%2081%2074zM15%2059A4%204%200%201%200%2015%2067%204%204%200%201%200%2015%2059z'/%3e%3cpath%20fill='%2378a0cf'%20d='M25%2085A2%202%200%201%200%2025%2089A2%202%200%201%200%2025%2085Z'/%3e%3cpath%20fill='%23fff'%20d='M18.5%2051A2.5%202.5%200%201%200%2018.5%2056A2.5%202.5%200%201%200%2018.5%2051Z'/%3e%3cpath%20fill='%23f1bc19'%20d='M21%2066A1%201%200%201%200%2021%2068A1%201%200%201%200%2021%2066Z'/%3e%3cpath%20fill='%23fff'%20d='M80%2033A1%201%200%201%200%2080%2035A1%201%200%201%200%2080%2033Z'/%3e%3cg%3e%3cpath%20fill='%23ea5167'%20d='M35.233,47.447C36.447,40.381,42.588,35,50,35c3.367,0,6.464,1.123,8.968,2.996l6.393-6.885%20C61.178,27.684,55.83,25.625,50,25.625c-11.942,0-21.861,8.635-23.871,20.001L35.233,47.447z'/%3e%3cpath%20fill='%2300a698'%20d='M58.905,62.068C56.414,63.909,53.335,65,50,65c-7.842,0-14.268-6.02-14.934-13.689l-8.909,2.97%20C28.23,65.569,38.113,74.125,50,74.125c6.261,0,11.968-2.374,16.27-6.27L58.905,62.068z'/%3e%3cpath%20fill='%2348bed8'%20d='M68.5,45.5h-4.189H50.5v9h13.811c-1.073,3.414-3.333,6.301-6.296,8.179l7.245,6.038%20c5.483-4.446,8.99-11.233,8.99-18.842c0-1.495-0.142-2.955-0.401-4.375H68.5z'/%3e%3cpath%20fill='%23fde751'%20d='M35,50c0-2.183,0.477-4.252,1.316-6.123l-7.818-5.212c-1.752,3.353-2.748,7.164-2.748,11.21%20c0,3.784,0.868,7.365,2.413,10.556L36,55C35.634,53.702,35,51.415,35,50z'/%3e%3c/g%3e%3cg%3e%3cpath%20fill='%23472b29'%20d='M50,74.825c-13.757,0-24.95-11.192-24.95-24.95S36.243,24.925,50,24.925%20c5.75,0,11.362,2.005,15.804,5.646l0.576,0.472l-7.327,7.892l-0.504-0.377C56.051,36.688,53.095,35.7,50,35.7%20c-7.885,0-14.3,6.415-14.3,14.3S42.115,64.3,50,64.3c5.956,0,11.195-3.618,13.324-9.1L50,55.208l-0.008-10.184l24.433-0.008%20l0.104,0.574c0.274,1.503,0.421,2.801,0.421,4.285C74.95,63.633,63.758,74.825,50,74.825z%20M50,26.325%20c-12.985,0-23.55,10.564-23.55,23.55S37.015,73.425,50,73.425s23.55-10.564,23.55-23.55c0-1.211-0.105-2.228-0.3-3.458H51.192%20L51.2,53.8h14.065l-0.286,0.91C62.914,61.283,56.894,65.7,50,65.7c-8.657,0-15.7-7.043-15.7-15.7S41.343,34.3,50,34.3%20c3.19,0,6.245,0.955,8.875,2.768l5.458-5.878C60.238,28.048,55.178,26.325,50,26.325z'/%3e%3c/g%3e%3c/svg%3e";var rt;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const o={};for(const l of i)o[l]=l;return o},n.getValidEnumValues=i=>{const o=n.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),l={};for(const c of o)l[c]=i[c];return n.objectValues(l)},n.objectValues=i=>n.objectKeys(i).map(function(o){return i[o]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&o.push(l);return o},n.find=(i,o)=>{for(const l of i)if(o(l))return l},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}n.joinValues=r,n.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(rt||(rt={}));var Fv;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Fv||(Fv={}));const me=rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ri=n=>{switch(typeof n){case"undefined":return me.undefined;case"string":return me.string;case"number":return isNaN(n)?me.nan:me.number;case"boolean":return me.boolean;case"function":return me.function;case"bigint":return me.bigint;case"symbol":return me.symbol;case"object":return Array.isArray(n)?me.array:n===null?me.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?me.promise:typeof Map<"u"&&n instanceof Map?me.map:typeof Set<"u"&&n instanceof Set?me.set:typeof Date<"u"&&n instanceof Date?me.date:me.object;default:return me.unknown}},le=rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),s6=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class qn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(t(l));else{let c=r,f=0;for(;f<l.path.length;){const p=l.path[f];f===l.path.length-1?(c[p]=c[p]||{_errors:[]},c[p]._errors.push(t(l))):c[p]=c[p]||{_errors:[]},c=c[p],f++}}};return i(this),r}static assert(e){if(!(e instanceof qn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}qn.create=n=>new qn(n);const bl=(n,e)=>{let t;switch(n.code){case le.invalid_type:n.received===me.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case le.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,rt.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:t=`Unrecognized key(s) in object: ${rt.joinValues(n.keys,", ")}`;break;case le.invalid_union:t="Invalid input";break;case le.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${rt.joinValues(n.options)}`;break;case le.invalid_enum_value:t=`Invalid enum value. Expected ${rt.joinValues(n.options)}, received '${n.received}'`;break;case le.invalid_arguments:t="Invalid function arguments";break;case le.invalid_return_type:t="Invalid function return type";break;case le.invalid_date:t="Invalid date";break;case le.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:rt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case le.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case le.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case le.custom:t="Invalid input";break;case le.invalid_intersection_types:t="Intersection results could not be merged";break;case le.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case le.not_finite:t="Number must be finite";break;default:t=e.defaultError,rt.assertNever(n)}return{message:t}};let kC=bl;function o6(n){kC=n}function bh(){return kC}const Ch=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,o=[...t,...i.path||[]],l={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let c="";const f=r.filter(p=>!!p).slice().reverse();for(const p of f)c=p(l,{data:e,defaultError:c}).message;return{...i,path:o,message:c}},a6=[];function he(n,e){const t=bh(),r=Ch({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===bl?void 0:bl].filter(i=>!!i)});n.common.issues.push(r)}class mn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return Ue;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const o=await i.key,l=await i.value;r.push({key:o,value:l})}return mn.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:o,value:l}=i;if(o.status==="aborted"||l.status==="aborted")return Ue;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[o.value]=l.value)}return{status:e.value,value:r}}}const Ue=Object.freeze({status:"aborted"}),al=n=>({status:"dirty",value:n}),En=n=>({status:"valid",value:n}),Uv=n=>n.status==="aborted",zv=n=>n.status==="dirty",Zo=n=>n.status==="valid",Ec=n=>typeof Promise<"u"&&n instanceof Promise;function kh(n,e,t,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function AC(n,e,t,r,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var ke;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ke||(ke={}));var Qu,Zu;class si{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yx=(n,e)=>{if(Zo(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new qn(n.common.issues);return this._error=t,this._error}}};function qe(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,c)=>{var f,p;const{message:m}=n;return l.code==="invalid_enum_value"?{message:m??c.defaultError}:typeof c.data>"u"?{message:(f=m??r)!==null&&f!==void 0?f:c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:(p=m??t)!==null&&p!==void 0?p:c.defaultError}},description:i}}class Ke{get description(){return this._def.description}_getType(e){return Ri(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ri(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new mn,ctx:{common:e.parent.common,data:e.data,parsedType:Ri(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Ec(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ri(e)},o=this._parseSync({data:e,path:i.path,parent:i});return yx(i,o)}"~validate"(e){var t,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ri(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:i});return Zo(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((r=(t=o==null?void 0:o.message)===null||t===void 0?void 0:t.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(o=>Zo(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ri(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(Ec(i)?i:Promise.resolve(i));return yx(r,o)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,o)=>{const l=e(i),c=()=>o.addIssue({code:le.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(f=>f?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new Dr({schema:this,typeName:Ve.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return ti.create(this,this._def)}nullable(){return qs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ar.create(this)}promise(){return kl.create(this,this._def)}or(e){return Ic.create([this,e],this._def)}and(e){return bc.create(this,e,this._def)}transform(e){return new Dr({...qe(this._def),schema:this,typeName:Ve.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Pc({...qe(this._def),innerType:this,defaultValue:t,typeName:Ve.ZodDefault})}brand(){return new g_({typeName:Ve.ZodBranded,type:this,...qe(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Nc({...qe(this._def),innerType:this,catchValue:t,typeName:Ve.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ed.create(this,e)}readonly(){return Dc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const l6=/^c[^\s-]{8,}$/i,u6=/^[0-9a-z]+$/,c6=/^[0-9A-HJKMNP-TV-Z]{26}$/i,d6=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,f6=/^[a-z0-9_-]{21}$/i,h6=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,p6=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,m6=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,g6="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $g;const v6=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,y6=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,w6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,E6=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,T6=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,RC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",x6=new RegExp(`^${RC}$`);function PC(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function S6(n){return new RegExp(`^${PC(n)}$`)}function NC(n){let e=`${RC}T${PC(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function I6(n,e){return!!((e==="v4"||!e)&&v6.test(n)||(e==="v6"||!e)&&_6.test(n))}function b6(n,e){if(!h6.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function C6(n,e){return!!((e==="v4"||!e)&&y6.test(n)||(e==="v6"||!e)&&w6.test(n))}class br extends Ke{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==me.string){const o=this._getOrReturnCtx(e);return he(o,{code:le.invalid_type,expected:me.string,received:o.parsedType}),Ue}const r=new mn;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,c=e.data.length<o.value;(l||c)&&(i=this._getOrReturnCtx(e,i),l?he(i,{code:le.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&he(i,{code:le.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")m6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"email",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")$g||($g=new RegExp(g6,"u")),$g.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"emoji",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")d6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"uuid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")f6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"nanoid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")l6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"cuid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")u6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"cuid2",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")c6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"ulid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),he(i,{validation:"url",code:le.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"regex",code:le.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?NC(o).test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?x6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?S6(o).test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?p6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"duration",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?I6(e.data,o.version)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"ip",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?b6(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"jwt",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?C6(e.data,o.version)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"cidr",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?E6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"base64",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?T6.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"base64url",code:le.invalid_string,message:o.message}),r.dirty()):rt.assertNever(o);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:le.invalid_string,...ke.errToObj(r)})}_addCheck(e){return new br({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ke.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ke.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ke.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ke.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ke.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ke.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ke.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ke.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ke.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ke.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ke.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ke.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ke.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ke.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ke.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ke.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ke.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...ke.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ke.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ke.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ke.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ke.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ke.errToObj(t)})}nonempty(e){return this.min(1,ke.errToObj(e))}trim(){return new br({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new br({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new br({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}br.create=n=>{var e;return new br({checks:[],typeName:Ve.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...qe(n)})};function k6(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,o=parseInt(n.toFixed(i).replace(".","")),l=parseInt(e.toFixed(i).replace(".",""));return o%l/Math.pow(10,i)}class Bs extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==me.number){const o=this._getOrReturnCtx(e);return he(o,{code:le.invalid_type,expected:me.number,received:o.parsedType}),Ue}let r;const i=new mn;for(const o of this._def.checks)o.kind==="int"?rt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:le.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?k6(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:le.not_finite,message:o.message}),i.dirty()):rt.assertNever(o);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ke.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ke.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ke.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ke.toString(t))}setLimit(e,t,r,i){return new Bs({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ke.toString(i)}]})}_addCheck(e){return new Bs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ke.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ke.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ke.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ke.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ke.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&rt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Bs.create=n=>new Bs({checks:[],typeName:Ve.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...qe(n)});class Ws extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==me.bigint)return this._getInvalidInput(e);let r;const i=new mn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):rt.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return he(t,{code:le.invalid_type,expected:me.bigint,received:t.parsedType}),Ue}gte(e,t){return this.setLimit("min",e,!0,ke.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ke.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ke.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ke.toString(t))}setLimit(e,t,r,i){return new Ws({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ke.toString(i)}]})}_addCheck(e){return new Ws({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ws.create=n=>{var e;return new Ws({checks:[],typeName:Ve.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...qe(n)})};class Tc extends Ke{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==me.boolean){const r=this._getOrReturnCtx(e);return he(r,{code:le.invalid_type,expected:me.boolean,received:r.parsedType}),Ue}return En(e.data)}}Tc.create=n=>new Tc({typeName:Ve.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...qe(n)});class Xo extends Ke{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==me.date){const o=this._getOrReturnCtx(e);return he(o,{code:le.invalid_type,expected:me.date,received:o.parsedType}),Ue}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return he(o,{code:le.invalid_date}),Ue}const r=new mn;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):rt.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Xo({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ke.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ke.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Xo.create=n=>new Xo({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Ve.ZodDate,...qe(n)});class Ah extends Ke{_parse(e){if(this._getType(e)!==me.symbol){const r=this._getOrReturnCtx(e);return he(r,{code:le.invalid_type,expected:me.symbol,received:r.parsedType}),Ue}return En(e.data)}}Ah.create=n=>new Ah({typeName:Ve.ZodSymbol,...qe(n)});class xc extends Ke{_parse(e){if(this._getType(e)!==me.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:le.invalid_type,expected:me.undefined,received:r.parsedType}),Ue}return En(e.data)}}xc.create=n=>new xc({typeName:Ve.ZodUndefined,...qe(n)});class Sc extends Ke{_parse(e){if(this._getType(e)!==me.null){const r=this._getOrReturnCtx(e);return he(r,{code:le.invalid_type,expected:me.null,received:r.parsedType}),Ue}return En(e.data)}}Sc.create=n=>new Sc({typeName:Ve.ZodNull,...qe(n)});class Cl extends Ke{constructor(){super(...arguments),this._any=!0}_parse(e){return En(e.data)}}Cl.create=n=>new Cl({typeName:Ve.ZodAny,...qe(n)});class jo extends Ke{constructor(){super(...arguments),this._unknown=!0}_parse(e){return En(e.data)}}jo.create=n=>new jo({typeName:Ve.ZodUnknown,...qe(n)});class Hi extends Ke{_parse(e){const t=this._getOrReturnCtx(e);return he(t,{code:le.invalid_type,expected:me.never,received:t.parsedType}),Ue}}Hi.create=n=>new Hi({typeName:Ve.ZodNever,...qe(n)});class Rh extends Ke{_parse(e){if(this._getType(e)!==me.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:le.invalid_type,expected:me.void,received:r.parsedType}),Ue}return En(e.data)}}Rh.create=n=>new Rh({typeName:Ve.ZodVoid,...qe(n)});class Ar extends Ke{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==me.array)return he(t,{code:le.invalid_type,expected:me.array,received:t.parsedType}),Ue;if(i.exactLength!==null){const l=t.data.length>i.exactLength.value,c=t.data.length<i.exactLength.value;(l||c)&&(he(t,{code:l?le.too_big:le.too_small,minimum:c?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(he(t,{code:le.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(he(t,{code:le.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((l,c)=>i.type._parseAsync(new si(t,l,t.path,c)))).then(l=>mn.mergeArray(r,l));const o=[...t.data].map((l,c)=>i.type._parseSync(new si(t,l,t.path,c)));return mn.mergeArray(r,o)}get element(){return this._def.type}min(e,t){return new Ar({...this._def,minLength:{value:e,message:ke.toString(t)}})}max(e,t){return new Ar({...this._def,maxLength:{value:e,message:ke.toString(t)}})}length(e,t){return new Ar({...this._def,exactLength:{value:e,message:ke.toString(t)}})}nonempty(e){return this.min(1,e)}}Ar.create=(n,e)=>new Ar({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Ve.ZodArray,...qe(e)});function ol(n){if(n instanceof St){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=ti.create(ol(r))}return new St({...n._def,shape:()=>e})}else return n instanceof Ar?new Ar({...n._def,type:ol(n.element)}):n instanceof ti?ti.create(ol(n.unwrap())):n instanceof qs?qs.create(ol(n.unwrap())):n instanceof oi?oi.create(n.items.map(e=>ol(e))):n}class St extends Ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=rt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==me.object){const p=this._getOrReturnCtx(e);return he(p,{code:le.invalid_type,expected:me.object,received:p.parsedType}),Ue}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof Hi&&this._def.unknownKeys==="strip"))for(const p in i.data)l.includes(p)||c.push(p);const f=[];for(const p of l){const m=o[p],_=i.data[p];f.push({key:{status:"valid",value:p},value:m._parse(new si(i,_,i.path,p)),alwaysSet:p in i.data})}if(this._def.catchall instanceof Hi){const p=this._def.unknownKeys;if(p==="passthrough")for(const m of c)f.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(p==="strict")c.length>0&&(he(i,{code:le.unrecognized_keys,keys:c}),r.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const m of c){const _=i.data[m];f.push({key:{status:"valid",value:m},value:p._parse(new si(i,_,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const p=[];for(const m of f){const _=await m.key,w=await m.value;p.push({key:_,value:w,alwaysSet:m.alwaysSet})}return p}).then(p=>mn.mergeObjectSync(r,p)):mn.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return ke.errToObj,new St({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,o,l,c;const f=(l=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,t,r).message)!==null&&l!==void 0?l:r.defaultError;return t.code==="unrecognized_keys"?{message:(c=ke.errToObj(e).message)!==null&&c!==void 0?c:f}:{message:f}}}:{}})}strip(){return new St({...this._def,unknownKeys:"strip"})}passthrough(){return new St({...this._def,unknownKeys:"passthrough"})}extend(e){return new St({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new St({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ve.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new St({...this._def,catchall:e})}pick(e){const t={};return rt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new St({...this._def,shape:()=>t})}omit(e){const t={};return rt.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new St({...this._def,shape:()=>t})}deepPartial(){return ol(this)}partial(e){const t={};return rt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new St({...this._def,shape:()=>t})}required(e){const t={};return rt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof ti;)o=o._def.innerType;t[r]=o}}),new St({...this._def,shape:()=>t})}keyof(){return DC(rt.objectKeys(this.shape))}}St.create=(n,e)=>new St({shape:()=>n,unknownKeys:"strip",catchall:Hi.create(),typeName:Ve.ZodObject,...qe(e)});St.strictCreate=(n,e)=>new St({shape:()=>n,unknownKeys:"strict",catchall:Hi.create(),typeName:Ve.ZodObject,...qe(e)});St.lazycreate=(n,e)=>new St({shape:n,unknownKeys:"strip",catchall:Hi.create(),typeName:Ve.ZodObject,...qe(e)});class Ic extends Ke{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;const l=o.map(c=>new qn(c.ctx.common.issues));return he(t,{code:le.invalid_union,unionErrors:l}),Ue}if(t.common.async)return Promise.all(r.map(async o=>{const l={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:l}),ctx:l}})).then(i);{let o;const l=[];for(const f of r){const p={...t,common:{...t.common,issues:[]},parent:null},m=f._parseSync({data:t.data,path:t.path,parent:p});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:p}),p.common.issues.length&&l.push(p.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const c=l.map(f=>new qn(f));return he(t,{code:le.invalid_union,unionErrors:c}),Ue}}get options(){return this._def.options}}Ic.create=(n,e)=>new Ic({options:n,typeName:Ve.ZodUnion,...qe(e)});const Ai=n=>n instanceof kc?Ai(n.schema):n instanceof Dr?Ai(n.innerType()):n instanceof Ac?[n.value]:n instanceof Hs?n.options:n instanceof Rc?rt.objectValues(n.enum):n instanceof Pc?Ai(n._def.innerType):n instanceof xc?[void 0]:n instanceof Sc?[null]:n instanceof ti?[void 0,...Ai(n.unwrap())]:n instanceof qs?[null,...Ai(n.unwrap())]:n instanceof g_||n instanceof Dc?Ai(n.unwrap()):n instanceof Nc?Ai(n._def.innerType):[];class Tp extends Ke{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==me.object)return he(t,{code:le.invalid_type,expected:me.object,received:t.parsedType}),Ue;const r=this.discriminator,i=t.data[r],o=this.optionsMap.get(i);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(he(t,{code:le.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const o of t){const l=Ai(o.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of l){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,o)}}return new Tp({typeName:Ve.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...qe(r)})}}function $v(n,e){const t=Ri(n),r=Ri(e);if(n===e)return{valid:!0,data:n};if(t===me.object&&r===me.object){const i=rt.objectKeys(e),o=rt.objectKeys(n).filter(c=>i.indexOf(c)!==-1),l={...n,...e};for(const c of o){const f=$v(n[c],e[c]);if(!f.valid)return{valid:!1};l[c]=f.data}return{valid:!0,data:l}}else if(t===me.array&&r===me.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<n.length;o++){const l=n[o],c=e[o],f=$v(l,c);if(!f.valid)return{valid:!1};i.push(f.data)}return{valid:!0,data:i}}else return t===me.date&&r===me.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class bc extends Ke{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(o,l)=>{if(Uv(o)||Uv(l))return Ue;const c=$v(o.value,l.value);return c.valid?((zv(o)||zv(l))&&t.dirty(),{status:t.value,value:c.data}):(he(r,{code:le.invalid_intersection_types}),Ue)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,l])=>i(o,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}bc.create=(n,e,t)=>new bc({left:n,right:e,typeName:Ve.ZodIntersection,...qe(t)});class oi extends Ke{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.array)return he(r,{code:le.invalid_type,expected:me.array,received:r.parsedType}),Ue;if(r.data.length<this._def.items.length)return he(r,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&r.data.length>this._def.items.length&&(he(r,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...r.data].map((l,c)=>{const f=this._def.items[c]||this._def.rest;return f?f._parse(new si(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(o).then(l=>mn.mergeArray(t,l)):mn.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new oi({...this._def,rest:e})}}oi.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new oi({items:n,typeName:Ve.ZodTuple,rest:null,...qe(e)})};class Cc extends Ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.object)return he(r,{code:le.invalid_type,expected:me.object,received:r.parsedType}),Ue;const i=[],o=this._def.keyType,l=this._def.valueType;for(const c in r.data)i.push({key:o._parse(new si(r,c,r.path,c)),value:l._parse(new si(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?mn.mergeObjectAsync(t,i):mn.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof Ke?new Cc({keyType:e,valueType:t,typeName:Ve.ZodRecord,...qe(r)}):new Cc({keyType:br.create(),valueType:e,typeName:Ve.ZodRecord,...qe(t)})}}class Ph extends Ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.map)return he(r,{code:le.invalid_type,expected:me.map,received:r.parsedType}),Ue;const i=this._def.keyType,o=this._def.valueType,l=[...r.data.entries()].map(([c,f],p)=>({key:i._parse(new si(r,c,r.path,[p,"key"])),value:o._parse(new si(r,f,r.path,[p,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const f of l){const p=await f.key,m=await f.value;if(p.status==="aborted"||m.status==="aborted")return Ue;(p.status==="dirty"||m.status==="dirty")&&t.dirty(),c.set(p.value,m.value)}return{status:t.value,value:c}})}else{const c=new Map;for(const f of l){const p=f.key,m=f.value;if(p.status==="aborted"||m.status==="aborted")return Ue;(p.status==="dirty"||m.status==="dirty")&&t.dirty(),c.set(p.value,m.value)}return{status:t.value,value:c}}}}Ph.create=(n,e,t)=>new Ph({valueType:e,keyType:n,typeName:Ve.ZodMap,...qe(t)});class Jo extends Ke{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.set)return he(r,{code:le.invalid_type,expected:me.set,received:r.parsedType}),Ue;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(he(r,{code:le.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(he(r,{code:le.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const o=this._def.valueType;function l(f){const p=new Set;for(const m of f){if(m.status==="aborted")return Ue;m.status==="dirty"&&t.dirty(),p.add(m.value)}return{status:t.value,value:p}}const c=[...r.data.values()].map((f,p)=>o._parse(new si(r,f,r.path,p)));return r.common.async?Promise.all(c).then(f=>l(f)):l(c)}min(e,t){return new Jo({...this._def,minSize:{value:e,message:ke.toString(t)}})}max(e,t){return new Jo({...this._def,maxSize:{value:e,message:ke.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Jo.create=(n,e)=>new Jo({valueType:n,minSize:null,maxSize:null,typeName:Ve.ZodSet,...qe(e)});class gl extends Ke{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==me.function)return he(t,{code:le.invalid_type,expected:me.function,received:t.parsedType}),Ue;function r(c,f){return Ch({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,bh(),bl].filter(p=>!!p),issueData:{code:le.invalid_arguments,argumentsError:f}})}function i(c,f){return Ch({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,bh(),bl].filter(p=>!!p),issueData:{code:le.invalid_return_type,returnTypeError:f}})}const o={errorMap:t.common.contextualErrorMap},l=t.data;if(this._def.returns instanceof kl){const c=this;return En(async function(...f){const p=new qn([]),m=await c._def.args.parseAsync(f,o).catch(x=>{throw p.addIssue(r(f,x)),p}),_=await Reflect.apply(l,this,m);return await c._def.returns._def.type.parseAsync(_,o).catch(x=>{throw p.addIssue(i(_,x)),p})})}else{const c=this;return En(function(...f){const p=c._def.args.safeParse(f,o);if(!p.success)throw new qn([r(f,p.error)]);const m=Reflect.apply(l,this,p.data),_=c._def.returns.safeParse(m,o);if(!_.success)throw new qn([i(m,_.error)]);return _.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new gl({...this._def,args:oi.create(e).rest(jo.create())})}returns(e){return new gl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new gl({args:e||oi.create([]).rest(jo.create()),returns:t||jo.create(),typeName:Ve.ZodFunction,...qe(r)})}}class kc extends Ke{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}kc.create=(n,e)=>new kc({getter:n,typeName:Ve.ZodLazy,...qe(e)});class Ac extends Ke{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return he(t,{received:t.data,code:le.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ac.create=(n,e)=>new Ac({value:n,typeName:Ve.ZodLiteral,...qe(e)});function DC(n,e){return new Hs({values:n,typeName:Ve.ZodEnum,...qe(e)})}class Hs extends Ke{constructor(){super(...arguments),Qu.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return he(t,{expected:rt.joinValues(r),received:t.parsedType,code:le.invalid_type}),Ue}if(kh(this,Qu)||AC(this,Qu,new Set(this._def.values)),!kh(this,Qu).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return he(t,{received:t.data,code:le.invalid_enum_value,options:r}),Ue}return En(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Hs.create(e,{...this._def,...t})}exclude(e,t=this._def){return Hs.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Qu=new WeakMap;Hs.create=DC;class Rc extends Ke{constructor(){super(...arguments),Zu.set(this,void 0)}_parse(e){const t=rt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==me.string&&r.parsedType!==me.number){const i=rt.objectValues(t);return he(r,{expected:rt.joinValues(i),received:r.parsedType,code:le.invalid_type}),Ue}if(kh(this,Zu)||AC(this,Zu,new Set(rt.getValidEnumValues(this._def.values))),!kh(this,Zu).has(e.data)){const i=rt.objectValues(t);return he(r,{received:r.data,code:le.invalid_enum_value,options:i}),Ue}return En(e.data)}get enum(){return this._def.values}}Zu=new WeakMap;Rc.create=(n,e)=>new Rc({values:n,typeName:Ve.ZodNativeEnum,...qe(e)});class kl extends Ke{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==me.promise&&t.common.async===!1)return he(t,{code:le.invalid_type,expected:me.promise,received:t.parsedType}),Ue;const r=t.parsedType===me.promise?t.data:Promise.resolve(t.data);return En(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}kl.create=(n,e)=>new kl({type:n,typeName:Ve.ZodPromise,...qe(e)});class Dr extends Ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:l=>{he(r,l),l.fatal?t.abort():t.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const l=i.transform(r.data,o);if(r.common.async)return Promise.resolve(l).then(async c=>{if(t.value==="aborted")return Ue;const f=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return f.status==="aborted"?Ue:f.status==="dirty"||t.value==="dirty"?al(f.value):f});{if(t.value==="aborted")return Ue;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ue:c.status==="dirty"||t.value==="dirty"?al(c.value):c}}if(i.type==="refinement"){const l=c=>{const f=i.refinement(c,o);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Ue:(c.status==="dirty"&&t.dirty(),l(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Ue:(c.status==="dirty"&&t.dirty(),l(c.value).then(()=>({status:t.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Zo(l))return l;const c=i.transform(l.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Zo(l)?Promise.resolve(i.transform(l.value,o)).then(c=>({status:t.value,value:c})):l);rt.assertNever(i)}}Dr.create=(n,e,t)=>new Dr({schema:n,typeName:Ve.ZodEffects,effect:e,...qe(t)});Dr.createWithPreprocess=(n,e,t)=>new Dr({schema:e,effect:{type:"preprocess",transform:n},typeName:Ve.ZodEffects,...qe(t)});class ti extends Ke{_parse(e){return this._getType(e)===me.undefined?En(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ti.create=(n,e)=>new ti({innerType:n,typeName:Ve.ZodOptional,...qe(e)});class qs extends Ke{_parse(e){return this._getType(e)===me.null?En(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qs.create=(n,e)=>new qs({innerType:n,typeName:Ve.ZodNullable,...qe(e)});class Pc extends Ke{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===me.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Pc.create=(n,e)=>new Pc({innerType:n,typeName:Ve.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...qe(e)});class Nc extends Ke{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ec(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new qn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Nc.create=(n,e)=>new Nc({innerType:n,typeName:Ve.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...qe(e)});class Nh extends Ke{_parse(e){if(this._getType(e)!==me.nan){const r=this._getOrReturnCtx(e);return he(r,{code:le.invalid_type,expected:me.nan,received:r.parsedType}),Ue}return{status:"valid",value:e.data}}}Nh.create=n=>new Nh({typeName:Ve.ZodNaN,...qe(n)});const A6=Symbol("zod_brand");class g_ extends Ke{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ed extends Ke{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Ue:o.status==="dirty"?(t.dirty(),al(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ue:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new ed({in:e,out:t,typeName:Ve.ZodPipeline})}}class Dc extends Ke{_parse(e){const t=this._def.innerType._parse(e),r=i=>(Zo(i)&&(i.value=Object.freeze(i.value)),i);return Ec(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}Dc.create=(n,e)=>new Dc({innerType:n,typeName:Ve.ZodReadonly,...qe(e)});function _x(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function OC(n,e={},t){return n?Cl.create().superRefine((r,i)=>{var o,l;const c=n(r);if(c instanceof Promise)return c.then(f=>{var p,m;if(!f){const _=_x(e,r),w=(m=(p=_.fatal)!==null&&p!==void 0?p:t)!==null&&m!==void 0?m:!0;i.addIssue({code:"custom",..._,fatal:w})}});if(!c){const f=_x(e,r),p=(l=(o=f.fatal)!==null&&o!==void 0?o:t)!==null&&l!==void 0?l:!0;i.addIssue({code:"custom",...f,fatal:p})}}):Cl.create()}const R6={object:St.lazycreate};var Ve;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Ve||(Ve={}));const P6=(n,e={message:`Input not instance of ${n.name}`})=>OC(t=>t instanceof n,e),MC=br.create,LC=Bs.create,N6=Nh.create,D6=Ws.create,VC=Tc.create,O6=Xo.create,M6=Ah.create,L6=xc.create,V6=Sc.create,j6=Cl.create,F6=jo.create,U6=Hi.create,z6=Rh.create,$6=Ar.create,B6=St.create,W6=St.strictCreate,H6=Ic.create,q6=Tp.create,G6=bc.create,K6=oi.create,Y6=Cc.create,Q6=Ph.create,Z6=Jo.create,X6=gl.create,J6=kc.create,e9=Ac.create,t9=Hs.create,n9=Rc.create,r9=kl.create,wx=Dr.create,i9=ti.create,s9=qs.create,o9=Dr.createWithPreprocess,a9=ed.create,l9=()=>MC().optional(),u9=()=>LC().optional(),c9=()=>VC().optional(),d9={string:n=>br.create({...n,coerce:!0}),number:n=>Bs.create({...n,coerce:!0}),boolean:n=>Tc.create({...n,coerce:!0}),bigint:n=>Ws.create({...n,coerce:!0}),date:n=>Xo.create({...n,coerce:!0})},f9=Ue;var Lo=Object.freeze({__proto__:null,defaultErrorMap:bl,setErrorMap:o6,getErrorMap:bh,makeIssue:Ch,EMPTY_PATH:a6,addIssueToContext:he,ParseStatus:mn,INVALID:Ue,DIRTY:al,OK:En,isAborted:Uv,isDirty:zv,isValid:Zo,isAsync:Ec,get util(){return rt},get objectUtil(){return Fv},ZodParsedType:me,getParsedType:Ri,ZodType:Ke,datetimeRegex:NC,ZodString:br,ZodNumber:Bs,ZodBigInt:Ws,ZodBoolean:Tc,ZodDate:Xo,ZodSymbol:Ah,ZodUndefined:xc,ZodNull:Sc,ZodAny:Cl,ZodUnknown:jo,ZodNever:Hi,ZodVoid:Rh,ZodArray:Ar,ZodObject:St,ZodUnion:Ic,ZodDiscriminatedUnion:Tp,ZodIntersection:bc,ZodTuple:oi,ZodRecord:Cc,ZodMap:Ph,ZodSet:Jo,ZodFunction:gl,ZodLazy:kc,ZodLiteral:Ac,ZodEnum:Hs,ZodNativeEnum:Rc,ZodPromise:kl,ZodEffects:Dr,ZodTransformer:Dr,ZodOptional:ti,ZodNullable:qs,ZodDefault:Pc,ZodCatch:Nc,ZodNaN:Nh,BRAND:A6,ZodBranded:g_,ZodPipeline:ed,ZodReadonly:Dc,custom:OC,Schema:Ke,ZodSchema:Ke,late:R6,get ZodFirstPartyTypeKind(){return Ve},coerce:d9,any:j6,array:$6,bigint:D6,boolean:VC,date:O6,discriminatedUnion:q6,effect:wx,enum:t9,function:X6,instanceof:P6,intersection:G6,lazy:J6,literal:e9,map:Q6,nan:N6,nativeEnum:n9,never:U6,null:V6,nullable:s9,number:LC,object:B6,oboolean:c9,onumber:u9,optional:i9,ostring:l9,pipeline:a9,preprocess:o9,promise:r9,record:Y6,set:Z6,strictObject:W6,string:MC,symbol:M6,transformer:wx,tuple:K6,undefined:L6,union:H6,unknown:F6,void:z6,NEVER:f9,ZodIssueCode:le,quotelessJson:s6,ZodError:qn});const h9=Lo.object({email:Lo.string().email({message:"※請輸入有效的 Email"}),password:Lo.string().min(8,{message:"※密碼至少 8 個字元"}).refine(n=>/[a-z]/.test(n)&&/[A-Z]/.test(n)&&/[0-9]/.test(n),{message:"※密碼需包含大小寫字母與數字"})});function p9(){const n=Yv(),[e,t]=T.useState(""),[r,i]=T.useState(""),[o,l]=T.useState(),[c,f]=T.useState("");T.useEffect(()=>{C1(Qs,async _=>{_?n("/"):console.log("尚未登入")})},[n]);const p=async()=>{var w,x;const _=h9.safeParse({email:e,password:r});if(_.error){const b=((w=_.error.issues.find(k=>k.path.includes("email")))==null?void 0:w.message)||null,I=((x=_.error.issues.find(k=>k.path.includes("password")))==null?void 0:x.message)||null;l({error_email:b,error_password:I});return}else await GL(e,r)||(l({error_email:"",error_password:""}),f("※登入失敗，請檢查帳號密碼是否正確"))},m=async _=>{await HL(_)};return S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"relative my-2 flex flex-col pl-4",children:[S.jsx("div",{className:"font-[Comic_Relief] font-bold text-2xl text-slate-800 text-left",children:"登入"}),S.jsx("div",{className:"pt-2 text-base font-bold text-red-500",children:c})]}),S.jsxs("div",{className:"flex flex-col w-[90%] items-start max-w-[350px] mx-auto",children:[S.jsx("span",{className:"text-left text-lg my-2 after:relative after:left-0.5 after:bottom-1.5 after:text-sm  after:text-red-500 after:content-['*']",children:"電子郵件"}),S.jsx(pl,{type:"email",onChange:_=>t(_.target.value),value:e,className:"px-3 py-3 w-full focus-visible:ring-ring/0 bg-gray-50 border-zinc-300"}),S.jsx("span",{className:"text-base text-red-500 font-bold mt-1",children:o==null?void 0:o.error_email}),S.jsx("span",{className:"text-left text-lg my-2 after:relative after:left-0.5 after:bottom-1.5 after:text-sm  after:text-red-500 after:content-['*']",children:"密碼"}),S.jsx(pl,{type:"password",onChange:_=>i(_.target.value),value:r,className:"px-3 py-3 mb-2 w-full focus-visible:ring-ring/0 bg-gray-50 border-zinc-300"}),S.jsx("span",{className:"text-base text-red-500 font-bold mt-1",children:o==null?void 0:o.error_password}),S.jsx(Xu,{onClick:p,className:"rounded-sm w-full py-6 my-2 h-10 flex items-center justify-center gap-3 cursor-pointer bg-green-700 hover:bg-green-600 overflow-hidden",children:S.jsx("div",{className:"font-bold text-base text-white",children:"登入"})}),S.jsx(ey,{to:"/",className:"w-full mx-auto mb-4 text-green-700 text-center hover:underline",children:"忘記密碼?"}),S.jsxs(Xu,{onClick:()=>m("google"),className:"rounded-sm w-full py-6 pr-8 my-2 h-10 flex items-center justify-center gap-3 cursor-pointer bg-white hover:bg-slate-100 border border-zinc-300 overflow-hidden",children:[S.jsx("img",{src:i6,alt:"google",className:"max-w-[30px]"}),S.jsx("div",{className:"font-bold text-base text-zinc-600",children:"Login with Google"})]}),S.jsxs(Xu,{onClick:()=>m("github"),className:"rounded-sm w-full py-6 pr-6.5 my-1 h-10 flex items-center justify-center gap-4.5 cursor-pointer bg-neutral-800 overflow-hidden",children:[S.jsx("i",{className:"fa-brands fa-github text-xl"}),S.jsx("div",{className:"font-bold text-base",children:"Login with GitHub"})]})]})]})}const m9=Lo.object({email:Lo.string().email({message:"※請輸入有效的 Email"}),password:Lo.string().min(8,{message:"※密碼至少 8 個字元"}).refine(n=>/[a-z]/.test(n)&&/[A-Z]/.test(n)&&/[0-9]/.test(n),{message:"※密碼需包含大小寫字母與數字"}),confirmPassword:Lo.string()}).refine(n=>n.password===n.confirmPassword,{message:"※輸入的密碼不一致",path:["confirmPassword"]});function g9(){const[n,e]=T.useState(""),[t,r]=T.useState(""),[i,o]=T.useState(""),[l,c]=T.useState(),f=async()=>{var m,_,w;const p=m9.safeParse({email:n,password:t,confirmPassword:i});if(p.error){const x=((m=p.error.issues.find(k=>k.path.includes("email")))==null?void 0:m.message)||null,b=((_=p.error.issues.find(k=>k.path.includes("password")))==null?void 0:_.message)||null,I=((w=p.error.issues.find(k=>k.path.includes("confirmPassword")))==null?void 0:w.message)||null;c({error_email:x,error_password:b,error_confirmPassword:I});return}else await qL(n,t)||c({error_email:"※此Email已經註冊過",error_password:"",error_confirmPassword:""})};return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"relative my-3 flex items-center justify-between",children:S.jsx("div",{className:"font-[Comic_Relief] font-bold text-2xl text-slate-800 text-left pl-4",children:"註冊"})}),S.jsxs("div",{className:"flex flex-col w-[90%] items-start max-w-[350px] mx-auto",children:[S.jsx("span",{className:"text-left text-lg my-2 after:relative after:left-0.5 after:bottom-1.5 after:text-sm  after:text-red-500 after:content-['*']",children:"電子郵件"}),S.jsx(pl,{type:"email",value:n,onChange:p=>e(p.target.value),className:"px-3 py-3 w-full focus-visible:ring-ring/0 bg-gray-50 border-zinc-300"}),S.jsx("span",{className:"text-base text-red-500 font-bold mt-1",children:l==null?void 0:l.error_email}),S.jsx("span",{className:"text-left text-lg mt-2 after:relative after:left-0.5 after:bottom-1.5 after:text-sm  after:text-red-500 after:content-['*']",children:"密碼"}),S.jsx(pl,{type:"password",value:t,onChange:p=>r(p.target.value),className:"px-3 py-3 w-full focus-visible:ring-ring/0 bg-gray-50 border-zinc-300"}),S.jsx("span",{className:"text-base text-red-500 font-bold mt-1",children:l==null?void 0:l.error_password}),S.jsx("span",{className:"text-left text-lg mt-2 after:relative after:left-0.5 after:bottom-1.5 after:text-sm  after:text-red-500 after:content-['*']",children:"再次確認密碼"}),S.jsx(pl,{type:"password",value:i,onChange:p=>o(p.target.value),className:"px-3 py-3 w-full focus-visible:ring-ring/0 bg-gray-50 border-zinc-300"}),S.jsx("span",{className:"text-base text-red-500 font-bold mt-1",children:l==null?void 0:l.error_confirmPassword}),S.jsx("div",{className:"my-2 p-4 bg-gray-100 rounded-md",children:"我們會使用你的個人資料來支援你在本網站中的使用體驗、管理你的帳號存取權，以及用於隱私權政策中說明的其他用途。"}),S.jsx(Xu,{onClick:f,className:"rounded-sm w-full py-6 my-2 h-10 flex items-center justify-center gap-3 cursor-pointer bg-green-700 hover:bg-green-600 overflow-hidden",children:S.jsx("div",{className:"font-bold text-base text-white",children:"註冊"})})]})]})}function jC({children:n}){return S.jsx("div",{className:"h-full sm:min-h-[100vh] bg-slate-100 px-4 py-6 sm:px-8 sm:py-8 flex flex-col-reverse justify-end items-center sm:flex-row sm:justify-center sm:items-start gap-4",children:n})}function ot(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Gn(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function wn(n,e){const t=ot(n);return isNaN(e)?Gn(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function Or(n,e){const t=ot(n);if(isNaN(e))return Gn(n,NaN);if(!e)return t;const r=t.getDate(),i=Gn(n,t.getTime());i.setMonth(t.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}const v_=6048e5,v9=864e5;let y9={};function td(){return y9}function ai(n,e){var c,f,p,m;const t=td(),r=(e==null?void 0:e.weekStartsOn)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=ot(n),o=i.getDay(),l=(o<r?7:0)+o-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function ea(n){return ai(n,{weekStartsOn:1})}function FC(n){const e=ot(n),t=e.getFullYear(),r=Gn(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=ea(r),o=Gn(n,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const l=ea(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}function Al(n){const e=ot(n);return e.setHours(0,0,0,0),e}function Dh(n){const e=ot(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Qr(n,e){const t=Al(n),r=Al(e),i=+t-Dh(t),o=+r-Dh(r);return Math.round((i-o)/v9)}function _9(n){const e=FC(n),t=Gn(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),ea(t)}function Bv(n,e){const t=e*7;return wn(n,t)}function w9(n,e){return Or(n,e*12)}function E9(n){let e;return n.forEach(function(t){const r=ot(t);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function T9(n){let e;return n.forEach(t=>{const r=ot(t);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Nn(n,e){const t=Al(n),r=Al(e);return+t==+r}function y_(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function x9(n){if(!y_(n)&&typeof n!="number")return!1;const e=ot(n);return!isNaN(Number(e))}function Oc(n,e){const t=ot(n),r=ot(e),i=t.getFullYear()-r.getFullYear(),o=t.getMonth()-r.getMonth();return i*12+o}function S9(n,e,t){const r=ai(n,t),i=ai(e,t),o=+r-Dh(r),l=+i-Dh(i);return Math.round((o-l)/v_)}function __(n){const e=ot(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function On(n){const e=ot(n);return e.setDate(1),e.setHours(0,0,0,0),e}function UC(n){const e=ot(n),t=Gn(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function w_(n,e){var c,f,p,m;const t=td(),r=(e==null?void 0:e.weekStartsOn)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=ot(n),o=i.getDay(),l=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}function zC(n){return w_(n,{weekStartsOn:1})}const I9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},b9=(n,e,t)=>{let r;const i=I9[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Bg(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const C9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},k9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},A9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R9={date:Bg({formats:C9,defaultWidth:"full"}),time:Bg({formats:k9,defaultWidth:"full"}),dateTime:Bg({formats:A9,defaultWidth:"full"})},P9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},N9=(n,e,t,r)=>P9[n];function $u(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,c=t!=null&&t.width?String(t.width):l;i=n.formattingValues[c]||n.formattingValues[l]}else{const l=n.defaultWidth,c=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[c]||n.values[l]}const o=n.argumentCallback?n.argumentCallback(e):e;return i[o]}}const D9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},O9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},M9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},L9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},F9=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},U9={ordinalNumber:F9,era:$u({values:D9,defaultWidth:"wide"}),quarter:$u({values:O9,defaultWidth:"wide",argumentCallback:n=>n-1}),month:$u({values:M9,defaultWidth:"wide"}),day:$u({values:L9,defaultWidth:"wide"}),dayPeriod:$u({values:V9,defaultWidth:"wide",formattingValues:j9,defaultFormattingWidth:"wide"})};function Bu(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],c=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(c)?$9(c,_=>_.test(l)):z9(c,_=>_.test(l));let p;p=n.valueCallback?n.valueCallback(f):f,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(l.length);return{value:p,rest:m}}}function z9(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function $9(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function B9(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],o=e.match(n.parsePattern);if(!o)return null;let l=n.valueCallback?n.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const W9=/^(\d+)(th|st|nd|rd)?/i,H9=/\d+/i,q9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},G9={any:[/^b/i,/^(a|c)/i]},K9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Y9={any:[/1/i,/2/i,/3/i,/4/i]},Q9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Z9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},X9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},J9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nU={ordinalNumber:B9({matchPattern:W9,parsePattern:H9,valueCallback:n=>parseInt(n,10)}),era:Bu({matchPatterns:q9,defaultMatchWidth:"wide",parsePatterns:G9,defaultParseWidth:"any"}),quarter:Bu({matchPatterns:K9,defaultMatchWidth:"wide",parsePatterns:Y9,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Bu({matchPatterns:Q9,defaultMatchWidth:"wide",parsePatterns:Z9,defaultParseWidth:"any"}),day:Bu({matchPatterns:X9,defaultMatchWidth:"wide",parsePatterns:J9,defaultParseWidth:"any"}),dayPeriod:Bu({matchPatterns:eU,defaultMatchWidth:"any",parsePatterns:tU,defaultParseWidth:"any"})},$C={code:"en-US",formatDistance:b9,formatLong:R9,formatRelative:N9,localize:U9,match:nU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rU(n){const e=ot(n);return Qr(e,UC(e))+1}function BC(n){const e=ot(n),t=+ea(e)-+_9(e);return Math.round(t/v_)+1}function WC(n,e){var m,_,w,x;const t=ot(n),r=t.getFullYear(),i=td(),o=(e==null?void 0:e.firstWeekContainsDate)??((_=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:_.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(w=i.locale)==null?void 0:w.options)==null?void 0:x.firstWeekContainsDate)??1,l=Gn(n,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const c=ai(l,e),f=Gn(n,0);f.setFullYear(r,0,o),f.setHours(0,0,0,0);const p=ai(f,e);return t.getTime()>=c.getTime()?r+1:t.getTime()>=p.getTime()?r:r-1}function iU(n,e){var c,f,p,m;const t=td(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=WC(n,e),o=Gn(n,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),ai(o,e)}function HC(n,e){const t=ot(n),r=+ai(t,e)-+iU(t,e);return Math.round(r/v_)+1}function dt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Es={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return dt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):dt(t+1,2)},d(n,e){return dt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return dt(n.getHours()%12||12,e.length)},H(n,e){return dt(n.getHours(),e.length)},m(n,e){return dt(n.getMinutes(),e.length)},s(n,e){return dt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return dt(i,e.length)}},tl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ex={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Es.y(n,e)},Y:function(n,e,t,r){const i=WC(n,r),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return dt(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):dt(o,e.length)},R:function(n,e){const t=FC(n);return dt(t,e.length)},u:function(n,e){const t=n.getFullYear();return dt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return dt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return dt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Es.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return dt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=HC(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):dt(i,e.length)},I:function(n,e,t){const r=BC(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):dt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Es.d(n,e)},D:function(n,e,t){const r=rU(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):dt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return dt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return dt(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return dt(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=tl.noon:r===0?i=tl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=tl.evening:r>=12?i=tl.afternoon:r>=4?i=tl.morning:i=tl.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Es.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Es.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):dt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):dt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Es.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Es.s(n,e)},S:function(n,e){return Es.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return xx(r);case"XXXX":case"XX":return Do(r);case"XXXXX":case"XXX":default:return Do(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return xx(r);case"xxxx":case"xx":return Do(r);case"xxxxx":case"xxx":default:return Do(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Tx(r,":");case"OOOO":default:return"GMT"+Do(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Tx(r,":");case"zzzz":default:return"GMT"+Do(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return dt(r,e.length)},T:function(n,e,t){const r=n.getTime();return dt(r,e.length)}};function Tx(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),o=r%60;return o===0?t+String(i):t+String(i)+e+dt(o,2)}function xx(n,e){return n%60===0?(n>0?"-":"+")+dt(Math.abs(n)/60,2):Do(n,e)}function Do(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=dt(Math.trunc(r/60),2),o=dt(r%60,2);return t+i+e+o}const Sx=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},qC=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},sU=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return Sx(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Sx(r,e)).replace("{{time}}",qC(i,e))},oU={p:qC,P:sU},aU=/^D+$/,lU=/^Y+$/,uU=["D","DD","YY","YYYY"];function cU(n){return aU.test(n)}function dU(n){return lU.test(n)}function fU(n,e,t){const r=hU(n,e,t);if(console.warn(r),uU.includes(n))throw new RangeError(r)}function hU(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gU=/^'([^]*?)'?$/,vU=/''/g,yU=/[a-zA-Z]/;function to(n,e,t){var m,_,w,x,b,I,k,P;const r=td(),i=(t==null?void 0:t.locale)??r.locale??$C,o=(t==null?void 0:t.firstWeekContainsDate)??((_=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:_.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(w=r.locale)==null?void 0:w.options)==null?void 0:x.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((I=(b=t==null?void 0:t.locale)==null?void 0:b.options)==null?void 0:I.weekStartsOn)??r.weekStartsOn??((P=(k=r.locale)==null?void 0:k.options)==null?void 0:P.weekStartsOn)??0,c=ot(n);if(!x9(c))throw new RangeError("Invalid time value");let f=e.match(mU).map(M=>{const L=M[0];if(L==="p"||L==="P"){const H=oU[L];return H(M,i.formatLong)}return M}).join("").match(pU).map(M=>{if(M==="''")return{isToken:!1,value:"'"};const L=M[0];if(L==="'")return{isToken:!1,value:_U(M)};if(Ex[L])return{isToken:!0,value:M};if(L.match(yU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return{isToken:!1,value:M}});i.localize.preprocessor&&(f=i.localize.preprocessor(c,f));const p={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return f.map(M=>{if(!M.isToken)return M.value;const L=M.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&dU(L)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&cU(L))&&fU(L,e,String(n));const H=Ex[L[0]];return H(c,L,i.localize,p)}).join("")}function _U(n){const e=n.match(gU);return e?e[1].replace(vU,"'"):n}function wU(n){const e=ot(n),t=e.getFullYear(),r=e.getMonth(),i=Gn(n,0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function EU(n){return Math.trunc(+ot(n)/1e3)}function TU(n){const e=ot(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(0,0,0,0),e}function xU(n,e){return S9(TU(n),On(n),e)+1}function Wv(n,e){const t=ot(n),r=ot(e);return t.getTime()>r.getTime()}function GC(n,e){const t=ot(n),r=ot(e);return+t<+r}function E_(n,e){const t=ot(n),r=ot(e);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function SU(n,e){const t=ot(n),r=ot(e);return t.getFullYear()===r.getFullYear()}function Wg(n,e){return wn(n,-e)}function Hg(n,e){const t=ot(n),r=t.getFullYear(),i=t.getDate(),o=Gn(n,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const l=wU(o);return t.setMonth(e,Math.min(i,l)),t}function Ix(n,e){const t=ot(n);return isNaN(+t)?Gn(n,NaN):(t.setFullYear(e),t)}var Fe=function(){return Fe=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Fe.apply(this,arguments)};function IU(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function KC(n,e,t){for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function nd(n){return n.mode==="multiple"}function rd(n){return n.mode==="range"}function xp(n){return n.mode==="single"}var bU={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function CU(n,e){return to(n,"LLLL y",e)}function kU(n,e){return to(n,"d",e)}function AU(n,e){return to(n,"LLLL",e)}function RU(n){return"".concat(n)}function PU(n,e){return to(n,"cccccc",e)}function NU(n,e){return to(n,"yyyy",e)}var DU=Object.freeze({__proto__:null,formatCaption:CU,formatDay:kU,formatMonthCaption:AU,formatWeekNumber:RU,formatWeekdayName:PU,formatYearCaption:NU}),OU=function(n,e,t){return to(n,"do MMMM (EEEE)",t)},MU=function(){return"Month: "},LU=function(){return"Go to next month"},VU=function(){return"Go to previous month"},jU=function(n,e){return to(n,"cccc",e)},FU=function(n){return"Week n. ".concat(n)},UU=function(){return"Year: "},zU=Object.freeze({__proto__:null,labelDay:OU,labelMonthDropdown:MU,labelNext:LU,labelPrevious:VU,labelWeekNumber:FU,labelWeekday:jU,labelYearDropdown:UU});function $U(){var n="buttons",e=bU,t=$C,r={},i={},o=1,l={},c=new Date;return{captionLayout:n,classNames:e,formatters:DU,labels:zU,locale:t,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:l,today:c,mode:"default"}}function BU(n){var e=n.fromYear,t=n.toYear,r=n.fromMonth,i=n.toMonth,o=n.fromDate,l=n.toDate;return r?o=On(r):e&&(o=new Date(e,0,1)),i?l=__(i):t&&(l=new Date(t,11,31)),{fromDate:o?Al(o):void 0,toDate:l?Al(l):void 0}}var YC=T.createContext(void 0);function WU(n){var e,t=n.initialProps,r=$U(),i=BU(t),o=i.fromDate,l=i.toDate,c=(e=t.captionLayout)!==null&&e!==void 0?e:r.captionLayout;c!=="buttons"&&(!o||!l)&&(c="buttons");var f;(xp(t)||nd(t)||rd(t))&&(f=t.onSelect);var p=Fe(Fe(Fe({},r),t),{captionLayout:c,classNames:Fe(Fe({},r.classNames),t.classNames),components:Fe({},t.components),formatters:Fe(Fe({},r.formatters),t.formatters),fromDate:o,labels:Fe(Fe({},r.labels),t.labels),mode:t.mode||r.mode,modifiers:Fe(Fe({},r.modifiers),t.modifiers),modifiersClassNames:Fe(Fe({},r.modifiersClassNames),t.modifiersClassNames),onSelect:f,styles:Fe(Fe({},r.styles),t.styles),toDate:l});return S.jsx(YC.Provider,{value:p,children:n.children})}function gt(){var n=T.useContext(YC);if(!n)throw new Error("useDayPicker must be used within a DayPickerProvider.");return n}function QC(n){var e=gt(),t=e.locale,r=e.classNames,i=e.styles,o=e.formatters.formatCaption;return S.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:n.id,children:o(n.displayMonth,{locale:t})})}function HU(n){return S.jsx("svg",Fe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},n,{children:S.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ZC(n){var e,t,r=n.onChange,i=n.value,o=n.children,l=n.caption,c=n.className,f=n.style,p=gt(),m=(t=(e=p.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&t!==void 0?t:HU;return S.jsxs("div",{className:c,style:f,children:[S.jsx("span",{className:p.classNames.vhidden,children:n["aria-label"]}),S.jsx("select",{name:n.name,"aria-label":n["aria-label"],className:p.classNames.dropdown,style:p.styles.dropdown,value:i,onChange:r,children:o}),S.jsxs("div",{className:p.classNames.caption_label,style:p.styles.caption_label,"aria-hidden":"true",children:[l,S.jsx(m,{className:p.classNames.dropdown_icon,style:p.styles.dropdown_icon})]})]})}function qU(n){var e,t=gt(),r=t.fromDate,i=t.toDate,o=t.styles,l=t.locale,c=t.formatters.formatMonthCaption,f=t.classNames,p=t.components,m=t.labels.labelMonthDropdown;if(!r)return S.jsx(S.Fragment,{});if(!i)return S.jsx(S.Fragment,{});var _=[];if(SU(r,i))for(var w=On(r),x=r.getMonth();x<=i.getMonth();x++)_.push(Hg(w,x));else for(var w=On(new Date),x=0;x<=11;x++)_.push(Hg(w,x));var b=function(k){var P=Number(k.target.value),M=Hg(On(n.displayMonth),P);n.onChange(M)},I=(e=p==null?void 0:p.Dropdown)!==null&&e!==void 0?e:ZC;return S.jsx(I,{name:"months","aria-label":m(),className:f.dropdown_month,style:o.dropdown_month,onChange:b,value:n.displayMonth.getMonth(),caption:c(n.displayMonth,{locale:l}),children:_.map(function(k){return S.jsx("option",{value:k.getMonth(),children:c(k,{locale:l})},k.getMonth())})})}function GU(n){var e,t=n.displayMonth,r=gt(),i=r.fromDate,o=r.toDate,l=r.locale,c=r.styles,f=r.classNames,p=r.components,m=r.formatters.formatYearCaption,_=r.labels.labelYearDropdown,w=[];if(!i)return S.jsx(S.Fragment,{});if(!o)return S.jsx(S.Fragment,{});for(var x=i.getFullYear(),b=o.getFullYear(),I=x;I<=b;I++)w.push(Ix(UC(new Date),I));var k=function(M){var L=Ix(On(t),Number(M.target.value));n.onChange(L)},P=(e=p==null?void 0:p.Dropdown)!==null&&e!==void 0?e:ZC;return S.jsx(P,{name:"years","aria-label":_(),className:f.dropdown_year,style:c.dropdown_year,onChange:k,value:t.getFullYear(),caption:m(t,{locale:l}),children:w.map(function(M){return S.jsx("option",{value:M.getFullYear(),children:m(M,{locale:l})},M.getFullYear())})})}function KU(n,e){var t=T.useState(n),r=t[0],i=t[1],o=e===void 0?r:e;return[o,i]}function YU(n){var e=n.month,t=n.defaultMonth,r=n.today,i=e||t||r||new Date,o=n.toDate,l=n.fromDate,c=n.numberOfMonths,f=c===void 0?1:c;if(o&&Oc(o,i)<0){var p=-1*(f-1);i=Or(o,p)}return l&&Oc(i,l)<0&&(i=l),On(i)}function QU(){var n=gt(),e=YU(n),t=KU(e,n.month),r=t[0],i=t[1],o=function(l){var c;if(!n.disableNavigation){var f=On(l);i(f),(c=n.onMonthChange)===null||c===void 0||c.call(n,f)}};return[r,o]}function ZU(n,e){for(var t=e.reverseMonths,r=e.numberOfMonths,i=On(n),o=On(Or(i,r)),l=Oc(o,i),c=[],f=0;f<l;f++){var p=Or(i,f);c.push(p)}return t&&(c=c.reverse()),c}function XU(n,e){if(!e.disableNavigation){var t=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,l=r?o:1,c=On(n);if(!t)return Or(c,l);var f=Oc(t,n);if(!(f<o))return Or(c,l)}}function JU(n,e){if(!e.disableNavigation){var t=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,l=r?o:1,c=On(n);if(!t)return Or(c,-l);var f=Oc(c,t);if(!(f<=0))return Or(c,-l)}}var XC=T.createContext(void 0);function e8(n){var e=gt(),t=QU(),r=t[0],i=t[1],o=ZU(r,e),l=XU(r,e),c=JU(r,e),f=function(_){return o.some(function(w){return E_(_,w)})},p=function(_,w){f(_)||(w&&GC(_,w)?i(Or(_,1+e.numberOfMonths*-1)):i(_))},m={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:p,previousMonth:c,nextMonth:l,isDateDisplayed:f};return S.jsx(XC.Provider,{value:m,children:n.children})}function id(){var n=T.useContext(XC);if(!n)throw new Error("useNavigation must be used within a NavigationProvider");return n}function bx(n){var e,t=gt(),r=t.classNames,i=t.styles,o=t.components,l=id().goToMonth,c=function(m){l(Or(m,n.displayIndex?-n.displayIndex:0))},f=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:QC,p=S.jsx(f,{id:n.id,displayMonth:n.displayMonth});return S.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[S.jsx("div",{className:r.vhidden,children:p}),S.jsx(qU,{onChange:c,displayMonth:n.displayMonth}),S.jsx(GU,{onChange:c,displayMonth:n.displayMonth})]})}function t8(n){return S.jsx("svg",Fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},n,{children:S.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function n8(n){return S.jsx("svg",Fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},n,{children:S.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Oh=T.forwardRef(function(n,e){var t=gt(),r=t.classNames,i=t.styles,o=[r.button_reset,r.button];n.className&&o.push(n.className);var l=o.join(" "),c=Fe(Fe({},i.button_reset),i.button);return n.style&&Object.assign(c,n.style),S.jsx("button",Fe({},n,{ref:e,type:"button",className:l,style:c}))});function r8(n){var e,t,r=gt(),i=r.dir,o=r.locale,l=r.classNames,c=r.styles,f=r.labels,p=f.labelPrevious,m=f.labelNext,_=r.components;if(!n.nextMonth&&!n.previousMonth)return S.jsx(S.Fragment,{});var w=p(n.previousMonth,{locale:o}),x=[l.nav_button,l.nav_button_previous].join(" "),b=m(n.nextMonth,{locale:o}),I=[l.nav_button,l.nav_button_next].join(" "),k=(e=_==null?void 0:_.IconRight)!==null&&e!==void 0?e:n8,P=(t=_==null?void 0:_.IconLeft)!==null&&t!==void 0?t:t8;return S.jsxs("div",{className:l.nav,style:c.nav,children:[!n.hidePrevious&&S.jsx(Oh,{name:"previous-month","aria-label":w,className:x,style:c.nav_button_previous,disabled:!n.previousMonth,onClick:n.onPreviousClick,children:i==="rtl"?S.jsx(k,{className:l.nav_icon,style:c.nav_icon}):S.jsx(P,{className:l.nav_icon,style:c.nav_icon})}),!n.hideNext&&S.jsx(Oh,{name:"next-month","aria-label":b,className:I,style:c.nav_button_next,disabled:!n.nextMonth,onClick:n.onNextClick,children:i==="rtl"?S.jsx(P,{className:l.nav_icon,style:c.nav_icon}):S.jsx(k,{className:l.nav_icon,style:c.nav_icon})})]})}function Cx(n){var e=gt().numberOfMonths,t=id(),r=t.previousMonth,i=t.nextMonth,o=t.goToMonth,l=t.displayMonths,c=l.findIndex(function(b){return E_(n.displayMonth,b)}),f=c===0,p=c===l.length-1,m=e>1&&(f||!p),_=e>1&&(p||!f),w=function(){r&&o(r)},x=function(){i&&o(i)};return S.jsx(r8,{displayMonth:n.displayMonth,hideNext:m,hidePrevious:_,nextMonth:i,previousMonth:r,onPreviousClick:w,onNextClick:x})}function i8(n){var e,t=gt(),r=t.classNames,i=t.disableNavigation,o=t.styles,l=t.captionLayout,c=t.components,f=(e=c==null?void 0:c.CaptionLabel)!==null&&e!==void 0?e:QC,p;return i?p=S.jsx(f,{id:n.id,displayMonth:n.displayMonth}):l==="dropdown"?p=S.jsx(bx,{displayMonth:n.displayMonth,id:n.id}):l==="dropdown-buttons"?p=S.jsxs(S.Fragment,{children:[S.jsx(bx,{displayMonth:n.displayMonth,displayIndex:n.displayIndex,id:n.id}),S.jsx(Cx,{displayMonth:n.displayMonth,displayIndex:n.displayIndex,id:n.id})]}):p=S.jsxs(S.Fragment,{children:[S.jsx(f,{id:n.id,displayMonth:n.displayMonth,displayIndex:n.displayIndex}),S.jsx(Cx,{displayMonth:n.displayMonth,id:n.id})]}),S.jsx("div",{className:r.caption,style:o.caption,children:p})}function s8(n){var e=gt(),t=e.footer,r=e.styles,i=e.classNames.tfoot;return t?S.jsx("tfoot",{className:i,style:r.tfoot,children:S.jsx("tr",{children:S.jsx("td",{colSpan:8,children:t})})}):S.jsx(S.Fragment,{})}function o8(n,e,t){for(var r=t?ea(new Date):ai(new Date,{locale:n,weekStartsOn:e}),i=[],o=0;o<7;o++){var l=wn(r,o);i.push(l)}return i}function a8(){var n=gt(),e=n.classNames,t=n.styles,r=n.showWeekNumber,i=n.locale,o=n.weekStartsOn,l=n.ISOWeek,c=n.formatters.formatWeekdayName,f=n.labels.labelWeekday,p=o8(i,o,l);return S.jsxs("tr",{style:t.head_row,className:e.head_row,children:[r&&S.jsx("td",{style:t.head_cell,className:e.head_cell}),p.map(function(m,_){return S.jsx("th",{scope:"col",className:e.head_cell,style:t.head_cell,"aria-label":f(m,{locale:i}),children:c(m,{locale:i})},_)})]})}function l8(){var n,e=gt(),t=e.classNames,r=e.styles,i=e.components,o=(n=i==null?void 0:i.HeadRow)!==null&&n!==void 0?n:a8;return S.jsx("thead",{style:r.head,className:t.head,children:S.jsx(o,{})})}function u8(n){var e=gt(),t=e.locale,r=e.formatters.formatDay;return S.jsx(S.Fragment,{children:r(n.date,{locale:t})})}var T_=T.createContext(void 0);function c8(n){if(!nd(n.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return S.jsx(T_.Provider,{value:e,children:n.children})}return S.jsx(d8,{initialProps:n.initialProps,children:n.children})}function d8(n){var e=n.initialProps,t=n.children,r=e.selected,i=e.min,o=e.max,l=function(p,m,_){var w,x;(w=e.onDayClick)===null||w===void 0||w.call(e,p,m,_);var b=!!(m.selected&&i&&(r==null?void 0:r.length)===i);if(!b){var I=!!(!m.selected&&o&&(r==null?void 0:r.length)===o);if(!I){var k=r?KC([],r):[];if(m.selected){var P=k.findIndex(function(M){return Nn(p,M)});k.splice(P,1)}else k.push(p);(x=e.onSelect)===null||x===void 0||x.call(e,k,p,m,_)}}},c={disabled:[]};r&&c.disabled.push(function(p){var m=o&&r.length>o-1,_=r.some(function(w){return Nn(w,p)});return!!(m&&!_)});var f={selected:r,onDayClick:l,modifiers:c};return S.jsx(T_.Provider,{value:f,children:t})}function x_(){var n=T.useContext(T_);if(!n)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return n}function f8(n,e){var t=e||{},r=t.from,i=t.to;return r&&i?Nn(i,n)&&Nn(r,n)?void 0:Nn(i,n)?{from:i,to:void 0}:Nn(r,n)?void 0:Wv(r,n)?{from:n,to:i}:{from:r,to:n}:i?Wv(n,i)?{from:i,to:n}:{from:n,to:i}:r?GC(n,r)?{from:n,to:r}:{from:r,to:n}:{from:n,to:void 0}}var S_=T.createContext(void 0);function h8(n){if(!rd(n.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return S.jsx(S_.Provider,{value:e,children:n.children})}return S.jsx(p8,{initialProps:n.initialProps,children:n.children})}function p8(n){var e=n.initialProps,t=n.children,r=e.selected,i=r||{},o=i.from,l=i.to,c=e.min,f=e.max,p=function(x,b,I){var k,P;(k=e.onDayClick)===null||k===void 0||k.call(e,x,b,I);var M=f8(x,r);(P=e.onSelect)===null||P===void 0||P.call(e,M,x,b,I)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(m.range_start=[o],l?(m.range_end=[l],Nn(o,l)||(m.range_middle=[{after:o,before:l}])):m.range_end=[o]):l&&(m.range_start=[l],m.range_end=[l]),c&&(o&&!l&&m.disabled.push({after:Wg(o,c-1),before:wn(o,c-1)}),o&&l&&m.disabled.push({after:o,before:wn(o,c-1)}),!o&&l&&m.disabled.push({after:Wg(l,c-1),before:wn(l,c-1)})),f){if(o&&!l&&(m.disabled.push({before:wn(o,-f+1)}),m.disabled.push({after:wn(o,f-1)})),o&&l){var _=Qr(l,o)+1,w=f-_;m.disabled.push({before:Wg(o,w)}),m.disabled.push({after:wn(l,w)})}!o&&l&&(m.disabled.push({before:wn(l,-f+1)}),m.disabled.push({after:wn(l,f-1)}))}return S.jsx(S_.Provider,{value:{selected:r,onDayClick:p,modifiers:m},children:t})}function I_(){var n=T.useContext(S_);if(!n)throw new Error("useSelectRange must be used within a SelectRangeProvider");return n}function eh(n){return Array.isArray(n)?KC([],n):n!==void 0?[n]:[]}function m8(n){var e={};return Object.entries(n).forEach(function(t){var r=t[0],i=t[1];e[r]=eh(i)}),e}var Mr;(function(n){n.Outside="outside",n.Disabled="disabled",n.Selected="selected",n.Hidden="hidden",n.Today="today",n.RangeStart="range_start",n.RangeEnd="range_end",n.RangeMiddle="range_middle"})(Mr||(Mr={}));var g8=Mr.Selected,ki=Mr.Disabled,v8=Mr.Hidden,y8=Mr.Today,qg=Mr.RangeEnd,Gg=Mr.RangeMiddle,Kg=Mr.RangeStart,_8=Mr.Outside;function w8(n,e,t){var r,i=(r={},r[g8]=eh(n.selected),r[ki]=eh(n.disabled),r[v8]=eh(n.hidden),r[y8]=[n.today],r[qg]=[],r[Gg]=[],r[Kg]=[],r[_8]=[],r);return n.fromDate&&i[ki].push({before:n.fromDate}),n.toDate&&i[ki].push({after:n.toDate}),nd(n)?i[ki]=i[ki].concat(e.modifiers[ki]):rd(n)&&(i[ki]=i[ki].concat(t.modifiers[ki]),i[Kg]=t.modifiers[Kg],i[Gg]=t.modifiers[Gg],i[qg]=t.modifiers[qg]),i}var JC=T.createContext(void 0);function E8(n){var e=gt(),t=x_(),r=I_(),i=w8(e,t,r),o=m8(e.modifiers),l=Fe(Fe({},i),o);return S.jsx(JC.Provider,{value:l,children:n.children})}function ek(){var n=T.useContext(JC);if(!n)throw new Error("useModifiers must be used within a ModifiersProvider");return n}function T8(n){return!!(n&&typeof n=="object"&&"before"in n&&"after"in n)}function x8(n){return!!(n&&typeof n=="object"&&"from"in n)}function S8(n){return!!(n&&typeof n=="object"&&"after"in n)}function I8(n){return!!(n&&typeof n=="object"&&"before"in n)}function b8(n){return!!(n&&typeof n=="object"&&"dayOfWeek"in n)}function C8(n,e){var t,r=e.from,i=e.to;if(r&&i){var o=Qr(i,r)<0;o&&(t=[i,r],r=t[0],i=t[1]);var l=Qr(n,r)>=0&&Qr(i,n)>=0;return l}return i?Nn(i,n):r?Nn(r,n):!1}function k8(n){return y_(n)}function A8(n){return Array.isArray(n)&&n.every(y_)}function R8(n,e){return e.some(function(t){if(typeof t=="boolean")return t;if(k8(t))return Nn(n,t);if(A8(t))return t.includes(n);if(x8(t))return C8(n,t);if(b8(t))return t.dayOfWeek.includes(n.getDay());if(T8(t)){var r=Qr(t.before,n),i=Qr(t.after,n),o=r>0,l=i<0,c=Wv(t.before,t.after);return c?l&&o:o||l}return S8(t)?Qr(n,t.after)>0:I8(t)?Qr(t.before,n)>0:typeof t=="function"?t(n):!1})}function b_(n,e,t){var r=Object.keys(e).reduce(function(o,l){var c=e[l];return R8(n,c)&&o.push(l),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),t&&!E_(n,t)&&(i.outside=!0),i}function P8(n,e){for(var t=On(n[0]),r=__(n[n.length-1]),i,o,l=t;l<=r;){var c=b_(l,e),f=!c.disabled&&!c.hidden;if(!f){l=wn(l,1);continue}if(c.selected)return l;c.today&&!o&&(o=l),i||(i=l),l=wn(l,1)}return o||i}var N8=365;function tk(n,e){var t=e.moveBy,r=e.direction,i=e.context,o=e.modifiers,l=e.retry,c=l===void 0?{count:0,lastFocused:n}:l,f=i.weekStartsOn,p=i.fromDate,m=i.toDate,_=i.locale,w={day:wn,week:Bv,month:Or,year:w9,startOfWeek:function(k){return i.ISOWeek?ea(k):ai(k,{locale:_,weekStartsOn:f})},endOfWeek:function(k){return i.ISOWeek?zC(k):w_(k,{locale:_,weekStartsOn:f})}},x=w[t](n,r==="after"?1:-1);r==="before"&&p?x=E9([p,x]):r==="after"&&m&&(x=T9([m,x]));var b=!0;if(o){var I=b_(x,o);b=!I.disabled&&!I.hidden}return b?x:c.count>N8?c.lastFocused:tk(x,{moveBy:t,direction:r,context:i,modifiers:o,retry:Fe(Fe({},c),{count:c.count+1})})}var nk=T.createContext(void 0);function D8(n){var e=id(),t=ek(),r=T.useState(),i=r[0],o=r[1],l=T.useState(),c=l[0],f=l[1],p=P8(e.displayMonths,t),m=i??(c&&e.isDateDisplayed(c))?c:p,_=function(){f(i),o(void 0)},w=function(k){o(k)},x=gt(),b=function(k,P){if(i){var M=tk(i,{moveBy:k,direction:P,context:x,modifiers:t});Nn(i,M)||(e.goToDate(M,i),w(M))}},I={focusedDay:i,focusTarget:m,blur:_,focus:w,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return S.jsx(nk.Provider,{value:I,children:n.children})}function C_(){var n=T.useContext(nk);if(!n)throw new Error("useFocusContext must be used within a FocusProvider");return n}function O8(n,e){var t=ek(),r=b_(n,t,e);return r}var k_=T.createContext(void 0);function M8(n){if(!xp(n.initialProps)){var e={selected:void 0};return S.jsx(k_.Provider,{value:e,children:n.children})}return S.jsx(L8,{initialProps:n.initialProps,children:n.children})}function L8(n){var e=n.initialProps,t=n.children,r=function(o,l,c){var f,p,m;if((f=e.onDayClick)===null||f===void 0||f.call(e,o,l,c),l.selected&&!e.required){(p=e.onSelect)===null||p===void 0||p.call(e,void 0,o,l,c);return}(m=e.onSelect)===null||m===void 0||m.call(e,o,o,l,c)},i={selected:e.selected,onDayClick:r};return S.jsx(k_.Provider,{value:i,children:t})}function rk(){var n=T.useContext(k_);if(!n)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return n}function V8(n,e){var t=gt(),r=rk(),i=x_(),o=I_(),l=C_(),c=l.focusDayAfter,f=l.focusDayBefore,p=l.focusWeekAfter,m=l.focusWeekBefore,_=l.blur,w=l.focus,x=l.focusMonthBefore,b=l.focusMonthAfter,I=l.focusYearBefore,k=l.focusYearAfter,P=l.focusStartOfWeek,M=l.focusEndOfWeek,L=function(ee){var F,ce,se,W;xp(t)?(F=r.onDayClick)===null||F===void 0||F.call(r,n,e,ee):nd(t)?(ce=i.onDayClick)===null||ce===void 0||ce.call(i,n,e,ee):rd(t)?(se=o.onDayClick)===null||se===void 0||se.call(o,n,e,ee):(W=t.onDayClick)===null||W===void 0||W.call(t,n,e,ee)},H=function(ee){var F;w(n),(F=t.onDayFocus)===null||F===void 0||F.call(t,n,e,ee)},Z=function(ee){var F;_(),(F=t.onDayBlur)===null||F===void 0||F.call(t,n,e,ee)},J=function(ee){var F;(F=t.onDayMouseEnter)===null||F===void 0||F.call(t,n,e,ee)},D=function(ee){var F;(F=t.onDayMouseLeave)===null||F===void 0||F.call(t,n,e,ee)},A=function(ee){var F;(F=t.onDayPointerEnter)===null||F===void 0||F.call(t,n,e,ee)},O=function(ee){var F;(F=t.onDayPointerLeave)===null||F===void 0||F.call(t,n,e,ee)},j=function(ee){var F;(F=t.onDayTouchCancel)===null||F===void 0||F.call(t,n,e,ee)},U=function(ee){var F;(F=t.onDayTouchEnd)===null||F===void 0||F.call(t,n,e,ee)},$=function(ee){var F;(F=t.onDayTouchMove)===null||F===void 0||F.call(t,n,e,ee)},N=function(ee){var F;(F=t.onDayTouchStart)===null||F===void 0||F.call(t,n,e,ee)},xe=function(ee){var F;(F=t.onDayKeyUp)===null||F===void 0||F.call(t,n,e,ee)},Ae=function(ee){var F;switch(ee.key){case"ArrowLeft":ee.preventDefault(),ee.stopPropagation(),t.dir==="rtl"?c():f();break;case"ArrowRight":ee.preventDefault(),ee.stopPropagation(),t.dir==="rtl"?f():c();break;case"ArrowDown":ee.preventDefault(),ee.stopPropagation(),p();break;case"ArrowUp":ee.preventDefault(),ee.stopPropagation(),m();break;case"PageUp":ee.preventDefault(),ee.stopPropagation(),ee.shiftKey?I():x();break;case"PageDown":ee.preventDefault(),ee.stopPropagation(),ee.shiftKey?k():b();break;case"Home":ee.preventDefault(),ee.stopPropagation(),P();break;case"End":ee.preventDefault(),ee.stopPropagation(),M();break}(F=t.onDayKeyDown)===null||F===void 0||F.call(t,n,e,ee)},_e={onClick:L,onFocus:H,onBlur:Z,onKeyDown:Ae,onKeyUp:xe,onMouseEnter:J,onMouseLeave:D,onPointerEnter:A,onPointerLeave:O,onTouchCancel:j,onTouchEnd:U,onTouchMove:$,onTouchStart:N};return _e}function j8(){var n=gt(),e=rk(),t=x_(),r=I_(),i=xp(n)?e.selected:nd(n)?t.selected:rd(n)?r.selected:void 0;return i}function F8(n){return Object.values(Mr).includes(n)}function U8(n,e){var t=[n.classNames.day];return Object.keys(e).forEach(function(r){var i=n.modifiersClassNames[r];if(i)t.push(i);else if(F8(r)){var o=n.classNames["day_".concat(r)];o&&t.push(o)}}),t}function z8(n,e){var t=Fe({},n.styles.day);return Object.keys(e).forEach(function(r){var i;t=Fe(Fe({},t),(i=n.modifiersStyles)===null||i===void 0?void 0:i[r])}),t}function $8(n,e,t){var r,i,o,l=gt(),c=C_(),f=O8(n,e),p=V8(n,f),m=j8(),_=!!(l.onDayClick||l.mode!=="default");T.useEffect(function(){var J;f.outside||c.focusedDay&&_&&Nn(c.focusedDay,n)&&((J=t.current)===null||J===void 0||J.focus())},[c.focusedDay,n,t,_,f.outside]);var w=U8(l,f).join(" "),x=z8(l,f),b=!!(f.outside&&!l.showOutsideDays||f.hidden),I=(o=(i=l.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:u8,k=S.jsx(I,{date:n,displayMonth:e,activeModifiers:f}),P={style:x,className:w,children:k,role:"gridcell"},M=c.focusTarget&&Nn(c.focusTarget,n)&&!f.outside,L=c.focusedDay&&Nn(c.focusedDay,n),H=Fe(Fe(Fe({},P),(r={disabled:f.disabled,role:"gridcell"},r["aria-selected"]=f.selected,r.tabIndex=L||M?0:-1,r)),p),Z={isButton:_,isHidden:b,activeModifiers:f,selectedDays:m,buttonProps:H,divProps:P};return Z}function B8(n){var e=T.useRef(null),t=$8(n.date,n.displayMonth,e);return t.isHidden?S.jsx("div",{role:"gridcell"}):t.isButton?S.jsx(Oh,Fe({name:"day",ref:e},t.buttonProps)):S.jsx("div",Fe({},t.divProps))}function W8(n){var e=n.number,t=n.dates,r=gt(),i=r.onWeekNumberClick,o=r.styles,l=r.classNames,c=r.locale,f=r.labels.labelWeekNumber,p=r.formatters.formatWeekNumber,m=p(Number(e),{locale:c});if(!i)return S.jsx("span",{className:l.weeknumber,style:o.weeknumber,children:m});var _=f(Number(e),{locale:c}),w=function(x){i(e,t,x)};return S.jsx(Oh,{name:"week-number","aria-label":_,className:l.weeknumber,style:o.weeknumber,onClick:w,children:m})}function H8(n){var e,t,r=gt(),i=r.styles,o=r.classNames,l=r.showWeekNumber,c=r.components,f=(e=c==null?void 0:c.Day)!==null&&e!==void 0?e:B8,p=(t=c==null?void 0:c.WeekNumber)!==null&&t!==void 0?t:W8,m;return l&&(m=S.jsx("td",{className:o.cell,style:i.cell,children:S.jsx(p,{number:n.weekNumber,dates:n.dates})})),S.jsxs("tr",{className:o.row,style:i.row,children:[m,n.dates.map(function(_){return S.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:S.jsx(f,{displayMonth:n.displayMonth,date:_})},EU(_))})]})}function kx(n,e,t){for(var r=t!=null&&t.ISOWeek?zC(e):w_(e,t),i=t!=null&&t.ISOWeek?ea(n):ai(n,t),o=Qr(r,i),l=[],c=0;c<=o;c++)l.push(wn(i,c));var f=l.reduce(function(p,m){var _=t!=null&&t.ISOWeek?BC(m):HC(m,t),w=p.find(function(x){return x.weekNumber===_});return w?(w.dates.push(m),p):(p.push({weekNumber:_,dates:[m]}),p)},[]);return f}function q8(n,e){var t=kx(On(n),__(n),e);if(e!=null&&e.useFixedWeeks){var r=xU(n,e);if(r<6){var i=t[t.length-1],o=i.dates[i.dates.length-1],l=Bv(o,6-r),c=kx(Bv(o,1),l,e);t.push.apply(t,c)}}return t}function G8(n){var e,t,r,i=gt(),o=i.locale,l=i.classNames,c=i.styles,f=i.hideHead,p=i.fixedWeeks,m=i.components,_=i.weekStartsOn,w=i.firstWeekContainsDate,x=i.ISOWeek,b=q8(n.displayMonth,{useFixedWeeks:!!p,ISOWeek:x,locale:o,weekStartsOn:_,firstWeekContainsDate:w}),I=(e=m==null?void 0:m.Head)!==null&&e!==void 0?e:l8,k=(t=m==null?void 0:m.Row)!==null&&t!==void 0?t:H8,P=(r=m==null?void 0:m.Footer)!==null&&r!==void 0?r:s8;return S.jsxs("table",{id:n.id,className:l.table,style:c.table,role:"grid","aria-labelledby":n["aria-labelledby"],children:[!f&&S.jsx(I,{}),S.jsx("tbody",{className:l.tbody,style:c.tbody,children:b.map(function(M){return S.jsx(k,{displayMonth:n.displayMonth,dates:M.dates,weekNumber:M.weekNumber},M.weekNumber)})}),S.jsx(P,{displayMonth:n.displayMonth})]})}function K8(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Y8=K8()?T.useLayoutEffect:T.useEffect,Yg=!1,Q8=0;function Ax(){return"react-day-picker-".concat(++Q8)}function Z8(n){var e,t=n??(Yg?Ax():null),r=T.useState(t),i=r[0],o=r[1];return Y8(function(){i===null&&o(Ax())},[]),T.useEffect(function(){Yg===!1&&(Yg=!0)},[]),(e=n??i)!==null&&e!==void 0?e:void 0}function X8(n){var e,t,r=gt(),i=r.dir,o=r.classNames,l=r.styles,c=r.components,f=id().displayMonths,p=Z8(r.id?"".concat(r.id,"-").concat(n.displayIndex):void 0),m=r.id?"".concat(r.id,"-grid-").concat(n.displayIndex):void 0,_=[o.month],w=l.month,x=n.displayIndex===0,b=n.displayIndex===f.length-1,I=!x&&!b;i==="rtl"&&(e=[x,b],b=e[0],x=e[1]),x&&(_.push(o.caption_start),w=Fe(Fe({},w),l.caption_start)),b&&(_.push(o.caption_end),w=Fe(Fe({},w),l.caption_end)),I&&(_.push(o.caption_between),w=Fe(Fe({},w),l.caption_between));var k=(t=c==null?void 0:c.Caption)!==null&&t!==void 0?t:i8;return S.jsxs("div",{className:_.join(" "),style:w,children:[S.jsx(k,{id:p,displayMonth:n.displayMonth,displayIndex:n.displayIndex}),S.jsx(G8,{id:m,"aria-labelledby":p,displayMonth:n.displayMonth})]},n.displayIndex)}function J8(n){var e=gt(),t=e.classNames,r=e.styles;return S.jsx("div",{className:t.months,style:r.months,children:n.children})}function ez(n){var e,t,r=n.initialProps,i=gt(),o=C_(),l=id(),c=T.useState(!1),f=c[0],p=c[1];T.useEffect(function(){i.initialFocus&&o.focusTarget&&(f||(o.focus(o.focusTarget),p(!0)))},[i.initialFocus,f,o.focus,o.focusTarget,o]);var m=[i.classNames.root,i.className];i.numberOfMonths>1&&m.push(i.classNames.multiple_months),i.showWeekNumber&&m.push(i.classNames.with_weeknumber);var _=Fe(Fe({},i.styles.root),i.style),w=Object.keys(r).filter(function(b){return b.startsWith("data-")}).reduce(function(b,I){var k;return Fe(Fe({},b),(k={},k[I]=r[I],k))},{}),x=(t=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&t!==void 0?t:J8;return S.jsx("div",Fe({className:m.join(" "),style:_,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},w,{children:S.jsx(x,{children:l.displayMonths.map(function(b,I){return S.jsx(X8,{displayIndex:I,displayMonth:b},I)})})}))}function tz(n){var e=n.children,t=IU(n,["children"]);return S.jsx(WU,{initialProps:t,children:S.jsx(e8,{children:S.jsx(M8,{initialProps:t,children:S.jsx(c8,{initialProps:t,children:S.jsx(h8,{initialProps:t,children:S.jsx(E8,{children:S.jsx(D8,{children:e})})})})})})})}function nz(n){return S.jsx(tz,Fe({},n,{children:S.jsx(ez,{initialProps:n})}))}function rz({className:n,classNames:e,showOutsideDays:t=!0,...r}){return S.jsx(nz,{showOutsideDays:t,className:It("p-3",n),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:It(ac({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:It("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:It(ac({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...o})=>S.jsx(C5,{className:It("size-4",i),...o}),IconRight:({className:i,...o})=>S.jsx(A5,{className:It("size-4",i),...o})},...r})}var Sp="Popover",[ik,kz]=na(Sp,[vp]),sd=vp(),[iz,no]=ik(Sp),sk=n=>{const{__scopePopover:e,children:t,open:r,defaultOpen:i,onOpenChange:o,modal:l=!1}=n,c=sd(e),f=T.useRef(null),[p,m]=T.useState(!1),[_,w]=oc({prop:r,defaultProp:i??!1,onChange:o,caller:Sp});return S.jsx(Vb,{...c,children:S.jsx(iz,{scope:e,contentId:Vo(),triggerRef:f,open:_,onOpenChange:w,onOpenToggle:T.useCallback(()=>w(x=>!x),[w]),hasCustomAnchor:p,onCustomAnchorAdd:T.useCallback(()=>m(!0),[]),onCustomAnchorRemove:T.useCallback(()=>m(!1),[]),modal:l,children:t})})};sk.displayName=Sp;var ok="PopoverAnchor",sz=T.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=no(ok,t),o=sd(t),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=i;return T.useEffect(()=>(l(),()=>c()),[l,c]),S.jsx(h_,{...o,...r,ref:e})});sz.displayName=ok;var ak="PopoverTrigger",lk=T.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=no(ak,t),o=sd(t),l=ft(e,i.triggerRef),c=S.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hk(i.open),...r,ref:l,onClick:st(n.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:S.jsx(h_,{asChild:!0,...o,children:c})});lk.displayName=ak;var A_="PopoverPortal",[oz,az]=ik(A_,{forceMount:void 0}),uk=n=>{const{__scopePopover:e,forceMount:t,children:r,container:i}=n,o=no(A_,e);return S.jsx(oz,{scope:e,forceMount:t,children:S.jsx(ra,{present:t||o.open,children:S.jsx(Fh,{asChild:!0,container:i,children:r})})})};uk.displayName=A_;var Rl="PopoverContent",ck=T.forwardRef((n,e)=>{const t=az(Rl,n.__scopePopover),{forceMount:r=t.forceMount,...i}=n,o=no(Rl,n.__scopePopover);return S.jsx(ra,{present:r||o.open,children:o.modal?S.jsx(uz,{...i,ref:e}):S.jsx(cz,{...i,ref:e})})});ck.displayName=Rl;var lz=Fo("PopoverContent.RemoveScroll"),uz=T.forwardRef((n,e)=>{const t=no(Rl,n.__scopePopover),r=T.useRef(null),i=ft(e,r),o=T.useRef(!1);return T.useEffect(()=>{const l=r.current;if(l)return ny(l)},[]),S.jsx(zh,{as:lz,allowPinchZoom:!0,children:S.jsx(dk,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(n.onCloseAutoFocus,l=>{var c;l.preventDefault(),o.current||(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:st(n.onPointerDownOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,p=c.button===2||f;o.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:st(n.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),cz=T.forwardRef((n,e)=>{const t=no(Rl,n.__scopePopover),r=T.useRef(!1),i=T.useRef(!1);return S.jsx(dk,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,o),o.defaultPrevented||(r.current||(c=t.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var f,p;(f=n.onInteractOutside)==null||f.call(n,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((p=t.triggerRef.current)==null?void 0:p.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),dk=T.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,..._}=n,w=no(Rl,t),x=sd(t);return ty(),S.jsx(jh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:S.jsx(Vh,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:p,onDismiss:()=>w.onOpenChange(!1),children:S.jsx(jb,{"data-state":hk(w.open),role:"dialog",id:w.contentId,...x,..._,ref:e,style:{..._.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),fk="PopoverClose",dz=T.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=no(fk,t);return S.jsx(lt.button,{type:"button",...r,ref:e,onClick:st(n.onClick,()=>i.onOpenChange(!1))})});dz.displayName=fk;var fz="PopoverArrow",hz=T.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=sd(t);return S.jsx(Fb,{...i,...r,ref:e})});hz.displayName=fz;function hk(n){return n?"open":"closed"}var pz=sk,mz=lk,gz=uk,vz=ck;function yz({...n}){return S.jsx(pz,{"data-slot":"popover",...n})}function _z({...n}){return S.jsx(mz,{"data-slot":"popover-trigger",...n})}function wz({className:n,align:e="center",sideOffset:t=4,...r}){return S.jsx(gz,{children:S.jsx(vz,{"data-slot":"popover-content",align:e,sideOffset:t,className:It("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",n),...r})})}function pk({id:n,date:e,setDate:t}){const{EditExpireDate:r}=hp(),i=new Date().setHours(0,0,0,0)>e.setHours(0,0,0,0),o=l=>{t(l),n&&r(n,l.toISOString())};return S.jsxs(yz,{children:[S.jsxs(_z,{className:"flex items-center px-2",children:[S.jsx(x5,{className:"mr-2 h-4 w-4 text-zinc-500"}),S.jsx("span",{className:`hidden sm:inline text-sm font-[Comic_Relief] 
            ${i?"text-red-400":"text-zinc-500"} `,children:to(e,"yyyy-MM-dd")})]}),S.jsx(wz,{className:"w-auto p-0",children:S.jsx(rz,{mode:"single",selected:e,onSelect:l=>{l&&o(l)},className:"rounded-md border"})})]})}function Hv({children:n,style:e}){return S.jsx("div",{className:`w-full py-2 grow ${e===1&&"max-w-[650px]"} ${e===2&&"max-w-[450px]"}`,children:S.jsx("div",{className:"overflow-hidden bg-white mx-auto border border-gray-500 rounded-lg shadow-lg px-4 pt-6 pb-8",children:S.jsx("div",{className:"sm:max-w-full",children:n})})})}function Ez(){return S.jsx(S.Fragment,{children:S.jsx(jC,{children:S.jsxs(Hv,{style:1,children:[S.jsx(YL,{}),S.jsx(j5,{}),S.jsx(r6,{})]})})})}function Tz(){return S.jsx(S.Fragment,{children:S.jsxs(jC,{children:[S.jsx(Hv,{style:2,children:S.jsx(g9,{})}),S.jsx(Hv,{style:2,children:S.jsx(p9,{})})]})})}function xz(){return S.jsx(S.Fragment,{children:S.jsx(zR,{basename:"/",children:S.jsxs(vR,{children:[S.jsx(Zg,{path:"/",element:S.jsx(Ez,{})}),S.jsx(Zg,{path:"/login",element:S.jsx(Tz,{})})]})})})}bA.createRoot(document.getElementById("root")).render(S.jsx(T.StrictMode,{children:S.jsx(Ij,{children:S.jsx(xz,{})})}));
